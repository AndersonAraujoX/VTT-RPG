const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-D37OhA36.js","assets/webworkerAll-X2NTdspC.js","assets/colorToUniform-wkx5EMlq.js","assets/WebGPURenderer-HHsrI85z.js","assets/SharedSystems-BHJdNRkb.js","assets/WebGLRenderer-Cn9lR3F9.js","assets/world.onscreen-DGWdN4Ab.js","assets/Dice-CuzEE2Cd.js","assets/world.none-BSkMWop-.js"])))=>i.map(i=>d[i]);
function $1(s,t){for(var n=0;n<t.length;n++){const l=t[n];if(typeof l!="string"&&!Array.isArray(l)){for(const r in l)if(r!=="default"&&!(r in s)){const o=Object.getOwnPropertyDescriptor(l,r);o&&Object.defineProperty(s,r,o.get?o:{enumerable:!0,get:()=>l[r]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function Ia(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var pd={exports:{}},ya={};var U0;function tx(){if(U0)return ya;U0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(l,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:s,type:l,key:u,ref:r!==void 0?r:null,props:o}}return ya.Fragment=t,ya.jsx=n,ya.jsxs=n,ya}var M0;function ex(){return M0||(M0=1,pd.exports=tx()),pd.exports}var J=ex(),yd={},Xa={},K0;function nx(){if(K0)return Xa;K0=1,Xa.byteLength=d,Xa.toByteArray=b,Xa.fromByteArray=G;for(var s=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,o=l.length;r<o;++r)s[r]=l[r],t[l.charCodeAt(r)]=r;t[45]=62,t[95]=63;function u(g){var S=g.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var V=g.indexOf("=");V===-1&&(V=S);var W=V===S?0:4-V%4;return[V,W]}function d(g){var S=u(g),V=S[0],W=S[1];return(V+W)*3/4-W}function f(g,S,V){return(S+V)*3/4-V}function b(g){var S,V=u(g),W=V[0],T=V[1],E=new n(f(g,W,T)),F=0,M=T>0?W-4:W,N;for(N=0;N<M;N+=4)S=t[g.charCodeAt(N)]<<18|t[g.charCodeAt(N+1)]<<12|t[g.charCodeAt(N+2)]<<6|t[g.charCodeAt(N+3)],E[F++]=S>>16&255,E[F++]=S>>8&255,E[F++]=S&255;return T===2&&(S=t[g.charCodeAt(N)]<<2|t[g.charCodeAt(N+1)]>>4,E[F++]=S&255),T===1&&(S=t[g.charCodeAt(N)]<<10|t[g.charCodeAt(N+1)]<<4|t[g.charCodeAt(N+2)]>>2,E[F++]=S>>8&255,E[F++]=S&255),E}function p(g){return s[g>>18&63]+s[g>>12&63]+s[g>>6&63]+s[g&63]}function y(g,S,V){for(var W,T=[],E=S;E<V;E+=3)W=(g[E]<<16&16711680)+(g[E+1]<<8&65280)+(g[E+2]&255),T.push(p(W));return T.join("")}function G(g){for(var S,V=g.length,W=V%3,T=[],E=16383,F=0,M=V-W;F<M;F+=E)T.push(y(g,F,F+E>M?M:F+E));return W===1?(S=g[V-1],T.push(s[S>>2]+s[S<<4&63]+"==")):W===2&&(S=(g[V-2]<<8)+g[V-1],T.push(s[S>>10]+s[S>>4&63]+s[S<<2&63]+"=")),T.join("")}return Xa}var fc={};var P0;function ix(){return P0||(P0=1,fc.read=function(s,t,n,l,r){var o,u,d=r*8-l-1,f=(1<<d)-1,b=f>>1,p=-7,y=n?r-1:0,G=n?-1:1,g=s[t+y];for(y+=G,o=g&(1<<-p)-1,g>>=-p,p+=d;p>0;o=o*256+s[t+y],y+=G,p-=8);for(u=o&(1<<-p)-1,o>>=-p,p+=l;p>0;u=u*256+s[t+y],y+=G,p-=8);if(o===0)o=1-b;else{if(o===f)return u?NaN:(g?-1:1)*(1/0);u=u+Math.pow(2,l),o=o-b}return(g?-1:1)*u*Math.pow(2,o-l)},fc.write=function(s,t,n,l,r,o){var u,d,f,b=o*8-r-1,p=(1<<b)-1,y=p>>1,G=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=l?0:o-1,S=l?1:-1,V=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,u=p):(u=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-u))<1&&(u--,f*=2),u+y>=1?t+=G/f:t+=G*Math.pow(2,1-y),t*f>=2&&(u++,f/=2),u+y>=p?(d=0,u=p):u+y>=1?(d=(t*f-1)*Math.pow(2,r),u=u+y):(d=t*Math.pow(2,y-1)*Math.pow(2,r),u=0));r>=8;s[n+g]=d&255,g+=S,d/=256,r-=8);for(u=u<<r|d,b+=r;b>0;s[n+g]=u&255,g+=S,u/=256,b-=8);s[n+g-S]|=V*128}),fc}var j0;function lx(){return j0||(j0=1,(function(s){const t=nx(),n=ix(),l=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=d,s.SlowBuffer=E,s.INSPECT_MAX_BYTES=50;const r=2147483647;s.kMaxLength=r,d.TYPED_ARRAY_SUPPORT=o(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const v=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(v,X),v.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function u(v){if(v>r)throw new RangeError('The value "'+v+'" is invalid for option "size"');const X=new Uint8Array(v);return Object.setPrototypeOf(X,d.prototype),X}function d(v,X,Z){if(typeof v=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(v)}return f(v,X,Z)}d.poolSize=8192;function f(v,X,Z){if(typeof v=="string")return G(v,X);if(ArrayBuffer.isView(v))return S(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(bn(v,ArrayBuffer)||v&&bn(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(bn(v,SharedArrayBuffer)||v&&bn(v.buffer,SharedArrayBuffer)))return V(v,X,Z);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=v.valueOf&&v.valueOf();if(Y!=null&&Y!==v)return d.from(Y,X,Z);const k=W(v);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return d.from(v[Symbol.toPrimitive]("string"),X,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}d.from=function(v,X,Z){return f(v,X,Z)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function b(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function p(v,X,Z){return b(v),v<=0?u(v):X!==void 0?typeof Z=="string"?u(v).fill(X,Z):u(v).fill(X):u(v)}d.alloc=function(v,X,Z){return p(v,X,Z)};function y(v){return b(v),u(v<0?0:T(v)|0)}d.allocUnsafe=function(v){return y(v)},d.allocUnsafeSlow=function(v){return y(v)};function G(v,X){if((typeof X!="string"||X==="")&&(X="utf8"),!d.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const Z=F(v,X)|0;let Y=u(Z);const k=Y.write(v,X);return k!==Z&&(Y=Y.slice(0,k)),Y}function g(v){const X=v.length<0?0:T(v.length)|0,Z=u(X);for(let Y=0;Y<X;Y+=1)Z[Y]=v[Y]&255;return Z}function S(v){if(bn(v,Uint8Array)){const X=new Uint8Array(v);return V(X.buffer,X.byteOffset,X.byteLength)}return g(v)}function V(v,X,Z){if(X<0||v.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<X+(Z||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return X===void 0&&Z===void 0?Y=new Uint8Array(v):Z===void 0?Y=new Uint8Array(v,X):Y=new Uint8Array(v,X,Z),Object.setPrototypeOf(Y,d.prototype),Y}function W(v){if(d.isBuffer(v)){const X=T(v.length)|0,Z=u(X);return Z.length===0||v.copy(Z,0,0,X),Z}if(v.length!==void 0)return typeof v.length!="number"||Ss(v.length)?u(0):g(v);if(v.type==="Buffer"&&Array.isArray(v.data))return g(v.data)}function T(v){if(v>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return v|0}function E(v){return+v!=v&&(v=0),d.alloc(+v)}d.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==d.prototype},d.compare=function(X,Z){if(bn(X,Uint8Array)&&(X=d.from(X,X.offset,X.byteLength)),bn(Z,Uint8Array)&&(Z=d.from(Z,Z.offset,Z.byteLength)),!d.isBuffer(X)||!d.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===Z)return 0;let Y=X.length,k=Z.length;for(let A=0,nt=Math.min(Y,k);A<nt;++A)if(X[A]!==Z[A]){Y=X[A],k=Z[A];break}return Y<k?-1:k<Y?1:0},d.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(X,Z){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return d.alloc(0);let Y;if(Z===void 0)for(Z=0,Y=0;Y<X.length;++Y)Z+=X[Y].length;const k=d.allocUnsafe(Z);let A=0;for(Y=0;Y<X.length;++Y){let nt=X[Y];if(bn(nt,Uint8Array))A+nt.length>k.length?(d.isBuffer(nt)||(nt=d.from(nt)),nt.copy(k,A)):Uint8Array.prototype.set.call(k,nt,A);else if(d.isBuffer(nt))nt.copy(k,A);else throw new TypeError('"list" argument must be an Array of Buffers');A+=nt.length}return k};function F(v,X){if(d.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||bn(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);const Z=v.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&Z===0)return 0;let k=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return pi(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z*2;case"hex":return Z>>>1;case"base64":return Wl(v).length;default:if(k)return Y?-1:pi(v).length;X=(""+X).toLowerCase(),k=!0}}d.byteLength=F;function M(v,X,Z){let Y=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0,X>>>=0,Z<=X))return"";for(v||(v="utf8");;)switch(v){case"hex":return et(this,X,Z);case"utf8":case"utf-8":return q(this,X,Z);case"ascii":return I(this,X,Z);case"latin1":case"binary":return at(this,X,Z);case"base64":return lt(this,X,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ht(this,X,Z);default:if(Y)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),Y=!0}}d.prototype._isBuffer=!0;function N(v,X,Z){const Y=v[X];v[X]=v[Z],v[Z]=Y}d.prototype.swap16=function(){const X=this.length;if(X%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<X;Z+=2)N(this,Z,Z+1);return this},d.prototype.swap32=function(){const X=this.length;if(X%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<X;Z+=4)N(this,Z,Z+3),N(this,Z+1,Z+2);return this},d.prototype.swap64=function(){const X=this.length;if(X%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<X;Z+=8)N(this,Z,Z+7),N(this,Z+1,Z+6),N(this,Z+2,Z+5),N(this,Z+3,Z+4);return this},d.prototype.toString=function(){const X=this.length;return X===0?"":arguments.length===0?q(this,0,X):M.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(X){if(!d.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X?!0:d.compare(this,X)===0},d.prototype.inspect=function(){let X="";const Z=s.INSPECT_MAX_BYTES;return X=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(X+=" ... "),"<Buffer "+X+">"},l&&(d.prototype[l]=d.prototype.inspect),d.prototype.compare=function(X,Z,Y,k,A){if(bn(X,Uint8Array)&&(X=d.from(X,X.offset,X.byteLength)),!d.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(Z===void 0&&(Z=0),Y===void 0&&(Y=X?X.length:0),k===void 0&&(k=0),A===void 0&&(A=this.length),Z<0||Y>X.length||k<0||A>this.length)throw new RangeError("out of range index");if(k>=A&&Z>=Y)return 0;if(k>=A)return-1;if(Z>=Y)return 1;if(Z>>>=0,Y>>>=0,k>>>=0,A>>>=0,this===X)return 0;let nt=A-k,Gt=Y-Z;const Et=Math.min(nt,Gt),Ct=this.slice(k,A),ne=X.slice(Z,Y);for(let Kt=0;Kt<Et;++Kt)if(Ct[Kt]!==ne[Kt]){nt=Ct[Kt],Gt=ne[Kt];break}return nt<Gt?-1:Gt<nt?1:0};function _(v,X,Z,Y,k){if(v.length===0)return-1;if(typeof Z=="string"?(Y=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),Z=+Z,Ss(Z)&&(Z=k?0:v.length-1),Z<0&&(Z=v.length+Z),Z>=v.length){if(k)return-1;Z=v.length-1}else if(Z<0)if(k)Z=0;else return-1;if(typeof X=="string"&&(X=d.from(X,Y)),d.isBuffer(X))return X.length===0?-1:H(v,X,Z,Y,k);if(typeof X=="number")return X=X&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(v,X,Z):Uint8Array.prototype.lastIndexOf.call(v,X,Z):H(v,[X],Z,Y,k);throw new TypeError("val must be string, number or Buffer")}function H(v,X,Z,Y,k){let A=1,nt=v.length,Gt=X.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(v.length<2||X.length<2)return-1;A=2,nt/=2,Gt/=2,Z/=2}function Et(ne,Kt){return A===1?ne[Kt]:ne.readUInt16BE(Kt*A)}let Ct;if(k){let ne=-1;for(Ct=Z;Ct<nt;Ct++)if(Et(v,Ct)===Et(X,ne===-1?0:Ct-ne)){if(ne===-1&&(ne=Ct),Ct-ne+1===Gt)return ne*A}else ne!==-1&&(Ct-=Ct-ne),ne=-1}else for(Z+Gt>nt&&(Z=nt-Gt),Ct=Z;Ct>=0;Ct--){let ne=!0;for(let Kt=0;Kt<Gt;Kt++)if(Et(v,Ct+Kt)!==Et(X,Kt)){ne=!1;break}if(ne)return Ct}return-1}d.prototype.includes=function(X,Z,Y){return this.indexOf(X,Z,Y)!==-1},d.prototype.indexOf=function(X,Z,Y){return _(this,X,Z,Y,!0)},d.prototype.lastIndexOf=function(X,Z,Y){return _(this,X,Z,Y,!1)};function ut(v,X,Z,Y){Z=Number(Z)||0;const k=v.length-Z;Y?(Y=Number(Y),Y>k&&(Y=k)):Y=k;const A=X.length;Y>A/2&&(Y=A/2);let nt;for(nt=0;nt<Y;++nt){const Gt=parseInt(X.substr(nt*2,2),16);if(Ss(Gt))return nt;v[Z+nt]=Gt}return nt}function ot(v,X,Z,Y){return yi(pi(X,v.length-Z),v,Z,Y)}function ct(v,X,Z,Y){return yi(Sl(X),v,Z,Y)}function O(v,X,Z,Y){return yi(Wl(X),v,Z,Y)}function j(v,X,Z,Y){return yi(Vl(X,v.length-Z),v,Z,Y)}d.prototype.write=function(X,Z,Y,k){if(Z===void 0)k="utf8",Y=this.length,Z=0;else if(Y===void 0&&typeof Z=="string")k=Z,Y=this.length,Z=0;else if(isFinite(Z))Z=Z>>>0,isFinite(Y)?(Y=Y>>>0,k===void 0&&(k="utf8")):(k=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const A=this.length-Z;if((Y===void 0||Y>A)&&(Y=A),X.length>0&&(Y<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");let nt=!1;for(;;)switch(k){case"hex":return ut(this,X,Z,Y);case"utf8":case"utf-8":return ot(this,X,Z,Y);case"ascii":case"latin1":case"binary":return ct(this,X,Z,Y);case"base64":return O(this,X,Z,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,X,Z,Y);default:if(nt)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),nt=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function lt(v,X,Z){return X===0&&Z===v.length?t.fromByteArray(v):t.fromByteArray(v.slice(X,Z))}function q(v,X,Z){Z=Math.min(v.length,Z);const Y=[];let k=X;for(;k<Z;){const A=v[k];let nt=null,Gt=A>239?4:A>223?3:A>191?2:1;if(k+Gt<=Z){let Et,Ct,ne,Kt;switch(Gt){case 1:A<128&&(nt=A);break;case 2:Et=v[k+1],(Et&192)===128&&(Kt=(A&31)<<6|Et&63,Kt>127&&(nt=Kt));break;case 3:Et=v[k+1],Ct=v[k+2],(Et&192)===128&&(Ct&192)===128&&(Kt=(A&15)<<12|(Et&63)<<6|Ct&63,Kt>2047&&(Kt<55296||Kt>57343)&&(nt=Kt));break;case 4:Et=v[k+1],Ct=v[k+2],ne=v[k+3],(Et&192)===128&&(Ct&192)===128&&(ne&192)===128&&(Kt=(A&15)<<18|(Et&63)<<12|(Ct&63)<<6|ne&63,Kt>65535&&Kt<1114112&&(nt=Kt))}}nt===null?(nt=65533,Gt=1):nt>65535&&(nt-=65536,Y.push(nt>>>10&1023|55296),nt=56320|nt&1023),Y.push(nt),k+=Gt}return w(Y)}const mt=4096;function w(v){const X=v.length;if(X<=mt)return String.fromCharCode.apply(String,v);let Z="",Y=0;for(;Y<X;)Z+=String.fromCharCode.apply(String,v.slice(Y,Y+=mt));return Z}function I(v,X,Z){let Y="";Z=Math.min(v.length,Z);for(let k=X;k<Z;++k)Y+=String.fromCharCode(v[k]&127);return Y}function at(v,X,Z){let Y="";Z=Math.min(v.length,Z);for(let k=X;k<Z;++k)Y+=String.fromCharCode(v[k]);return Y}function et(v,X,Z){const Y=v.length;(!X||X<0)&&(X=0),(!Z||Z<0||Z>Y)&&(Z=Y);let k="";for(let A=X;A<Z;++A)k+=Ee[v[A]];return k}function ht(v,X,Z){const Y=v.slice(X,Z);let k="";for(let A=0;A<Y.length-1;A+=2)k+=String.fromCharCode(Y[A]+Y[A+1]*256);return k}d.prototype.slice=function(X,Z){const Y=this.length;X=~~X,Z=Z===void 0?Y:~~Z,X<0?(X+=Y,X<0&&(X=0)):X>Y&&(X=Y),Z<0?(Z+=Y,Z<0&&(Z=0)):Z>Y&&(Z=Y),Z<X&&(Z=X);const k=this.subarray(X,Z);return Object.setPrototypeOf(k,d.prototype),k};function C(v,X,Z){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+X>Z)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(X,Z,Y){X=X>>>0,Z=Z>>>0,Y||C(X,Z,this.length);let k=this[X],A=1,nt=0;for(;++nt<Z&&(A*=256);)k+=this[X+nt]*A;return k},d.prototype.readUintBE=d.prototype.readUIntBE=function(X,Z,Y){X=X>>>0,Z=Z>>>0,Y||C(X,Z,this.length);let k=this[X+--Z],A=1;for(;Z>0&&(A*=256);)k+=this[X+--Z]*A;return k},d.prototype.readUint8=d.prototype.readUInt8=function(X,Z){return X=X>>>0,Z||C(X,1,this.length),this[X]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(X,Z){return X=X>>>0,Z||C(X,2,this.length),this[X]|this[X+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(X,Z){return X=X>>>0,Z||C(X,2,this.length),this[X]<<8|this[X+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(X,Z){return X=X>>>0,Z||C(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+this[X+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(X,Z){return X=X>>>0,Z||C(X,4,this.length),this[X]*16777216+(this[X+1]<<16|this[X+2]<<8|this[X+3])},d.prototype.readBigUInt64LE=Bn(function(X){X=X>>>0,Ve(X,"offset");const Z=this[X],Y=this[X+7];(Z===void 0||Y===void 0)&&de(X,this.length-8);const k=Z+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24,A=this[++X]+this[++X]*2**8+this[++X]*2**16+Y*2**24;return BigInt(k)+(BigInt(A)<<BigInt(32))}),d.prototype.readBigUInt64BE=Bn(function(X){X=X>>>0,Ve(X,"offset");const Z=this[X],Y=this[X+7];(Z===void 0||Y===void 0)&&de(X,this.length-8);const k=Z*2**24+this[++X]*2**16+this[++X]*2**8+this[++X],A=this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+Y;return(BigInt(k)<<BigInt(32))+BigInt(A)}),d.prototype.readIntLE=function(X,Z,Y){X=X>>>0,Z=Z>>>0,Y||C(X,Z,this.length);let k=this[X],A=1,nt=0;for(;++nt<Z&&(A*=256);)k+=this[X+nt]*A;return A*=128,k>=A&&(k-=Math.pow(2,8*Z)),k},d.prototype.readIntBE=function(X,Z,Y){X=X>>>0,Z=Z>>>0,Y||C(X,Z,this.length);let k=Z,A=1,nt=this[X+--k];for(;k>0&&(A*=256);)nt+=this[X+--k]*A;return A*=128,nt>=A&&(nt-=Math.pow(2,8*Z)),nt},d.prototype.readInt8=function(X,Z){return X=X>>>0,Z||C(X,1,this.length),this[X]&128?(255-this[X]+1)*-1:this[X]},d.prototype.readInt16LE=function(X,Z){X=X>>>0,Z||C(X,2,this.length);const Y=this[X]|this[X+1]<<8;return Y&32768?Y|4294901760:Y},d.prototype.readInt16BE=function(X,Z){X=X>>>0,Z||C(X,2,this.length);const Y=this[X+1]|this[X]<<8;return Y&32768?Y|4294901760:Y},d.prototype.readInt32LE=function(X,Z){return X=X>>>0,Z||C(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},d.prototype.readInt32BE=function(X,Z){return X=X>>>0,Z||C(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},d.prototype.readBigInt64LE=Bn(function(X){X=X>>>0,Ve(X,"offset");const Z=this[X],Y=this[X+7];(Z===void 0||Y===void 0)&&de(X,this.length-8);const k=this[X+4]+this[X+5]*2**8+this[X+6]*2**16+(Y<<24);return(BigInt(k)<<BigInt(32))+BigInt(Z+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24)}),d.prototype.readBigInt64BE=Bn(function(X){X=X>>>0,Ve(X,"offset");const Z=this[X],Y=this[X+7];(Z===void 0||Y===void 0)&&de(X,this.length-8);const k=(Z<<24)+this[++X]*2**16+this[++X]*2**8+this[++X];return(BigInt(k)<<BigInt(32))+BigInt(this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+Y)}),d.prototype.readFloatLE=function(X,Z){return X=X>>>0,Z||C(X,4,this.length),n.read(this,X,!0,23,4)},d.prototype.readFloatBE=function(X,Z){return X=X>>>0,Z||C(X,4,this.length),n.read(this,X,!1,23,4)},d.prototype.readDoubleLE=function(X,Z){return X=X>>>0,Z||C(X,8,this.length),n.read(this,X,!0,52,8)},d.prototype.readDoubleBE=function(X,Z){return X=X>>>0,Z||C(X,8,this.length),n.read(this,X,!1,52,8)};function B(v,X,Z,Y,k,A){if(!d.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>k||X<A)throw new RangeError('"value" argument is out of bounds');if(Z+Y>v.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(X,Z,Y,k){if(X=+X,Z=Z>>>0,Y=Y>>>0,!k){const Gt=Math.pow(2,8*Y)-1;B(this,X,Z,Y,Gt,0)}let A=1,nt=0;for(this[Z]=X&255;++nt<Y&&(A*=256);)this[Z+nt]=X/A&255;return Z+Y},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(X,Z,Y,k){if(X=+X,Z=Z>>>0,Y=Y>>>0,!k){const Gt=Math.pow(2,8*Y)-1;B(this,X,Z,Y,Gt,0)}let A=Y-1,nt=1;for(this[Z+A]=X&255;--A>=0&&(nt*=256);)this[Z+A]=X/nt&255;return Z+Y},d.prototype.writeUint8=d.prototype.writeUInt8=function(X,Z,Y){return X=+X,Z=Z>>>0,Y||B(this,X,Z,1,255,0),this[Z]=X&255,Z+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(X,Z,Y){return X=+X,Z=Z>>>0,Y||B(this,X,Z,2,65535,0),this[Z]=X&255,this[Z+1]=X>>>8,Z+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(X,Z,Y){return X=+X,Z=Z>>>0,Y||B(this,X,Z,2,65535,0),this[Z]=X>>>8,this[Z+1]=X&255,Z+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(X,Z,Y){return X=+X,Z=Z>>>0,Y||B(this,X,Z,4,4294967295,0),this[Z+3]=X>>>24,this[Z+2]=X>>>16,this[Z+1]=X>>>8,this[Z]=X&255,Z+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(X,Z,Y){return X=+X,Z=Z>>>0,Y||B(this,X,Z,4,4294967295,0),this[Z]=X>>>24,this[Z+1]=X>>>16,this[Z+2]=X>>>8,this[Z+3]=X&255,Z+4};function rt(v,X,Z,Y,k){Qe(X,Y,k,v,Z,7);let A=Number(X&BigInt(4294967295));v[Z++]=A,A=A>>8,v[Z++]=A,A=A>>8,v[Z++]=A,A=A>>8,v[Z++]=A;let nt=Number(X>>BigInt(32)&BigInt(4294967295));return v[Z++]=nt,nt=nt>>8,v[Z++]=nt,nt=nt>>8,v[Z++]=nt,nt=nt>>8,v[Z++]=nt,Z}function dt(v,X,Z,Y,k){Qe(X,Y,k,v,Z,7);let A=Number(X&BigInt(4294967295));v[Z+7]=A,A=A>>8,v[Z+6]=A,A=A>>8,v[Z+5]=A,A=A>>8,v[Z+4]=A;let nt=Number(X>>BigInt(32)&BigInt(4294967295));return v[Z+3]=nt,nt=nt>>8,v[Z+2]=nt,nt=nt>>8,v[Z+1]=nt,nt=nt>>8,v[Z]=nt,Z+8}d.prototype.writeBigUInt64LE=Bn(function(X,Z=0){return rt(this,X,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Bn(function(X,Z=0){return dt(this,X,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(X,Z,Y,k){if(X=+X,Z=Z>>>0,!k){const Et=Math.pow(2,8*Y-1);B(this,X,Z,Y,Et-1,-Et)}let A=0,nt=1,Gt=0;for(this[Z]=X&255;++A<Y&&(nt*=256);)X<0&&Gt===0&&this[Z+A-1]!==0&&(Gt=1),this[Z+A]=(X/nt>>0)-Gt&255;return Z+Y},d.prototype.writeIntBE=function(X,Z,Y,k){if(X=+X,Z=Z>>>0,!k){const Et=Math.pow(2,8*Y-1);B(this,X,Z,Y,Et-1,-Et)}let A=Y-1,nt=1,Gt=0;for(this[Z+A]=X&255;--A>=0&&(nt*=256);)X<0&&Gt===0&&this[Z+A+1]!==0&&(Gt=1),this[Z+A]=(X/nt>>0)-Gt&255;return Z+Y},d.prototype.writeInt8=function(X,Z,Y){return X=+X,Z=Z>>>0,Y||B(this,X,Z,1,127,-128),X<0&&(X=255+X+1),this[Z]=X&255,Z+1},d.prototype.writeInt16LE=function(X,Z,Y){return X=+X,Z=Z>>>0,Y||B(this,X,Z,2,32767,-32768),this[Z]=X&255,this[Z+1]=X>>>8,Z+2},d.prototype.writeInt16BE=function(X,Z,Y){return X=+X,Z=Z>>>0,Y||B(this,X,Z,2,32767,-32768),this[Z]=X>>>8,this[Z+1]=X&255,Z+2},d.prototype.writeInt32LE=function(X,Z,Y){return X=+X,Z=Z>>>0,Y||B(this,X,Z,4,2147483647,-2147483648),this[Z]=X&255,this[Z+1]=X>>>8,this[Z+2]=X>>>16,this[Z+3]=X>>>24,Z+4},d.prototype.writeInt32BE=function(X,Z,Y){return X=+X,Z=Z>>>0,Y||B(this,X,Z,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[Z]=X>>>24,this[Z+1]=X>>>16,this[Z+2]=X>>>8,this[Z+3]=X&255,Z+4},d.prototype.writeBigInt64LE=Bn(function(X,Z=0){return rt(this,X,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Bn(function(X,Z=0){return dt(this,X,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function bt(v,X,Z,Y,k,A){if(Z+Y>v.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function xt(v,X,Z,Y,k){return X=+X,Z=Z>>>0,k||bt(v,X,Z,4),n.write(v,X,Z,Y,23,4),Z+4}d.prototype.writeFloatLE=function(X,Z,Y){return xt(this,X,Z,!0,Y)},d.prototype.writeFloatBE=function(X,Z,Y){return xt(this,X,Z,!1,Y)};function vt(v,X,Z,Y,k){return X=+X,Z=Z>>>0,k||bt(v,X,Z,8),n.write(v,X,Z,Y,52,8),Z+8}d.prototype.writeDoubleLE=function(X,Z,Y){return vt(this,X,Z,!0,Y)},d.prototype.writeDoubleBE=function(X,Z,Y){return vt(this,X,Z,!1,Y)},d.prototype.copy=function(X,Z,Y,k){if(!d.isBuffer(X))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!k&&k!==0&&(k=this.length),Z>=X.length&&(Z=X.length),Z||(Z=0),k>0&&k<Y&&(k=Y),k===Y||X.length===0||this.length===0)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),X.length-Z<k-Y&&(k=X.length-Z+Y);const A=k-Y;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Z,Y,k):Uint8Array.prototype.set.call(X,this.subarray(Y,k),Z),A},d.prototype.fill=function(X,Z,Y,k){if(typeof X=="string"){if(typeof Z=="string"?(k=Z,Z=0,Y=this.length):typeof Y=="string"&&(k=Y,Y=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!d.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(X.length===1){const nt=X.charCodeAt(0);(k==="utf8"&&nt<128||k==="latin1")&&(X=nt)}}else typeof X=="number"?X=X&255:typeof X=="boolean"&&(X=Number(X));if(Z<0||this.length<Z||this.length<Y)throw new RangeError("Out of range index");if(Y<=Z)return this;Z=Z>>>0,Y=Y===void 0?this.length:Y>>>0,X||(X=0);let A;if(typeof X=="number")for(A=Z;A<Y;++A)this[A]=X;else{const nt=d.isBuffer(X)?X:d.from(X,k),Gt=nt.length;if(Gt===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(A=0;A<Y-Z;++A)this[A+Z]=nt[A%Gt]}return this};const It={};function Tt(v,X,Z){It[v]=class extends Z{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${v}]`,this.stack,delete this.name}get code(){return v}set code(k){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:k,writable:!0})}toString(){return`${this.name} [${v}]: ${this.message}`}}}Tt("ERR_BUFFER_OUT_OF_BOUNDS",function(v){return v?`${v} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Tt("ERR_INVALID_ARG_TYPE",function(v,X){return`The "${v}" argument must be of type number. Received type ${typeof X}`},TypeError),Tt("ERR_OUT_OF_RANGE",function(v,X,Z){let Y=`The value of "${v}" is out of range.`,k=Z;return Number.isInteger(Z)&&Math.abs(Z)>2**32?k=ln(String(Z)):typeof Z=="bigint"&&(k=String(Z),(Z>BigInt(2)**BigInt(32)||Z<-(BigInt(2)**BigInt(32)))&&(k=ln(k)),k+="n"),Y+=` It must be ${X}. Received ${k}`,Y},RangeError);function ln(v){let X="",Z=v.length;const Y=v[0]==="-"?1:0;for(;Z>=Y+4;Z-=3)X=`_${v.slice(Z-3,Z)}${X}`;return`${v.slice(0,Z)}${X}`}function zn(v,X,Z){Ve(X,"offset"),(v[X]===void 0||v[X+Z]===void 0)&&de(X,v.length-(Z+1))}function Qe(v,X,Z,Y,k,A){if(v>Z||v<X){const nt=typeof X=="bigint"?"n":"";let Gt;throw X===0||X===BigInt(0)?Gt=`>= 0${nt} and < 2${nt} ** ${(A+1)*8}${nt}`:Gt=`>= -(2${nt} ** ${(A+1)*8-1}${nt}) and < 2 ** ${(A+1)*8-1}${nt}`,new It.ERR_OUT_OF_RANGE("value",Gt,v)}zn(Y,k,A)}function Ve(v,X){if(typeof v!="number")throw new It.ERR_INVALID_ARG_TYPE(X,"number",v)}function de(v,X,Z){throw Math.floor(v)!==v?(Ve(v,Z),new It.ERR_OUT_OF_RANGE("offset","an integer",v)):X<0?new It.ERR_BUFFER_OUT_OF_BOUNDS:new It.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${X}`,v)}const sn=/[^+/0-9A-Za-z-_]/g;function ji(v){if(v=v.split("=")[0],v=v.trim().replace(sn,""),v.length<2)return"";for(;v.length%4!==0;)v=v+"=";return v}function pi(v,X){X=X||1/0;let Z;const Y=v.length;let k=null;const A=[];for(let nt=0;nt<Y;++nt){if(Z=v.charCodeAt(nt),Z>55295&&Z<57344){if(!k){if(Z>56319){(X-=3)>-1&&A.push(239,191,189);continue}else if(nt+1===Y){(X-=3)>-1&&A.push(239,191,189);continue}k=Z;continue}if(Z<56320){(X-=3)>-1&&A.push(239,191,189),k=Z;continue}Z=(k-55296<<10|Z-56320)+65536}else k&&(X-=3)>-1&&A.push(239,191,189);if(k=null,Z<128){if((X-=1)<0)break;A.push(Z)}else if(Z<2048){if((X-=2)<0)break;A.push(Z>>6|192,Z&63|128)}else if(Z<65536){if((X-=3)<0)break;A.push(Z>>12|224,Z>>6&63|128,Z&63|128)}else if(Z<1114112){if((X-=4)<0)break;A.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,Z&63|128)}else throw new Error("Invalid code point")}return A}function Sl(v){const X=[];for(let Z=0;Z<v.length;++Z)X.push(v.charCodeAt(Z)&255);return X}function Vl(v,X){let Z,Y,k;const A=[];for(let nt=0;nt<v.length&&!((X-=2)<0);++nt)Z=v.charCodeAt(nt),Y=Z>>8,k=Z%256,A.push(k),A.push(Y);return A}function Wl(v){return t.toByteArray(ji(v))}function yi(v,X,Z,Y){let k;for(k=0;k<Y&&!(k+Z>=X.length||k>=v.length);++k)X[k+Z]=v[k];return k}function bn(v,X){return v instanceof X||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===X.name}function Ss(v){return v!==v}const Ee=(function(){const v="0123456789abcdef",X=new Array(256);for(let Z=0;Z<16;++Z){const Y=Z*16;for(let k=0;k<16;++k)X[Y+k]=v[Z]+v[k]}return X})();function Bn(v){return typeof BigInt>"u"?Da:v}function Da(){throw new Error("BigInt not supported")}})(yd)),yd}var sx=lx();window.global=window;window.Buffer=sx.Buffer;window.process={env:{}};var Xd={exports:{}},Vt={};var Q0;function ax(){if(Q0)return Vt;Q0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),G=Symbol.iterator;function g(C){return C===null||typeof C!="object"?null:(C=G&&C[G]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,W={};function T(C,B,rt){this.props=C,this.context=B,this.refs=W,this.updater=rt||S}T.prototype.isReactComponent={},T.prototype.setState=function(C,B){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,B,"setState")},T.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function E(){}E.prototype=T.prototype;function F(C,B,rt){this.props=C,this.context=B,this.refs=W,this.updater=rt||S}var M=F.prototype=new E;M.constructor=F,V(M,T.prototype),M.isPureReactComponent=!0;var N=Array.isArray;function _(){}var H={H:null,A:null,T:null,S:null},ut=Object.prototype.hasOwnProperty;function ot(C,B,rt){var dt=rt.ref;return{$$typeof:s,type:C,key:B,ref:dt!==void 0?dt:null,props:rt}}function ct(C,B){return ot(C.type,B,C.props)}function O(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function j(C){var B={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(rt){return B[rt]})}var lt=/\/+/g;function q(C,B){return typeof C=="object"&&C!==null&&C.key!=null?j(""+C.key):B.toString(36)}function mt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(_,_):(C.status="pending",C.then(function(B){C.status==="pending"&&(C.status="fulfilled",C.value=B)},function(B){C.status==="pending"&&(C.status="rejected",C.reason=B)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function w(C,B,rt,dt,bt){var xt=typeof C;(xt==="undefined"||xt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(xt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case s:case t:vt=!0;break;case p:return vt=C._init,w(vt(C._payload),B,rt,dt,bt)}}if(vt)return bt=bt(C),vt=dt===""?"."+q(C,0):dt,N(bt)?(rt="",vt!=null&&(rt=vt.replace(lt,"$&/")+"/"),w(bt,B,rt,"",function(ln){return ln})):bt!=null&&(O(bt)&&(bt=ct(bt,rt+(bt.key==null||C&&C.key===bt.key?"":(""+bt.key).replace(lt,"$&/")+"/")+vt)),B.push(bt)),1;vt=0;var It=dt===""?".":dt+":";if(N(C))for(var Tt=0;Tt<C.length;Tt++)dt=C[Tt],xt=It+q(dt,Tt),vt+=w(dt,B,rt,xt,bt);else if(Tt=g(C),typeof Tt=="function")for(C=Tt.call(C),Tt=0;!(dt=C.next()).done;)dt=dt.value,xt=It+q(dt,Tt++),vt+=w(dt,B,rt,xt,bt);else if(xt==="object"){if(typeof C.then=="function")return w(mt(C),B,rt,dt,bt);throw B=String(C),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return vt}function I(C,B,rt){if(C==null)return C;var dt=[],bt=0;return w(C,dt,"","",function(xt){return B.call(rt,xt,bt++)}),dt}function at(C){if(C._status===-1){var B=C._result;B=B(),B.then(function(rt){(C._status===0||C._status===-1)&&(C._status=1,C._result=rt)},function(rt){(C._status===0||C._status===-1)&&(C._status=2,C._result=rt)}),C._status===-1&&(C._status=0,C._result=B)}if(C._status===1)return C._result.default;throw C._result}var et=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ht={map:I,forEach:function(C,B,rt){I(C,function(){B.apply(this,arguments)},rt)},count:function(C){var B=0;return I(C,function(){B++}),B},toArray:function(C){return I(C,function(B){return B})||[]},only:function(C){if(!O(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Vt.Activity=y,Vt.Children=ht,Vt.Component=T,Vt.Fragment=n,Vt.Profiler=r,Vt.PureComponent=F,Vt.StrictMode=l,Vt.Suspense=f,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return H.H.useMemoCache(C)}},Vt.cache=function(C){return function(){return C.apply(null,arguments)}},Vt.cacheSignal=function(){return null},Vt.cloneElement=function(C,B,rt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var dt=V({},C.props),bt=C.key;if(B!=null)for(xt in B.key!==void 0&&(bt=""+B.key),B)!ut.call(B,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&B.ref===void 0||(dt[xt]=B[xt]);var xt=arguments.length-2;if(xt===1)dt.children=rt;else if(1<xt){for(var vt=Array(xt),It=0;It<xt;It++)vt[It]=arguments[It+2];dt.children=vt}return ot(C.type,bt,dt)},Vt.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},Vt.createElement=function(C,B,rt){var dt,bt={},xt=null;if(B!=null)for(dt in B.key!==void 0&&(xt=""+B.key),B)ut.call(B,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(bt[dt]=B[dt]);var vt=arguments.length-2;if(vt===1)bt.children=rt;else if(1<vt){for(var It=Array(vt),Tt=0;Tt<vt;Tt++)It[Tt]=arguments[Tt+2];bt.children=It}if(C&&C.defaultProps)for(dt in vt=C.defaultProps,vt)bt[dt]===void 0&&(bt[dt]=vt[dt]);return ot(C,xt,bt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(C){return{$$typeof:d,render:C}},Vt.isValidElement=O,Vt.lazy=function(C){return{$$typeof:p,_payload:{_status:-1,_result:C},_init:at}},Vt.memo=function(C,B){return{$$typeof:b,type:C,compare:B===void 0?null:B}},Vt.startTransition=function(C){var B=H.T,rt={};H.T=rt;try{var dt=C(),bt=H.S;bt!==null&&bt(rt,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(_,et)}catch(xt){et(xt)}finally{B!==null&&rt.types!==null&&(B.types=rt.types),H.T=B}},Vt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Vt.use=function(C){return H.H.use(C)},Vt.useActionState=function(C,B,rt){return H.H.useActionState(C,B,rt)},Vt.useCallback=function(C,B){return H.H.useCallback(C,B)},Vt.useContext=function(C){return H.H.useContext(C)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(C,B){return H.H.useDeferredValue(C,B)},Vt.useEffect=function(C,B){return H.H.useEffect(C,B)},Vt.useEffectEvent=function(C){return H.H.useEffectEvent(C)},Vt.useId=function(){return H.H.useId()},Vt.useImperativeHandle=function(C,B,rt){return H.H.useImperativeHandle(C,B,rt)},Vt.useInsertionEffect=function(C,B){return H.H.useInsertionEffect(C,B)},Vt.useLayoutEffect=function(C,B){return H.H.useLayoutEffect(C,B)},Vt.useMemo=function(C,B){return H.H.useMemo(C,B)},Vt.useOptimistic=function(C,B){return H.H.useOptimistic(C,B)},Vt.useReducer=function(C,B,rt){return H.H.useReducer(C,B,rt)},Vt.useRef=function(C){return H.H.useRef(C)},Vt.useState=function(C){return H.H.useState(C)},Vt.useSyncExternalStore=function(C,B,rt){return H.H.useSyncExternalStore(C,B,rt)},Vt.useTransition=function(){return H.H.useTransition()},Vt.version="19.2.4",Vt}var I0;function Vh(){return I0||(I0=1,Xd.exports=ax()),Xd.exports}var Xt=Vh();const Ya=Ia(Xt);var Zd={exports:{}},Za={},xd={exports:{}},gd={};var A0;function rx(){return A0||(A0=1,(function(s){function t(w,I){var at=w.length;w.push(I);t:for(;0<at;){var et=at-1>>>1,ht=w[et];if(0<r(ht,I))w[et]=I,w[at]=ht,at=et;else break t}}function n(w){return w.length===0?null:w[0]}function l(w){if(w.length===0)return null;var I=w[0],at=w.pop();if(at!==I){w[0]=at;t:for(var et=0,ht=w.length,C=ht>>>1;et<C;){var B=2*(et+1)-1,rt=w[B],dt=B+1,bt=w[dt];if(0>r(rt,at))dt<ht&&0>r(bt,rt)?(w[et]=bt,w[dt]=at,et=dt):(w[et]=rt,w[B]=at,et=B);else if(dt<ht&&0>r(bt,at))w[et]=bt,w[dt]=at,et=dt;else break t}}return I}function r(w,I){var at=w.sortIndex-I.sortIndex;return at!==0?at:w.id-I.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();s.unstable_now=function(){return u.now()-d}}var f=[],b=[],p=1,y=null,G=3,g=!1,S=!1,V=!1,W=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function M(w){for(var I=n(b);I!==null;){if(I.callback===null)l(b);else if(I.startTime<=w)l(b),I.sortIndex=I.expirationTime,t(f,I);else break;I=n(b)}}function N(w){if(V=!1,M(w),!S)if(n(f)!==null)S=!0,_||(_=!0,j());else{var I=n(b);I!==null&&mt(N,I.startTime-w)}}var _=!1,H=-1,ut=5,ot=-1;function ct(){return W?!0:!(s.unstable_now()-ot<ut)}function O(){if(W=!1,_){var w=s.unstable_now();ot=w;var I=!0;try{t:{S=!1,V&&(V=!1,E(H),H=-1),g=!0;var at=G;try{e:{for(M(w),y=n(f);y!==null&&!(y.expirationTime>w&&ct());){var et=y.callback;if(typeof et=="function"){y.callback=null,G=y.priorityLevel;var ht=et(y.expirationTime<=w);if(w=s.unstable_now(),typeof ht=="function"){y.callback=ht,M(w),I=!0;break e}y===n(f)&&l(f),M(w)}else l(f);y=n(f)}if(y!==null)I=!0;else{var C=n(b);C!==null&&mt(N,C.startTime-w),I=!1}}break t}finally{y=null,G=at,g=!1}I=void 0}}finally{I?j():_=!1}}}var j;if(typeof F=="function")j=function(){F(O)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,q=lt.port2;lt.port1.onmessage=O,j=function(){q.postMessage(null)}}else j=function(){T(O,0)};function mt(w,I){H=T(function(){w(s.unstable_now())},I)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(w){w.callback=null},s.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ut=0<w?Math.floor(1e3/w):5},s.unstable_getCurrentPriorityLevel=function(){return G},s.unstable_next=function(w){switch(G){case 1:case 2:case 3:var I=3;break;default:I=G}var at=G;G=I;try{return w()}finally{G=at}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(w,I){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var at=G;G=w;try{return I()}finally{G=at}},s.unstable_scheduleCallback=function(w,I,at){var et=s.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?et+at:et):at=et,w){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=at+ht,w={id:p++,callback:I,priorityLevel:w,startTime:at,expirationTime:ht,sortIndex:-1},at>et?(w.sortIndex=at,t(b,w),n(f)===null&&w===n(b)&&(V?(E(H),H=-1):V=!0,mt(N,at-et))):(w.sortIndex=ht,t(f,w),S||g||(S=!0,_||(_=!0,j()))),w},s.unstable_shouldYield=ct,s.unstable_wrapCallback=function(w){var I=G;return function(){var at=G;G=I;try{return w.apply(this,arguments)}finally{G=at}}}})(gd)),gd}var D0;function cx(){return D0||(D0=1,xd.exports=rx()),xd.exports}var Gd={exports:{}},Te={};var O0;function ox(){if(O0)return Te;O0=1;var s=Vh();function t(f){var b="https://react.dev/errors/"+f;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)b+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var l={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,b,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:b,implementation:p}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,b){if(f==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Te.createPortal=function(f,b){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return o(f,b,null,p)},Te.flushSync=function(f){var b=u.T,p=l.p;try{if(u.T=null,l.p=2,f)return f()}finally{u.T=b,l.p=p,l.d.f()}},Te.preconnect=function(f,b){typeof f=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,l.d.C(f,b))},Te.prefetchDNS=function(f){typeof f=="string"&&l.d.D(f)},Te.preinit=function(f,b){if(typeof f=="string"&&b&&typeof b.as=="string"){var p=b.as,y=d(p,b.crossOrigin),G=typeof b.integrity=="string"?b.integrity:void 0,g=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;p==="style"?l.d.S(f,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:y,integrity:G,fetchPriority:g}):p==="script"&&l.d.X(f,{crossOrigin:y,integrity:G,fetchPriority:g,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Te.preinitModule=function(f,b){if(typeof f=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var p=d(b.as,b.crossOrigin);l.d.M(f,{crossOrigin:p,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&l.d.M(f)},Te.preload=function(f,b){if(typeof f=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var p=b.as,y=d(p,b.crossOrigin);l.d.L(f,p,{crossOrigin:y,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Te.preloadModule=function(f,b){if(typeof f=="string")if(b){var p=d(b.as,b.crossOrigin);l.d.m(f,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:p,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else l.d.m(f)},Te.requestFormReset=function(f){l.d.r(f)},Te.unstable_batchedUpdates=function(f,b){return f(b)},Te.useFormState=function(f,b,p){return u.H.useFormState(f,b,p)},Te.useFormStatus=function(){return u.H.useHostTransitionStatus()},Te.version="19.2.4",Te}var q0;function ux(){if(q0)return Gd.exports;q0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gd.exports=ox(),Gd.exports}var $0;function dx(){if($0)return Za;$0=1;var s=cx(),t=Vh(),n=ux();function l(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function u(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function f(e){if(o(e)!==e)throw Error(l(188))}function b(e){var i=e.alternate;if(!i){if(i=o(e),i===null)throw Error(l(188));return i!==e?null:e}for(var a=e,c=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return f(h),e;if(m===c)return f(h),i;m=m.sibling}throw Error(l(188))}if(a.return!==c.return)a=h,c=m;else{for(var x=!1,R=h.child;R;){if(R===a){x=!0,a=h,c=m;break}if(R===c){x=!0,c=h,a=m;break}R=R.sibling}if(!x){for(R=m.child;R;){if(R===a){x=!0,a=m,c=h;break}if(R===c){x=!0,c=m,a=h;break}R=R.sibling}if(!x)throw Error(l(189))}}if(a.alternate!==c)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:i}function p(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=p(e),i!==null)return i;e=e.sibling}return null}var y=Object.assign,G=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),F=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),ot=Symbol.for("react.activity"),ct=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var lt=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case T:return"Profiler";case W:return"StrictMode";case N:return"Suspense";case _:return"SuspenseList";case ot:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case F:return e.displayName||"Context";case E:return(e._context.displayName||"Context")+".Consumer";case M:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return i=e.displayName||null,i!==null?i:q(e.type)||"Memo";case ut:i=e._payload,e=e._init;try{return q(e(i))}catch{}}return null}var mt=Array.isArray,w=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},et=[],ht=-1;function C(e){return{current:e}}function B(e){0>ht||(e.current=et[ht],et[ht]=null,ht--)}function rt(e,i){ht++,et[ht]=e.current,e.current=i}var dt=C(null),bt=C(null),xt=C(null),vt=C(null);function It(e,i){switch(rt(xt,i),rt(bt,e),rt(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?d0(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=d0(i),e=h0(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(dt),rt(dt,e)}function Tt(){B(dt),B(bt),B(xt)}function ln(e){e.memoizedState!==null&&rt(vt,e);var i=dt.current,a=h0(i,e.type);i!==a&&(rt(bt,e),rt(dt,a))}function zn(e){bt.current===e&&(B(dt),B(bt)),vt.current===e&&(B(vt),fa._currentValue=at)}var Qe,Ve;function de(e){if(Qe===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Qe=i&&i[1]||"",Ve=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+e+Ve}var sn=!1;function ji(e,i){if(!e||sn)return"";sn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(D){var Q=D}Reflect.construct(e,[],st)}else{try{st.call()}catch(D){Q=D}e.call(st.prototype)}}else{try{throw Error()}catch(D){Q=D}(st=e())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(D){if(D&&Q&&typeof D.stack=="string")return[D.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),x=m[0],R=m[1];if(x&&R){var L=x.split(`
`),P=R.split(`
`);for(h=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(c===L.length||h===P.length)for(c=L.length-1,h=P.length-1;1<=c&&0<=h&&L[c]!==P[h];)h--;for(;1<=c&&0<=h;c--,h--)if(L[c]!==P[h]){if(c!==1||h!==1)do if(c--,h--,0>h||L[c]!==P[h]){var tt=`
`+L[c].replace(" at new "," at ");return e.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",e.displayName)),tt}while(1<=c&&0<=h);break}}}finally{sn=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?de(a):""}function pi(e,i){switch(e.tag){case 26:case 27:case 5:return de(e.type);case 16:return de("Lazy");case 13:return e.child!==i&&i!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return ji(e.type,!1);case 11:return ji(e.type.render,!1);case 1:return ji(e.type,!0);case 31:return de("Activity");default:return""}}function Sl(e){try{var i="",a=null;do i+=pi(e,a),a=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Vl=Object.prototype.hasOwnProperty,Wl=s.unstable_scheduleCallback,yi=s.unstable_cancelCallback,bn=s.unstable_shouldYield,Ss=s.unstable_requestPaint,Ee=s.unstable_now,Bn=s.unstable_getCurrentPriorityLevel,Da=s.unstable_ImmediatePriority,v=s.unstable_UserBlockingPriority,X=s.unstable_NormalPriority,Z=s.unstable_LowPriority,Y=s.unstable_IdlePriority,k=s.log,A=s.unstable_setDisableYieldValue,nt=null,Gt=null;function Et(e){if(typeof k=="function"&&A(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(nt,e)}catch{}}var Ct=Math.clz32?Math.clz32:B9,ne=Math.log,Kt=Math.LN2;function B9(e){return e>>>=0,e===0?32:31-(ne(e)/Kt|0)|0}var Oa=256,qa=262144,$a=4194304;function Qi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tr(e,i,a){var c=e.pendingLanes;if(c===0)return 0;var h=0,m=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var R=c&134217727;return R!==0?(c=R&~m,c!==0?h=Qi(c):(x&=R,x!==0?h=Qi(x):a||(a=R&~e,a!==0&&(h=Qi(a))))):(R=c&~m,R!==0?h=Qi(R):x!==0?h=Qi(x):a||(a=c&~e,a!==0&&(h=Qi(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function Vs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function E9(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ph(){var e=$a;return $a<<=1,($a&62914560)===0&&($a=4194304),e}function io(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ws(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function k9(e,i,a,c,h,m){var x=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var R=e.entanglements,L=e.expirationTimes,P=e.hiddenUpdates;for(a=x&~a;0<a;){var tt=31-Ct(a),st=1<<tt;R[tt]=0,L[tt]=-1;var Q=P[tt];if(Q!==null)for(P[tt]=null,tt=0;tt<Q.length;tt++){var D=Q[tt];D!==null&&(D.lane&=-536870913)}a&=~st}c!==0&&jh(e,c,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(x&~i))}function jh(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Ct(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|a&261930}function Qh(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var c=31-Ct(a),h=1<<c;h&i|e[c]&i&&(e[c]|=i),a&=~h}}function Ih(e,i){var a=i&-i;return a=(a&42)!==0?1:lo(a),(a&(e.suspendedLanes|i))!==0?0:a}function lo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function so(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ah(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:T0(e.type))}function Dh(e,i){var a=I.p;try{return I.p=e,i()}finally{I.p=a}}var Xi=Math.random().toString(36).slice(2),We="__reactFiber$"+Xi,Ie="__reactProps$"+Xi,Yl="__reactContainer$"+Xi,ao="__reactEvents$"+Xi,U9="__reactListeners$"+Xi,M9="__reactHandles$"+Xi,Oh="__reactResources$"+Xi,Ys="__reactMarker$"+Xi;function ro(e){delete e[We],delete e[Ie],delete e[ao],delete e[U9],delete e[M9]}function Cl(e){var i=e[We];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Yl]||a[We]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Z0(e);e!==null;){if(a=e[We])return a;e=Z0(e)}return i}e=a,a=e.parentNode}return null}function Jl(e){if(e=e[We]||e[Yl]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Cs(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(l(33))}function Ll(e){var i=e[Oh];return i||(i=e[Oh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Re(e){e[Ys]=!0}var qh=new Set,$h={};function Ii(e,i){Nl(e,i),Nl(e+"Capture",i)}function Nl(e,i){for($h[e]=i,e=0;e<i.length;e++)qh.add(i[e])}var K9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tf={},ef={};function P9(e){return Vl.call(ef,e)?!0:Vl.call(tf,e)?!1:K9.test(e)?ef[e]=!0:(tf[e]=!0,!1)}function er(e,i,a){if(P9(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function nr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Qn(e,i,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+c)}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nf(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function j9(e,i,a){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,m=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(x){a=""+x,m.call(this,x)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function co(e){if(!e._valueTracker){var i=nf(e)?"checked":"value";e._valueTracker=j9(e,i,""+e[i])}}function lf(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return e&&(c=nf(e)?e.checked?"true":"false":e.value),e=c,e!==a?(i.setValue(e),!0):!1}function ir(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Q9=/[\n"\\]/g;function yn(e){return e.replace(Q9,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function oo(e,i,a,c,h,m,x,R){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),i!=null?x==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+pn(i)):e.value!==""+pn(i)&&(e.value=""+pn(i)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),i!=null?uo(e,x,pn(i)):a!=null?uo(e,x,pn(a)):c!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+pn(R):e.removeAttribute("name")}function sf(e,i,a,c,h,m,x,R){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){co(e);return}a=a!=null?""+pn(a):"",i=i!=null?""+pn(i):a,R||i===e.value||(e.value=i),e.defaultValue=i}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=R?e.checked:!!c,e.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),co(e)}function uo(e,i,a){i==="number"&&ir(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function wl(e,i,a,c){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&c&&(e[a].defaultSelected=!0)}else{for(a=""+pn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function af(e,i,a){if(i!=null&&(i=""+pn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+pn(a):""}function rf(e,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(l(92));if(mt(c)){if(1<c.length)throw Error(l(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=pn(i),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c),co(e)}function Hl(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var I9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cf(e,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,a):typeof a!="number"||a===0||I9.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function of(e,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var h in i)c=i[h],i.hasOwnProperty(h)&&a[h]!==c&&cf(e,h,c)}else for(var m in i)i.hasOwnProperty(m)&&cf(e,m,i[m])}function ho(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),D9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lr(e){return D9.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function In(){}var fo=null;function mo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tl=null,Fl=null;function uf(e){var i=Jl(e);if(i&&(e=i.stateNode)){var a=e[Ie]||null;t:switch(e=i.stateNode,i.type){case"input":if(oo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==e&&c.form===e.form){var h=c[Ie]||null;if(!h)throw Error(l(90));oo(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===e.form&&lf(c)}break t;case"textarea":af(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&wl(e,!!a.multiple,i,!1)}}}var bo=!1;function df(e,i,a){if(bo)return e(i,a);bo=!0;try{var c=e(i);return c}finally{if(bo=!1,(Tl!==null||Fl!==null)&&(Pr(),Tl&&(i=Tl,e=Fl,Fl=Tl=null,uf(i),e)))for(i=0;i<e.length;i++)uf(e[i])}}function Js(e,i){var a=e.stateNode;if(a===null)return null;var c=a[Ie]||null;if(c===null)return null;a=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=!1;if(An)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){po=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{po=!1}var Zi=null,yo=null,sr=null;function hf(){if(sr)return sr;var e,i=yo,a=i.length,c,h="value"in Zi?Zi.value:Zi.textContent,m=h.length;for(e=0;e<a&&i[e]===h[e];e++);var x=a-e;for(c=1;c<=x&&i[a-c]===h[m-c];c++);return sr=h.slice(e,1<c?1-c:void 0)}function ar(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function rr(){return!0}function ff(){return!1}function Ae(e){function i(a,c,h,m,x){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(a=e[R],this[R]=a?a(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?rr:ff,this.isPropagationStopped=ff,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),i}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=Ae(Ai),Ns=y({},Ai,{view:0,detail:0}),O9=Ae(Ns),Xo,Zo,ws,or=y({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ws&&(ws&&e.type==="mousemove"?(Xo=e.screenX-ws.screenX,Zo=e.screenY-ws.screenY):Zo=Xo=0,ws=e),Xo)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),mf=Ae(or),q9=y({},or,{dataTransfer:0}),$9=Ae(q9),tZ=y({},Ns,{relatedTarget:0}),xo=Ae(tZ),eZ=y({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),nZ=Ae(eZ),iZ=y({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lZ=Ae(iZ),sZ=y({},Ai,{data:0}),bf=Ae(sZ),aZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oZ(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=cZ[e])?!!i[e]:!1}function go(){return oZ}var uZ=y({},Ns,{key:function(e){if(e.key){var i=aZ[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(e){return e.type==="keypress"?ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dZ=Ae(uZ),hZ=y({},or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pf=Ae(hZ),fZ=y({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),mZ=Ae(fZ),bZ=y({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),pZ=Ae(bZ),yZ=y({},or,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XZ=Ae(yZ),ZZ=y({},Ai,{newState:0,oldState:0}),xZ=Ae(ZZ),gZ=[9,13,27,32],Go=An&&"CompositionEvent"in window,Hs=null;An&&"documentMode"in document&&(Hs=document.documentMode);var GZ=An&&"TextEvent"in window&&!Hs,yf=An&&(!Go||Hs&&8<Hs&&11>=Hs),Xf=" ",Zf=!1;function xf(e,i){switch(e){case"keyup":return gZ.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _l=!1;function RZ(e,i){switch(e){case"compositionend":return gf(i);case"keypress":return i.which!==32?null:(Zf=!0,Xf);case"textInput":return e=i.data,e===Xf&&Zf?null:e;default:return null}}function vZ(e,i){if(_l)return e==="compositionend"||!Go&&xf(e,i)?(e=hf(),sr=yo=Zi=null,_l=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yf&&i.locale!=="ko"?null:i.data;default:return null}}var SZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!SZ[e.type]:i==="textarea"}function Rf(e,i,a,c){Tl?Fl?Fl.push(c):Fl=[c]:Tl=c,i=qr(i,"onChange"),0<i.length&&(a=new cr("onChange","change",null,a,c),e.push({event:a,listeners:i}))}var Ts=null,Fs=null;function VZ(e){s0(e,0)}function ur(e){var i=Cs(e);if(lf(i))return e}function vf(e,i){if(e==="change")return i}var Sf=!1;if(An){var Ro;if(An){var vo="oninput"in document;if(!vo){var Vf=document.createElement("div");Vf.setAttribute("oninput","return;"),vo=typeof Vf.oninput=="function"}Ro=vo}else Ro=!1;Sf=Ro&&(!document.documentMode||9<document.documentMode)}function Wf(){Ts&&(Ts.detachEvent("onpropertychange",Yf),Fs=Ts=null)}function Yf(e){if(e.propertyName==="value"&&ur(Fs)){var i=[];Rf(i,Fs,e,mo(e)),df(VZ,i)}}function WZ(e,i,a){e==="focusin"?(Wf(),Ts=i,Fs=a,Ts.attachEvent("onpropertychange",Yf)):e==="focusout"&&Wf()}function YZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ur(Fs)}function CZ(e,i){if(e==="click")return ur(i)}function JZ(e,i){if(e==="input"||e==="change")return ur(i)}function LZ(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var an=typeof Object.is=="function"?Object.is:LZ;function _s(e,i){if(an(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!Vl.call(i,h)||!an(e[h],i[h]))return!1}return!0}function Cf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jf(e,i){var a=Cf(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=i&&c>=i)return{node:a,offset:i-e};e=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Cf(a)}}function Lf(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Lf(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Nf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ir(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ir(e.document)}return i}function So(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var NZ=An&&"documentMode"in document&&11>=document.documentMode,zl=null,Vo=null,zs=null,Wo=!1;function wf(e,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wo||zl==null||zl!==ir(c)||(c=zl,"selectionStart"in c&&So(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zs&&_s(zs,c)||(zs=c,c=qr(Vo,"onSelect"),0<c.length&&(i=new cr("onSelect","select",null,i,a),e.push({event:i,listeners:c}),i.target=zl)))}function Di(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Bl={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionrun:Di("Transition","TransitionRun"),transitionstart:Di("Transition","TransitionStart"),transitioncancel:Di("Transition","TransitionCancel"),transitionend:Di("Transition","TransitionEnd")},Yo={},Hf={};An&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function Oi(e){if(Yo[e])return Yo[e];if(!Bl[e])return e;var i=Bl[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Hf)return Yo[e]=i[a];return e}var Tf=Oi("animationend"),Ff=Oi("animationiteration"),_f=Oi("animationstart"),wZ=Oi("transitionrun"),HZ=Oi("transitionstart"),TZ=Oi("transitioncancel"),zf=Oi("transitionend"),Bf=new Map,Co="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Co.push("scrollEnd");function Jn(e,i){Bf.set(e,i),Ii(i,[e])}var dr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xn=[],El=0,Jo=0;function hr(){for(var e=El,i=Jo=El=0;i<e;){var a=Xn[i];Xn[i++]=null;var c=Xn[i];Xn[i++]=null;var h=Xn[i];Xn[i++]=null;var m=Xn[i];if(Xn[i++]=null,c!==null&&h!==null){var x=c.pending;x===null?h.next=h:(h.next=x.next,x.next=h),c.pending=h}m!==0&&Ef(a,h,m)}}function fr(e,i,a,c){Xn[El++]=e,Xn[El++]=i,Xn[El++]=a,Xn[El++]=c,Jo|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Lo(e,i,a,c){return fr(e,i,a,c),mr(e)}function qi(e,i){return fr(e,null,null,i),mr(e)}function Ef(e,i,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var h=!1,m=e.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&i!==null&&(h=31-Ct(a),e=m.hiddenUpdates,c=e[h],c===null?e[h]=[i]:c.push(i),i.lane=a|536870912),m):null}function mr(e){if(50<aa)throw aa=0,Eu=null,Error(l(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var kl={};function FZ(e,i,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,i,a,c){return new FZ(e,i,a,c)}function No(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dn(e,i){var a=e.alternate;return a===null?(a=rn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function kf(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function br(e,i,a,c,h,m){var x=0;if(c=e,typeof e=="function")No(e)&&(x=1);else if(typeof e=="string")x=k1(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case ot:return e=rn(31,a,i,h),e.elementType=ot,e.lanes=m,e;case V:return $i(a.children,h,m,i);case W:x=8,h|=24;break;case T:return e=rn(12,a,i,h|2),e.elementType=T,e.lanes=m,e;case N:return e=rn(13,a,i,h),e.elementType=N,e.lanes=m,e;case _:return e=rn(19,a,i,h),e.elementType=_,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:x=10;break t;case E:x=9;break t;case M:x=11;break t;case H:x=14;break t;case ut:x=16,c=null;break t}x=29,a=Error(l(130,e===null?"null":typeof e,"")),c=null}return i=rn(x,a,i,h),i.elementType=e,i.type=c,i.lanes=m,i}function $i(e,i,a,c){return e=rn(7,e,c,i),e.lanes=a,e}function wo(e,i,a){return e=rn(6,e,null,i),e.lanes=a,e}function Uf(e){var i=rn(18,null,null,0);return i.stateNode=e,i}function Ho(e,i,a){return i=rn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Mf=new WeakMap;function Zn(e,i){if(typeof e=="object"&&e!==null){var a=Mf.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Sl(i)},Mf.set(e,i),i)}return{value:e,source:i,stack:Sl(i)}}var Ul=[],Ml=0,pr=null,Bs=0,xn=[],gn=0,xi=null,En=1,kn="";function On(e,i){Ul[Ml++]=Bs,Ul[Ml++]=pr,pr=e,Bs=i}function Kf(e,i,a){xn[gn++]=En,xn[gn++]=kn,xn[gn++]=xi,xi=e;var c=En;e=kn;var h=32-Ct(c)-1;c&=~(1<<h),a+=1;var m=32-Ct(i)+h;if(30<m){var x=h-h%5;m=(c&(1<<x)-1).toString(32),c>>=x,h-=x,En=1<<32-Ct(i)+h|a<<h|c,kn=m+e}else En=1<<m|a<<h|c,kn=e}function To(e){e.return!==null&&(On(e,1),Kf(e,1,0))}function Fo(e){for(;e===pr;)pr=Ul[--Ml],Ul[Ml]=null,Bs=Ul[--Ml],Ul[Ml]=null;for(;e===xi;)xi=xn[--gn],xn[gn]=null,kn=xn[--gn],xn[gn]=null,En=xn[--gn],xn[gn]=null}function Pf(e,i){xn[gn++]=En,xn[gn++]=kn,xn[gn++]=xi,En=i.id,kn=i.overflow,xi=e}var Ye=null,te=null,Ft=!1,gi=null,Gn=!1,_o=Error(l(519));function Gi(e){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Es(Zn(i,e)),_o}function jf(e){var i=e.stateNode,a=e.type,c=e.memoizedProps;switch(i[We]=e,i[Ie]=c,a){case"dialog":Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":case"embed":Lt("load",i);break;case"video":case"audio":for(a=0;a<ca.length;a++)Lt(ca[a],i);break;case"source":Lt("error",i);break;case"img":case"image":case"link":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"input":Lt("invalid",i),sf(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Lt("invalid",i);break;case"textarea":Lt("invalid",i),rf(i,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||o0(i.textContent,a)?(c.popover!=null&&(Lt("beforetoggle",i),Lt("toggle",i)),c.onScroll!=null&&Lt("scroll",i),c.onScrollEnd!=null&&Lt("scrollend",i),c.onClick!=null&&(i.onclick=In),i=!0):i=!1,i||Gi(e,!0)}function Qf(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Ye=Ye.return}}function Kl(e){if(e!==Ye)return!1;if(!Ft)return Qf(e),Ft=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ed(e.type,e.memoizedProps)),a=!a),a&&te&&Gi(e),Qf(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));te=X0(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));te=X0(e)}else i===27?(i=te,Fi(e.type)?(e=ad,ad=null,te=e):te=i):te=Ye?vn(e.stateNode.nextSibling):null;return!0}function tl(){te=Ye=null,Ft=!1}function zo(){var e=gi;return e!==null&&($e===null?$e=e:$e.push.apply($e,e),gi=null),e}function Es(e){gi===null?gi=[e]:gi.push(e)}var Bo=C(null),el=null,qn=null;function Ri(e,i,a){rt(Bo,i._currentValue),i._currentValue=a}function $n(e){e._currentValue=Bo.current,B(Bo)}function Eo(e,i,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===a)break;e=e.return}}function ko(e,i,a,c){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var x=h.child;m=m.firstContext;t:for(;m!==null;){var R=m;m=h;for(var L=0;L<i.length;L++)if(R.context===i[L]){m.lanes|=a,R=m.alternate,R!==null&&(R.lanes|=a),Eo(m.return,a,e),c||(x=null);break t}m=R.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(l(341));x.lanes|=a,m=x.alternate,m!==null&&(m.lanes|=a),Eo(x,a,e),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===e){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function Pl(e,i,a,c){e=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(l(387));if(x=x.memoizedProps,x!==null){var R=h.type;an(h.pendingProps.value,x.value)||(e!==null?e.push(R):e=[R])}}else if(h===vt.current){if(x=h.alternate,x===null)throw Error(l(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fa):e=[fa])}h=h.return}e!==null&&ko(i,e,a,c),i.flags|=262144}function yr(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function nl(e){el=e,qn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ce(e){return If(el,e)}function Xr(e,i){return el===null&&nl(e),If(e,i)}function If(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qn===null){if(e===null)throw Error(l(308));qn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qn=qn.next=i;return a}var _Z=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},zZ=s.unstable_scheduleCallback,BZ=s.unstable_NormalPriority,be={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uo(){return{controller:new _Z,data:new Map,refCount:0}}function ks(e){e.refCount--,e.refCount===0&&zZ(BZ,function(){e.controller.abort()})}var Us=null,Mo=0,jl=0,Ql=null;function EZ(e,i){if(Us===null){var a=Us=[];Mo=0,jl=ju(),Ql={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Mo++,i.then(Af,Af),i}function Af(){if(--Mo===0&&Us!==null){Ql!==null&&(Ql.status="fulfilled");var e=Us;Us=null,jl=0,Ql=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function kZ(e,i){var a=[],c={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(c.status="rejected",c.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),c}var Df=w.S;w.S=function(e,i){wb=Ee(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&EZ(e,i),Df!==null&&Df(e,i)};var il=C(null);function Ko(){var e=il.current;return e!==null?e:qt.pooledCache}function Zr(e,i){i===null?rt(il,il.current):rt(il,i.pool)}function Of(){var e=Ko();return e===null?null:{parent:be._currentValue,pool:e}}var Il=Error(l(460)),Po=Error(l(474)),xr=Error(l(542)),gr={then:function(){}};function qf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $f(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(In,In),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,em(e),e;default:if(typeof i.status=="string")i.then(In,In);else{if(e=qt,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=c}},function(c){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,em(e),e}throw sl=i,Il}}function ll(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sl=a,Il):a}}var sl=null;function tm(){if(sl===null)throw Error(l(459));var e=sl;return sl=null,e}function em(e){if(e===Il||e===xr)throw Error(l(483))}var Al=null,Ms=0;function Gr(e){var i=Ms;return Ms+=1,Al===null&&(Al=[]),$f(Al,e,i)}function Ks(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Rr(e,i){throw i.$$typeof===G?Error(l(525)):(e=Object.prototype.toString.call(i),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function nm(e){function i(U,z){if(e){var K=U.deletions;K===null?(U.deletions=[z],U.flags|=16):K.push(z)}}function a(U,z){if(!e)return null;for(;z!==null;)i(U,z),z=z.sibling;return null}function c(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function h(U,z){return U=Dn(U,z),U.index=0,U.sibling=null,U}function m(U,z,K){return U.index=K,e?(K=U.alternate,K!==null?(K=K.index,K<z?(U.flags|=67108866,z):K):(U.flags|=67108866,z)):(U.flags|=1048576,z)}function x(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function R(U,z,K,it){return z===null||z.tag!==6?(z=wo(K,U.mode,it),z.return=U,z):(z=h(z,K),z.return=U,z)}function L(U,z,K,it){var gt=K.type;return gt===V?tt(U,z,K.props.children,it,K.key):z!==null&&(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===ut&&ll(gt)===z.type)?(z=h(z,K.props),Ks(z,K),z.return=U,z):(z=br(K.type,K.key,K.props,null,U.mode,it),Ks(z,K),z.return=U,z)}function P(U,z,K,it){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=Ho(K,U.mode,it),z.return=U,z):(z=h(z,K.children||[]),z.return=U,z)}function tt(U,z,K,it,gt){return z===null||z.tag!==7?(z=$i(K,U.mode,it,gt),z.return=U,z):(z=h(z,K),z.return=U,z)}function st(U,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=wo(""+z,U.mode,K),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case g:return K=br(z.type,z.key,z.props,null,U.mode,K),Ks(K,z),K.return=U,K;case S:return z=Ho(z,U.mode,K),z.return=U,z;case ut:return z=ll(z),st(U,z,K)}if(mt(z)||j(z))return z=$i(z,U.mode,K,null),z.return=U,z;if(typeof z.then=="function")return st(U,Gr(z),K);if(z.$$typeof===F)return st(U,Xr(U,z),K);Rr(U,z)}return null}function Q(U,z,K,it){var gt=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return gt!==null?null:R(U,z,""+K,it);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case g:return K.key===gt?L(U,z,K,it):null;case S:return K.key===gt?P(U,z,K,it):null;case ut:return K=ll(K),Q(U,z,K,it)}if(mt(K)||j(K))return gt!==null?null:tt(U,z,K,it,null);if(typeof K.then=="function")return Q(U,z,Gr(K),it);if(K.$$typeof===F)return Q(U,z,Xr(U,K),it);Rr(U,K)}return null}function D(U,z,K,it,gt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return U=U.get(K)||null,R(z,U,""+it,gt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case g:return U=U.get(it.key===null?K:it.key)||null,L(z,U,it,gt);case S:return U=U.get(it.key===null?K:it.key)||null,P(z,U,it,gt);case ut:return it=ll(it),D(U,z,K,it,gt)}if(mt(it)||j(it))return U=U.get(K)||null,tt(z,U,it,gt,null);if(typeof it.then=="function")return D(U,z,K,Gr(it),gt);if(it.$$typeof===F)return D(U,z,K,Xr(z,it),gt);Rr(z,it)}return null}function ft(U,z,K,it){for(var gt=null,zt=null,yt=z,Yt=z=0,wt=null;yt!==null&&Yt<K.length;Yt++){yt.index>Yt?(wt=yt,yt=null):wt=yt.sibling;var Bt=Q(U,yt,K[Yt],it);if(Bt===null){yt===null&&(yt=wt);break}e&&yt&&Bt.alternate===null&&i(U,yt),z=m(Bt,z,Yt),zt===null?gt=Bt:zt.sibling=Bt,zt=Bt,yt=wt}if(Yt===K.length)return a(U,yt),Ft&&On(U,Yt),gt;if(yt===null){for(;Yt<K.length;Yt++)yt=st(U,K[Yt],it),yt!==null&&(z=m(yt,z,Yt),zt===null?gt=yt:zt.sibling=yt,zt=yt);return Ft&&On(U,Yt),gt}for(yt=c(yt);Yt<K.length;Yt++)wt=D(yt,U,Yt,K[Yt],it),wt!==null&&(e&&wt.alternate!==null&&yt.delete(wt.key===null?Yt:wt.key),z=m(wt,z,Yt),zt===null?gt=wt:zt.sibling=wt,zt=wt);return e&&yt.forEach(function(ki){return i(U,ki)}),Ft&&On(U,Yt),gt}function Rt(U,z,K,it){if(K==null)throw Error(l(151));for(var gt=null,zt=null,yt=z,Yt=z=0,wt=null,Bt=K.next();yt!==null&&!Bt.done;Yt++,Bt=K.next()){yt.index>Yt?(wt=yt,yt=null):wt=yt.sibling;var ki=Q(U,yt,Bt.value,it);if(ki===null){yt===null&&(yt=wt);break}e&&yt&&ki.alternate===null&&i(U,yt),z=m(ki,z,Yt),zt===null?gt=ki:zt.sibling=ki,zt=ki,yt=wt}if(Bt.done)return a(U,yt),Ft&&On(U,Yt),gt;if(yt===null){for(;!Bt.done;Yt++,Bt=K.next())Bt=st(U,Bt.value,it),Bt!==null&&(z=m(Bt,z,Yt),zt===null?gt=Bt:zt.sibling=Bt,zt=Bt);return Ft&&On(U,Yt),gt}for(yt=c(yt);!Bt.done;Yt++,Bt=K.next())Bt=D(yt,U,Yt,Bt.value,it),Bt!==null&&(e&&Bt.alternate!==null&&yt.delete(Bt.key===null?Yt:Bt.key),z=m(Bt,z,Yt),zt===null?gt=Bt:zt.sibling=Bt,zt=Bt);return e&&yt.forEach(function(q1){return i(U,q1)}),Ft&&On(U,Yt),gt}function Ot(U,z,K,it){if(typeof K=="object"&&K!==null&&K.type===V&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case g:t:{for(var gt=K.key;z!==null;){if(z.key===gt){if(gt=K.type,gt===V){if(z.tag===7){a(U,z.sibling),it=h(z,K.props.children),it.return=U,U=it;break t}}else if(z.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===ut&&ll(gt)===z.type){a(U,z.sibling),it=h(z,K.props),Ks(it,K),it.return=U,U=it;break t}a(U,z);break}else i(U,z);z=z.sibling}K.type===V?(it=$i(K.props.children,U.mode,it,K.key),it.return=U,U=it):(it=br(K.type,K.key,K.props,null,U.mode,it),Ks(it,K),it.return=U,U=it)}return x(U);case S:t:{for(gt=K.key;z!==null;){if(z.key===gt)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){a(U,z.sibling),it=h(z,K.children||[]),it.return=U,U=it;break t}else{a(U,z);break}else i(U,z);z=z.sibling}it=Ho(K,U.mode,it),it.return=U,U=it}return x(U);case ut:return K=ll(K),Ot(U,z,K,it)}if(mt(K))return ft(U,z,K,it);if(j(K)){if(gt=j(K),typeof gt!="function")throw Error(l(150));return K=gt.call(K),Rt(U,z,K,it)}if(typeof K.then=="function")return Ot(U,z,Gr(K),it);if(K.$$typeof===F)return Ot(U,z,Xr(U,K),it);Rr(U,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(a(U,z.sibling),it=h(z,K),it.return=U,U=it):(a(U,z),it=wo(K,U.mode,it),it.return=U,U=it),x(U)):a(U,z)}return function(U,z,K,it){try{Ms=0;var gt=Ot(U,z,K,it);return Al=null,gt}catch(yt){if(yt===Il||yt===xr)throw yt;var zt=rn(29,yt,null,U.mode);return zt.lanes=it,zt.return=U,zt}}}var al=nm(!0),im=nm(!1),vi=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qo(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Si(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(e,i,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(kt&2)!==0){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,i=mr(e),Ef(e,null,a),i}return fr(e,c,i,a),mr(e)}function Ps(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,Qh(e,a)}}function Io(e,i){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Ao=!1;function js(){if(Ao){var e=Ql;if(e!==null)throw e}}function Qs(e,i,a,c){Ao=!1;var h=e.updateQueue;vi=!1;var m=h.firstBaseUpdate,x=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var L=R,P=L.next;L.next=null,x===null?m=P:x.next=P,x=L;var tt=e.alternate;tt!==null&&(tt=tt.updateQueue,R=tt.lastBaseUpdate,R!==x&&(R===null?tt.firstBaseUpdate=P:R.next=P,tt.lastBaseUpdate=L))}if(m!==null){var st=h.baseState;x=0,tt=P=L=null,R=m;do{var Q=R.lane&-536870913,D=Q!==R.lane;if(D?(Nt&Q)===Q:(c&Q)===Q){Q!==0&&Q===jl&&(Ao=!0),tt!==null&&(tt=tt.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var ft=e,Rt=R;Q=i;var Ot=a;switch(Rt.tag){case 1:if(ft=Rt.payload,typeof ft=="function"){st=ft.call(Ot,st,Q);break t}st=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Rt.payload,Q=typeof ft=="function"?ft.call(Ot,st,Q):ft,Q==null)break t;st=y({},st,Q);break t;case 2:vi=!0}}Q=R.callback,Q!==null&&(e.flags|=64,D&&(e.flags|=8192),D=h.callbacks,D===null?h.callbacks=[Q]:D.push(Q))}else D={lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},tt===null?(P=tt=D,L=st):tt=tt.next=D,x|=Q;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;D=R,R=D.next,D.next=null,h.lastBaseUpdate=D,h.shared.pending=null}}while(!0);tt===null&&(L=st),h.baseState=L,h.firstBaseUpdate=P,h.lastBaseUpdate=tt,m===null&&(h.shared.lanes=0),Li|=x,e.lanes=x,e.memoizedState=st}}function lm(e,i){if(typeof e!="function")throw Error(l(191,e));e.call(i)}function sm(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)lm(a[e],i)}var Dl=C(null),vr=C(0);function am(e,i){e=ci,rt(vr,e),rt(Dl,i),ci=e|i.baseLanes}function Do(){rt(vr,ci),rt(Dl,Dl.current)}function Oo(){ci=vr.current,B(Dl),B(vr)}var cn=C(null),Rn=null;function Wi(e){var i=e.alternate;rt(he,he.current&1),rt(cn,e),Rn===null&&(i===null||Dl.current!==null||i.memoizedState!==null)&&(Rn=e)}function qo(e){rt(he,he.current),rt(cn,e),Rn===null&&(Rn=e)}function rm(e){e.tag===22?(rt(he,he.current),rt(cn,e),Rn===null&&(Rn=e)):Yi()}function Yi(){rt(he,he.current),rt(cn,cn.current)}function on(e){B(cn),Rn===e&&(Rn=null),B(he)}var he=C(0);function Sr(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ld(a)||sd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ti=0,Wt=null,At=null,pe=null,Vr=!1,Ol=!1,rl=!1,Wr=0,Is=0,ql=null,UZ=0;function se(){throw Error(l(321))}function $o(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!an(e[a],i[a]))return!1;return!0}function tu(e,i,a,c,h,m){return ti=m,Wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=e===null||e.memoizedState===null?Km:bu,rl=!1,m=a(c,h),rl=!1,Ol&&(m=om(i,a,c,h)),cm(e),m}function cm(e){w.H=Os;var i=At!==null&&At.next!==null;if(ti=0,pe=At=Wt=null,Vr=!1,Is=0,ql=null,i)throw Error(l(300));e===null||ye||(e=e.dependencies,e!==null&&yr(e)&&(ye=!0))}function om(e,i,a,c){Wt=e;var h=0;do{if(Ol&&(ql=null),Is=0,Ol=!1,25<=h)throw Error(l(301));if(h+=1,pe=At=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}w.H=Pm,m=i(a,c)}while(Ol);return m}function MZ(){var e=w.H,i=e.useState()[0];return i=typeof i.then=="function"?As(i):i,e=e.useState()[0],(At!==null?At.memoizedState:null)!==e&&(Wt.flags|=1024),i}function eu(){var e=Wr!==0;return Wr=0,e}function nu(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function iu(e){if(Vr){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Vr=!1}ti=0,pe=At=Wt=null,Ol=!1,Is=Wr=0,ql=null}function ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Wt.memoizedState=pe=e:pe=pe.next=e,pe}function fe(){if(At===null){var e=Wt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var i=pe===null?Wt.memoizedState:pe.next;if(i!==null)pe=i,At=e;else{if(e===null)throw Wt.alternate===null?Error(l(467)):Error(l(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},pe===null?Wt.memoizedState=pe=e:pe=pe.next=e}return pe}function Yr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function As(e){var i=Is;return Is+=1,ql===null&&(ql=[]),e=$f(ql,e,i),i=Wt,(pe===null?i.memoizedState:pe.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?Km:bu),e}function Cr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return As(e);if(e.$$typeof===F)return Ce(e)}throw Error(l(438,String(e)))}function lu(e){var i=null,a=Wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=Wt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Yr(),Wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),c=0;c<e;c++)a[c]=ct;return i.index++,a}function ei(e,i){return typeof i=="function"?i(e):i}function Jr(e){var i=fe();return su(i,At,e)}function su(e,i,a){var c=e.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=a;var h=e.baseQueue,m=c.pending;if(m!==null){if(h!==null){var x=h.next;h.next=m.next,m.next=x}i.baseQueue=h=m,c.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{i=h.next;var R=x=null,L=null,P=i,tt=!1;do{var st=P.lane&-536870913;if(st!==P.lane?(Nt&st)===st:(ti&st)===st){var Q=P.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),st===jl&&(tt=!0);else if((ti&Q)===Q){P=P.next,Q===jl&&(tt=!0);continue}else st={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},L===null?(R=L=st,x=m):L=L.next=st,Wt.lanes|=Q,Li|=Q;st=P.action,rl&&a(m,st),m=P.hasEagerState?P.eagerState:a(m,st)}else Q={lane:st,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},L===null?(R=L=Q,x=m):L=L.next=Q,Wt.lanes|=st,Li|=st;P=P.next}while(P!==null&&P!==i);if(L===null?x=m:L.next=R,!an(m,e.memoizedState)&&(ye=!0,tt&&(a=Ql,a!==null)))throw a;e.memoizedState=m,e.baseState=x,e.baseQueue=L,c.lastRenderedState=m}return h===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function au(e){var i=fe(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var c=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var x=h=h.next;do m=e(m,x.action),x=x.next;while(x!==h);an(m,i.memoizedState)||(ye=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function um(e,i,a){var c=Wt,h=fe(),m=Ft;if(m){if(a===void 0)throw Error(l(407));a=a()}else a=i();var x=!an((At||h).memoizedState,a);if(x&&(h.memoizedState=a,ye=!0),h=h.queue,ou(fm.bind(null,c,h,e),[e]),h.getSnapshot!==i||x||pe!==null&&pe.memoizedState.tag&1){if(c.flags|=2048,$l(9,{destroy:void 0},hm.bind(null,c,h,a,i),null),qt===null)throw Error(l(349));m||(ti&127)!==0||dm(c,i,a)}return a}function dm(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Wt.updateQueue,i===null?(i=Yr(),Wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function hm(e,i,a,c){i.value=a,i.getSnapshot=c,mm(i)&&bm(e)}function fm(e,i,a){return a(function(){mm(i)&&bm(e)})}function mm(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!an(e,a)}catch{return!0}}function bm(e){var i=qi(e,2);i!==null&&tn(i,e,2)}function ru(e){var i=ke();if(typeof e=="function"){var a=e;if(e=a(),rl){Et(!0);try{a()}finally{Et(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},i}function pm(e,i,a,c){return e.baseState=a,su(e,At,typeof c=="function"?c:ei)}function KZ(e,i,a,c,h){if(wr(e))throw Error(l(485));if(e=i.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};w.T!==null?a(!0):m.isTransition=!1,c(m),a=i.pending,a===null?(m.next=i.pending=m,ym(i,m)):(m.next=a.next,i.pending=a.next=m)}}function ym(e,i){var a=i.action,c=i.payload,h=e.state;if(i.isTransition){var m=w.T,x={};w.T=x;try{var R=a(h,c),L=w.S;L!==null&&L(x,R),Xm(e,i,R)}catch(P){cu(e,i,P)}finally{m!==null&&x.types!==null&&(m.types=x.types),w.T=m}}else try{m=a(h,c),Xm(e,i,m)}catch(P){cu(e,i,P)}}function Xm(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Zm(e,i,c)},function(c){return cu(e,i,c)}):Zm(e,i,a)}function Zm(e,i,a){i.status="fulfilled",i.value=a,xm(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ym(e,a)))}function cu(e,i,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,xm(i),i=i.next;while(i!==c)}e.action=null}function xm(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function gm(e,i){return i}function Gm(e,i){if(Ft){var a=qt.formState;if(a!==null){t:{var c=Wt;if(Ft){if(te){e:{for(var h=te,m=Gn;h.nodeType!==8;){if(!m){h=null;break e}if(h=vn(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){te=vn(h.nextSibling),c=h.data==="F!";break t}}Gi(c)}c=!1}c&&(i=a[0])}}return a=ke(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:i},a.queue=c,a=km.bind(null,Wt,c),c.dispatch=a,c=ru(!1),m=mu.bind(null,Wt,!1,c.queue),c=ke(),h={state:i,dispatch:null,action:e,pending:null},c.queue=h,a=KZ.bind(null,Wt,h,m,a),h.dispatch=a,c.memoizedState=e,[i,a,!1]}function Rm(e){var i=fe();return vm(i,At,e)}function vm(e,i,a){if(i=su(e,i,gm)[0],e=Jr(ei)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=As(i)}catch(x){throw x===Il?xr:x}else c=i;i=fe();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(Wt.flags|=2048,$l(9,{destroy:void 0},PZ.bind(null,h,a),null)),[c,m,e]}function PZ(e,i){e.action=i}function Sm(e){var i=fe(),a=At;if(a!==null)return vm(i,a,e);fe(),i=i.memoizedState,a=fe();var c=a.queue.dispatch;return a.memoizedState=e,[i,c,!1]}function $l(e,i,a,c){return e={tag:e,create:a,deps:c,inst:i,next:null},i=Wt.updateQueue,i===null&&(i=Yr(),Wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,i.lastEffect=e),e}function Vm(){return fe().memoizedState}function Lr(e,i,a,c){var h=ke();Wt.flags|=e,h.memoizedState=$l(1|i,{destroy:void 0},a,c===void 0?null:c)}function Nr(e,i,a,c){var h=fe();c=c===void 0?null:c;var m=h.memoizedState.inst;At!==null&&c!==null&&$o(c,At.memoizedState.deps)?h.memoizedState=$l(i,m,a,c):(Wt.flags|=e,h.memoizedState=$l(1|i,m,a,c))}function Wm(e,i){Lr(8390656,8,e,i)}function ou(e,i){Nr(2048,8,e,i)}function jZ(e){Wt.flags|=4;var i=Wt.updateQueue;if(i===null)i=Yr(),Wt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ym(e){var i=fe().memoizedState;return jZ({ref:i,nextImpl:e}),function(){if((kt&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function Cm(e,i){return Nr(4,2,e,i)}function Jm(e,i){return Nr(4,4,e,i)}function Lm(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Nm(e,i,a){a=a!=null?a.concat([e]):null,Nr(4,4,Lm.bind(null,i,e),a)}function uu(){}function wm(e,i){var a=fe();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&$o(i,c[1])?c[0]:(a.memoizedState=[e,i],e)}function Hm(e,i){var a=fe();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&$o(i,c[1]))return c[0];if(c=e(),rl){Et(!0);try{e()}finally{Et(!1)}}return a.memoizedState=[c,i],c}function du(e,i,a){return a===void 0||(ti&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Tb(),Wt.lanes|=e,Li|=e,a)}function Tm(e,i,a,c){return an(a,i)?a:Dl.current!==null?(e=du(e,a,c),an(e,i)||(ye=!0),e):(ti&42)===0||(ti&1073741824)!==0&&(Nt&261930)===0?(ye=!0,e.memoizedState=a):(e=Tb(),Wt.lanes|=e,Li|=e,i)}function Fm(e,i,a,c,h){var m=I.p;I.p=m!==0&&8>m?m:8;var x=w.T,R={};w.T=R,mu(e,!1,i,a);try{var L=h(),P=w.S;if(P!==null&&P(R,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var tt=kZ(L,c);Ds(e,i,tt,hn(e))}else Ds(e,i,c,hn(e))}catch(st){Ds(e,i,{then:function(){},status:"rejected",reason:st},hn())}finally{I.p=m,x!==null&&R.types!==null&&(x.types=R.types),w.T=x}}function QZ(){}function hu(e,i,a,c){if(e.tag!==5)throw Error(l(476));var h=_m(e).queue;Fm(e,h,i,at,a===null?QZ:function(){return zm(e),a(c)})}function _m(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:at},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function zm(e){var i=_m(e);i.next===null&&(i=e.alternate.memoizedState),Ds(e,i.next.queue,{},hn())}function fu(){return Ce(fa)}function Bm(){return fe().memoizedState}function Em(){return fe().memoizedState}function IZ(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=hn();e=Si(a);var c=Vi(i,e,a);c!==null&&(tn(c,i,a),Ps(c,i,a)),i={cache:Uo()},e.payload=i;return}i=i.return}}function AZ(e,i,a){var c=hn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wr(e)?Um(i,a):(a=Lo(e,i,a,c),a!==null&&(tn(a,e,c),Mm(a,i,c)))}function km(e,i,a){var c=hn();Ds(e,i,a,c)}function Ds(e,i,a,c){var h={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wr(e))Um(i,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var x=i.lastRenderedState,R=m(x,a);if(h.hasEagerState=!0,h.eagerState=R,an(R,x))return fr(e,i,h,0),qt===null&&hr(),!1}catch{}if(a=Lo(e,i,h,c),a!==null)return tn(a,e,c),Mm(a,i,c),!0}return!1}function mu(e,i,a,c){if(c={lane:2,revertLane:ju(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},wr(e)){if(i)throw Error(l(479))}else i=Lo(e,a,c,2),i!==null&&tn(i,e,2)}function wr(e){var i=e.alternate;return e===Wt||i!==null&&i===Wt}function Um(e,i){Ol=Vr=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Mm(e,i,a){if((a&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,Qh(e,a)}}var Os={readContext:Ce,use:Cr,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se};Os.useEffectEvent=se;var Km={readContext:Ce,use:Cr,useCallback:function(e,i){return ke().memoizedState=[e,i===void 0?null:i],e},useContext:Ce,useEffect:Wm,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Lr(4194308,4,Lm.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Lr(4194308,4,e,i)},useInsertionEffect:function(e,i){Lr(4,2,e,i)},useMemo:function(e,i){var a=ke();i=i===void 0?null:i;var c=e();if(rl){Et(!0);try{e()}finally{Et(!1)}}return a.memoizedState=[c,i],c},useReducer:function(e,i,a){var c=ke();if(a!==void 0){var h=a(i);if(rl){Et(!0);try{a(i)}finally{Et(!1)}}}else h=i;return c.memoizedState=c.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},c.queue=e,e=e.dispatch=AZ.bind(null,Wt,e),[c.memoizedState,e]},useRef:function(e){var i=ke();return e={current:e},i.memoizedState=e},useState:function(e){e=ru(e);var i=e.queue,a=km.bind(null,Wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:uu,useDeferredValue:function(e,i){var a=ke();return du(a,e,i)},useTransition:function(){var e=ru(!1);return e=Fm.bind(null,Wt,e.queue,!0,!1),ke().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var c=Wt,h=ke();if(Ft){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),qt===null)throw Error(l(349));(Nt&127)!==0||dm(c,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,Wm(fm.bind(null,c,m,e),[e]),c.flags|=2048,$l(9,{destroy:void 0},hm.bind(null,c,m,a,i),null),a},useId:function(){var e=ke(),i=qt.identifierPrefix;if(Ft){var a=kn,c=En;a=(c&~(1<<32-Ct(c)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Wr++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=UZ++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:fu,useFormState:Gm,useActionState:Gm,useOptimistic:function(e){var i=ke();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=mu.bind(null,Wt,!0,a),a.dispatch=i,[e,i]},useMemoCache:lu,useCacheRefresh:function(){return ke().memoizedState=IZ.bind(null,Wt)},useEffectEvent:function(e){var i=ke(),a={impl:e};return i.memoizedState=a,function(){if((kt&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},bu={readContext:Ce,use:Cr,useCallback:wm,useContext:Ce,useEffect:ou,useImperativeHandle:Nm,useInsertionEffect:Cm,useLayoutEffect:Jm,useMemo:Hm,useReducer:Jr,useRef:Vm,useState:function(){return Jr(ei)},useDebugValue:uu,useDeferredValue:function(e,i){var a=fe();return Tm(a,At.memoizedState,e,i)},useTransition:function(){var e=Jr(ei)[0],i=fe().memoizedState;return[typeof e=="boolean"?e:As(e),i]},useSyncExternalStore:um,useId:Bm,useHostTransitionStatus:fu,useFormState:Rm,useActionState:Rm,useOptimistic:function(e,i){var a=fe();return pm(a,At,e,i)},useMemoCache:lu,useCacheRefresh:Em};bu.useEffectEvent=Ym;var Pm={readContext:Ce,use:Cr,useCallback:wm,useContext:Ce,useEffect:ou,useImperativeHandle:Nm,useInsertionEffect:Cm,useLayoutEffect:Jm,useMemo:Hm,useReducer:au,useRef:Vm,useState:function(){return au(ei)},useDebugValue:uu,useDeferredValue:function(e,i){var a=fe();return At===null?du(a,e,i):Tm(a,At.memoizedState,e,i)},useTransition:function(){var e=au(ei)[0],i=fe().memoizedState;return[typeof e=="boolean"?e:As(e),i]},useSyncExternalStore:um,useId:Bm,useHostTransitionStatus:fu,useFormState:Sm,useActionState:Sm,useOptimistic:function(e,i){var a=fe();return At!==null?pm(a,At,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:lu,useCacheRefresh:Em};Pm.useEffectEvent=Ym;function pu(e,i,a,c){i=e.memoizedState,a=a(c,i),a=a==null?i:y({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yu={enqueueSetState:function(e,i,a){e=e._reactInternals;var c=hn(),h=Si(c);h.payload=i,a!=null&&(h.callback=a),i=Vi(e,h,c),i!==null&&(tn(i,e,c),Ps(i,e,c))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var c=hn(),h=Si(c);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vi(e,h,c),i!==null&&(tn(i,e,c),Ps(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=hn(),c=Si(a);c.tag=2,i!=null&&(c.callback=i),i=Vi(e,c,a),i!==null&&(tn(i,e,a),Ps(i,e,a))}};function jm(e,i,a,c,h,m,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,m,x):i.prototype&&i.prototype.isPureReactComponent?!_s(a,c)||!_s(h,m):!0}function Qm(e,i,a,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==e&&yu.enqueueReplaceState(i,i.state,null)}function cl(e,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(e=e.defaultProps){a===i&&(a=y({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Im(e){dr(e)}function Am(e){console.error(e)}function Dm(e){dr(e)}function Hr(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Om(e,i,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xu(e,i,a){return a=Si(a),a.tag=3,a.payload={element:null},a.callback=function(){Hr(e,i)},a}function qm(e){return e=Si(e),e.tag=3,e}function $m(e,i,a,c){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=c.value;e.payload=function(){return h(m)},e.callback=function(){Om(i,a,c)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Om(i,a,c),typeof h!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function DZ(e,i,a,c,h){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&Pl(i,a,h,!0),a=cn.current,a!==null){switch(a.tag){case 31:case 13:return Rn===null?jr():a.alternate===null&&ae===0&&(ae=3),a.flags&=-257,a.flags|=65536,a.lanes=h,c===gr?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),Mu(e,c,h)),!1;case 22:return a.flags|=65536,c===gr?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),Mu(e,c,h)),!1}throw Error(l(435,a.tag))}return Mu(e,c,h),jr(),!1}if(Ft)return i=cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,c!==_o&&(e=Error(l(422),{cause:c}),Es(Zn(e,a)))):(c!==_o&&(i=Error(l(423),{cause:c}),Es(Zn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,c=Zn(c,a),h=Xu(e.stateNode,c,h),Io(e,h),ae!==4&&(ae=2)),!1;var m=Error(l(520),{cause:c});if(m=Zn(m,a),sa===null?sa=[m]:sa.push(m),ae!==4&&(ae=2),i===null)return!0;c=Zn(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Xu(a.stateNode,c,e),Io(a,e),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ni===null||!Ni.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=qm(h),$m(h,e,a,c),Io(a,h),!1}a=a.return}while(a!==null);return!1}var Zu=Error(l(461)),ye=!1;function Je(e,i,a,c){i.child=e===null?im(i,null,a,c):al(i,e.child,a,c)}function tb(e,i,a,c,h){a=a.render;var m=i.ref;if("ref"in c){var x={};for(var R in c)R!=="ref"&&(x[R]=c[R])}else x=c;return nl(i),c=tu(e,i,a,x,m,h),R=eu(),e!==null&&!ye?(nu(e,i,h),ni(e,i,h)):(Ft&&R&&To(i),i.flags|=1,Je(e,i,c,h),i.child)}function eb(e,i,a,c,h){if(e===null){var m=a.type;return typeof m=="function"&&!No(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,nb(e,i,m,c,h)):(e=br(a.type,null,c,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(m=e.child,!Wu(e,h)){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:_s,a(x,c)&&e.ref===i.ref)return ni(e,i,h)}return i.flags|=1,e=Dn(m,c),e.ref=i.ref,e.return=i,i.child=e}function nb(e,i,a,c,h){if(e!==null){var m=e.memoizedProps;if(_s(m,c)&&e.ref===i.ref)if(ye=!1,i.pendingProps=c=m,Wu(e,h))(e.flags&131072)!==0&&(ye=!0);else return i.lanes=e.lanes,ni(e,i,h)}return xu(e,i,a,c,h)}function ib(e,i,a,c){var h=c.children,m=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,e!==null){for(c=i.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~m}else c=0,i.child=null;return lb(e,i,m,a,c)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zr(i,m!==null?m.cachePool:null),m!==null?am(i,m):Do(),rm(i);else return c=i.lanes=536870912,lb(e,i,m!==null?m.baseLanes|a:a,a,c)}else m!==null?(Zr(i,m.cachePool),am(i,m),Yi(),i.memoizedState=null):(e!==null&&Zr(i,null),Do(),Yi());return Je(e,i,h,a),i.child}function qs(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function lb(e,i,a,c,h){var m=Ko();return m=m===null?null:{parent:be._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},e!==null&&Zr(i,null),Do(),rm(i),e!==null&&Pl(e,i,c,!0),i.childLanes=h,null}function Tr(e,i){return i=_r({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function sb(e,i,a){return al(i,e.child,null,a),e=Tr(i,i.pendingProps),e.flags|=2,on(i),i.memoizedState=null,e}function OZ(e,i,a){var c=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ft){if(c.mode==="hidden")return e=Tr(i,c),i.lanes=536870912,qs(null,e);if(qo(i),(e=te)?(e=y0(e,Gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:xi!==null?{id:En,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},a=Uf(e),a.return=i,i.child=a,Ye=i,te=null)):e=null,e===null)throw Gi(i);return i.lanes=536870912,null}return Tr(i,c)}var m=e.memoizedState;if(m!==null){var x=m.dehydrated;if(qo(i),h)if(i.flags&256)i.flags&=-257,i=sb(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(l(558));else if(ye||Pl(e,i,a,!1),h=(a&e.childLanes)!==0,ye||h){if(c=qt,c!==null&&(x=Ih(c,a),x!==0&&x!==m.retryLane))throw m.retryLane=x,qi(e,x),tn(c,e,x),Zu;jr(),i=sb(e,i,a)}else e=m.treeContext,te=vn(x.nextSibling),Ye=i,Ft=!0,gi=null,Gn=!1,e!==null&&Pf(i,e),i=Tr(i,c),i.flags|=4096;return i}return e=Dn(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Fr(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function xu(e,i,a,c,h){return nl(i),a=tu(e,i,a,c,void 0,h),c=eu(),e!==null&&!ye?(nu(e,i,h),ni(e,i,h)):(Ft&&c&&To(i),i.flags|=1,Je(e,i,a,h),i.child)}function ab(e,i,a,c,h,m){return nl(i),i.updateQueue=null,a=om(i,c,a,h),cm(e),c=eu(),e!==null&&!ye?(nu(e,i,m),ni(e,i,m)):(Ft&&c&&To(i),i.flags|=1,Je(e,i,a,m),i.child)}function rb(e,i,a,c,h){if(nl(i),i.stateNode===null){var m=kl,x=a.contextType;typeof x=="object"&&x!==null&&(m=Ce(x)),m=new a(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=yu,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},jo(i),x=a.contextType,m.context=typeof x=="object"&&x!==null?Ce(x):kl,m.state=i.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(pu(i,a,x,c),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&yu.enqueueReplaceState(m,m.state,null),Qs(i,c,m,h),js(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){m=i.stateNode;var R=i.memoizedProps,L=cl(a,R);m.props=L;var P=m.context,tt=a.contextType;x=kl,typeof tt=="object"&&tt!==null&&(x=Ce(tt));var st=a.getDerivedStateFromProps;tt=typeof st=="function"||typeof m.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,tt||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(R||P!==x)&&Qm(i,m,c,x),vi=!1;var Q=i.memoizedState;m.state=Q,Qs(i,c,m,h),js(),P=i.memoizedState,R||Q!==P||vi?(typeof st=="function"&&(pu(i,a,st,c),P=i.memoizedState),(L=vi||jm(i,a,L,c,Q,P,x))?(tt||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),m.props=c,m.state=P,m.context=x,c=L):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,Qo(e,i),x=i.memoizedProps,tt=cl(a,x),m.props=tt,st=i.pendingProps,Q=m.context,P=a.contextType,L=kl,typeof P=="object"&&P!==null&&(L=Ce(P)),R=a.getDerivedStateFromProps,(P=typeof R=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==st||Q!==L)&&Qm(i,m,c,L),vi=!1,Q=i.memoizedState,m.state=Q,Qs(i,c,m,h),js();var D=i.memoizedState;x!==st||Q!==D||vi||e!==null&&e.dependencies!==null&&yr(e.dependencies)?(typeof R=="function"&&(pu(i,a,R,c),D=i.memoizedState),(tt=vi||jm(i,a,tt,c,Q,D,L)||e!==null&&e.dependencies!==null&&yr(e.dependencies))?(P||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,D,L),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,D,L)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===e.memoizedProps&&Q===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&Q===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=D),m.props=c,m.state=D,m.context=L,c=tt):(typeof m.componentDidUpdate!="function"||x===e.memoizedProps&&Q===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&Q===e.memoizedState||(i.flags|=1024),c=!1)}return m=c,Fr(e,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,e!==null&&c?(i.child=al(i,e.child,null,h),i.child=al(i,null,a,h)):Je(e,i,a,h),i.memoizedState=m.state,e=i.child):e=ni(e,i,h),e}function cb(e,i,a,c){return tl(),i.flags|=256,Je(e,i,a,c),i.child}var gu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gu(e){return{baseLanes:e,cachePool:Of()}}function Ru(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=dn),e}function ob(e,i,a){var c=i.pendingProps,h=!1,m=(i.flags&128)!==0,x;if((x=m)||(x=e!==null&&e.memoizedState===null?!1:(he.current&2)!==0),x&&(h=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ft){if(h?Wi(i):Yi(),(e=te)?(e=y0(e,Gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:xi!==null?{id:En,overflow:kn}:null,retryLane:536870912,hydrationErrors:null},a=Uf(e),a.return=i,i.child=a,Ye=i,te=null)):e=null,e===null)throw Gi(i);return sd(e)?i.lanes=32:i.lanes=536870912,null}var R=c.children;return c=c.fallback,h?(Yi(),h=i.mode,R=_r({mode:"hidden",children:R},h),c=$i(c,h,a,null),R.return=i,c.return=i,R.sibling=c,i.child=R,c=i.child,c.memoizedState=Gu(a),c.childLanes=Ru(e,x,a),i.memoizedState=gu,qs(null,c)):(Wi(i),vu(i,R))}var L=e.memoizedState;if(L!==null&&(R=L.dehydrated,R!==null)){if(m)i.flags&256?(Wi(i),i.flags&=-257,i=Su(e,i,a)):i.memoizedState!==null?(Yi(),i.child=e.child,i.flags|=128,i=null):(Yi(),R=c.fallback,h=i.mode,c=_r({mode:"visible",children:c.children},h),R=$i(R,h,a,null),R.flags|=2,c.return=i,R.return=i,c.sibling=R,i.child=c,al(i,e.child,null,a),c=i.child,c.memoizedState=Gu(a),c.childLanes=Ru(e,x,a),i.memoizedState=gu,i=qs(null,c));else if(Wi(i),sd(R)){if(x=R.nextSibling&&R.nextSibling.dataset,x)var P=x.dgst;x=P,c=Error(l(419)),c.stack="",c.digest=x,Es({value:c,source:null,stack:null}),i=Su(e,i,a)}else if(ye||Pl(e,i,a,!1),x=(a&e.childLanes)!==0,ye||x){if(x=qt,x!==null&&(c=Ih(x,a),c!==0&&c!==L.retryLane))throw L.retryLane=c,qi(e,c),tn(x,e,c),Zu;ld(R)||jr(),i=Su(e,i,a)}else ld(R)?(i.flags|=192,i.child=e.child,i=null):(e=L.treeContext,te=vn(R.nextSibling),Ye=i,Ft=!0,gi=null,Gn=!1,e!==null&&Pf(i,e),i=vu(i,c.children),i.flags|=4096);return i}return h?(Yi(),R=c.fallback,h=i.mode,L=e.child,P=L.sibling,c=Dn(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,P!==null?R=Dn(P,R):(R=$i(R,h,a,null),R.flags|=2),R.return=i,c.return=i,c.sibling=R,i.child=c,qs(null,c),c=i.child,R=e.child.memoizedState,R===null?R=Gu(a):(h=R.cachePool,h!==null?(L=be._currentValue,h=h.parent!==L?{parent:L,pool:L}:h):h=Of(),R={baseLanes:R.baseLanes|a,cachePool:h}),c.memoizedState=R,c.childLanes=Ru(e,x,a),i.memoizedState=gu,qs(e.child,c)):(Wi(i),a=e.child,e=a.sibling,a=Dn(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,e!==null&&(x=i.deletions,x===null?(i.deletions=[e],i.flags|=16):x.push(e)),i.child=a,i.memoizedState=null,a)}function vu(e,i){return i=_r({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function _r(e,i){return e=rn(22,e,null,i),e.lanes=0,e}function Su(e,i,a){return al(i,e.child,null,a),e=vu(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function ub(e,i,a){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Eo(e.return,i,a)}function Vu(e,i,a,c,h,m){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h,treeForkCount:m}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=a,x.tailMode=h,x.treeForkCount=m)}function db(e,i,a){var c=i.pendingProps,h=c.revealOrder,m=c.tail;c=c.children;var x=he.current,R=(x&2)!==0;if(R?(x=x&1|2,i.flags|=128):x&=1,rt(he,x),Je(e,i,c,a),c=Ft?Bs:0,!R&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ub(e,a,i);else if(e.tag===19)ub(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Sr(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Vu(i,!1,h,a,m,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Sr(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Vu(i,!0,a,null,m,c);break;case"together":Vu(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function ni(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Li|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Pl(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(l(153));if(i.child!==null){for(e=i.child,a=Dn(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Dn(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Wu(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&yr(e)))}function qZ(e,i,a){switch(i.tag){case 3:It(i,i.stateNode.containerInfo),Ri(i,be,e.memoizedState.cache),tl();break;case 27:case 5:ln(i);break;case 4:It(i,i.stateNode.containerInfo);break;case 10:Ri(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qo(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Wi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ob(e,i,a):(Wi(i),e=ni(e,i,a),e!==null?e.sibling:null);Wi(i);break;case 19:var h=(e.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(Pl(e,i,a,!1),c=(a&i.childLanes)!==0),h){if(c)return db(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(he,he.current),c)break;return null;case 22:return i.lanes=0,ib(e,i,a,i.pendingProps);case 24:Ri(i,be,e.memoizedState.cache)}return ni(e,i,a)}function hb(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)ye=!0;else{if(!Wu(e,a)&&(i.flags&128)===0)return ye=!1,qZ(e,i,a);ye=(e.flags&131072)!==0}else ye=!1,Ft&&(i.flags&1048576)!==0&&Kf(i,Bs,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=ll(i.elementType),i.type=e,typeof e=="function")No(e)?(c=cl(e,c),i.tag=1,i=rb(null,i,e,c,a)):(i.tag=0,i=xu(null,i,e,c,a));else{if(e!=null){var h=e.$$typeof;if(h===M){i.tag=11,i=tb(null,i,e,c,a);break t}else if(h===H){i.tag=14,i=eb(null,i,e,c,a);break t}}throw i=q(e)||e,Error(l(306,i,""))}}return i;case 0:return xu(e,i,i.type,i.pendingProps,a);case 1:return c=i.type,h=cl(c,i.pendingProps),rb(e,i,c,h,a);case 3:t:{if(It(i,i.stateNode.containerInfo),e===null)throw Error(l(387));c=i.pendingProps;var m=i.memoizedState;h=m.element,Qo(e,i),Qs(i,c,null,a);var x=i.memoizedState;if(c=x.cache,Ri(i,be,c),c!==m.cache&&ko(i,[be],a,!0),js(),c=x.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=cb(e,i,c,a);break t}else if(c!==h){h=Zn(Error(l(424)),i),Es(h),i=cb(e,i,c,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=vn(e.firstChild),Ye=i,Ft=!0,gi=null,Gn=!0,a=im(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(tl(),c===h){i=ni(e,i,a);break t}Je(e,i,c,a)}i=i.child}return i;case 26:return Fr(e,i),e===null?(a=R0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ft||(a=i.type,e=i.pendingProps,c=$r(xt.current).createElement(a),c[We]=i,c[Ie]=e,Le(c,a,e),Re(c),i.stateNode=c):i.memoizedState=R0(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ln(i),e===null&&Ft&&(c=i.stateNode=x0(i.type,i.pendingProps,xt.current),Ye=i,Gn=!0,h=te,Fi(i.type)?(ad=h,te=vn(c.firstChild)):te=h),Je(e,i,i.pendingProps.children,a),Fr(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ft&&((h=c=te)&&(c=Y1(c,i.type,i.pendingProps,Gn),c!==null?(i.stateNode=c,Ye=i,te=vn(c.firstChild),Gn=!1,h=!0):h=!1),h||Gi(i)),ln(i),h=i.type,m=i.pendingProps,x=e!==null?e.memoizedProps:null,c=m.children,ed(h,m)?c=null:x!==null&&ed(h,x)&&(i.flags|=32),i.memoizedState!==null&&(h=tu(e,i,MZ,null,null,a),fa._currentValue=h),Fr(e,i),Je(e,i,c,a),i.child;case 6:return e===null&&Ft&&((e=a=te)&&(a=C1(a,i.pendingProps,Gn),a!==null?(i.stateNode=a,Ye=i,te=null,e=!0):e=!1),e||Gi(i)),null;case 13:return ob(e,i,a);case 4:return It(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=al(i,null,c,a):Je(e,i,c,a),i.child;case 11:return tb(e,i,i.type,i.pendingProps,a);case 7:return Je(e,i,i.pendingProps,a),i.child;case 8:return Je(e,i,i.pendingProps.children,a),i.child;case 12:return Je(e,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,Ri(i,i.type,c.value),Je(e,i,c.children,a),i.child;case 9:return h=i.type._context,c=i.pendingProps.children,nl(i),h=Ce(h),c=c(h),i.flags|=1,Je(e,i,c,a),i.child;case 14:return eb(e,i,i.type,i.pendingProps,a);case 15:return nb(e,i,i.type,i.pendingProps,a);case 19:return db(e,i,a);case 31:return OZ(e,i,a);case 22:return ib(e,i,a,i.pendingProps);case 24:return nl(i),c=Ce(be),e===null?(h=Ko(),h===null&&(h=qt,m=Uo(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:c,cache:h},jo(i),Ri(i,be,h)):((e.lanes&a)!==0&&(Qo(e,i),Qs(i,null,null,a),js()),h=e.memoizedState,m=i.memoizedState,h.parent!==c?(h={parent:c,cache:c},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ri(i,be,c)):(c=m.cache,Ri(i,be,c),c!==h.cache&&ko(i,[be],a,!0))),Je(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function ii(e){e.flags|=4}function Yu(e,i,a,c,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Bb())e.flags|=8192;else throw sl=gr,Po}else e.flags&=-16777217}function fb(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Y0(i))if(Bb())e.flags|=8192;else throw sl=gr,Po}function zr(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ph():536870912,e.lanes|=i,is|=i)}function $s(e,i){if(!Ft)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function ee(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=a,i}function $Z(e,i,a){var c=i.pendingProps;switch(Fo(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(i),null;case 1:return ee(i),null;case 3:return a=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),$n(be),Tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Kl(i)?ii(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zo())),ee(i),null;case 26:var h=i.type,m=i.memoizedState;return e===null?(ii(i),m!==null?(ee(i),fb(i,m)):(ee(i),Yu(i,h,null,c,a))):m?m!==e.memoizedState?(ii(i),ee(i),fb(i,m)):(ee(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&ii(i),ee(i),Yu(i,h,e,c,a)),null;case 27:if(zn(i),a=xt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&ii(i);else{if(!c){if(i.stateNode===null)throw Error(l(166));return ee(i),null}e=dt.current,Kl(i)?jf(i):(e=x0(h,c,a),i.stateNode=e,ii(i))}return ee(i),null;case 5:if(zn(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&ii(i);else{if(!c){if(i.stateNode===null)throw Error(l(166));return ee(i),null}if(m=dt.current,Kl(i))jf(i);else{var x=$r(xt.current);switch(m){case 1:m=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=x.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?x.createElement(h,{is:c.is}):x.createElement(h)}}m[We]=i,m[Ie]=c;t:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)m.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break t;for(;x.sibling===null;){if(x.return===null||x.return===i)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=m;t:switch(Le(m,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&ii(i)}}return ee(i),Yu(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&ii(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(l(166));if(e=xt.current,Kl(i)){if(e=i.stateNode,a=i.memoizedProps,c=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}e[We]=i,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||o0(e.nodeValue,a)),e||Gi(i,!0)}else e=$r(e).createTextNode(c),e[We]=i,i.stateNode=e}return ee(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(c=Kl(i),a!==null){if(e===null){if(!c)throw Error(l(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[We]=i}else tl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),e=!1}else a=zo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(on(i),i):(on(i),null);if((i.flags&128)!==0)throw Error(l(558))}return ee(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Kl(i),c!==null&&c.dehydrated!==null){if(e===null){if(!h)throw Error(l(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[We]=i}else tl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),h=!1}else h=zo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(on(i),i):(on(i),null)}return on(i),(i.flags&128)!==0?(i.lanes=a,i):(a=c!==null,e=e!==null&&e.memoizedState!==null,a&&(c=i.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),zr(i,i.updateQueue),ee(i),null);case 4:return Tt(),e===null&&Du(i.stateNode.containerInfo),ee(i),null;case 10:return $n(i.type),ee(i),null;case 19:if(B(he),c=i.memoizedState,c===null)return ee(i),null;if(h=(i.flags&128)!==0,m=c.rendering,m===null)if(h)$s(c,!1);else{if(ae!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(m=Sr(e),m!==null){for(i.flags|=128,$s(c,!1),e=m.updateQueue,i.updateQueue=e,zr(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)kf(a,e),a=a.sibling;return rt(he,he.current&1|2),Ft&&On(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&Ee()>Mr&&(i.flags|=128,h=!0,$s(c,!1),i.lanes=4194304)}else{if(!h)if(e=Sr(m),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,zr(i,e),$s(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Ft)return ee(i),null}else 2*Ee()-c.renderingStartTime>Mr&&a!==536870912&&(i.flags|=128,h=!0,$s(c,!1),i.lanes=4194304);c.isBackwards?(m.sibling=i.child,i.child=m):(e=c.last,e!==null?e.sibling=m:i.child=m,c.last=m)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Ee(),e.sibling=null,a=he.current,rt(he,h?a&1|2:a&1),Ft&&On(i,c.treeForkCount),e):(ee(i),null);case 22:case 23:return on(i),Oo(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(ee(i),i.subtreeFlags&6&&(i.flags|=8192)):ee(i),a=i.updateQueue,a!==null&&zr(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),e!==null&&B(il),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$n(be),ee(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function t1(e,i){switch(Fo(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return $n(be),Tt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return zn(i),null;case 31:if(i.memoizedState!==null){if(on(i),i.alternate===null)throw Error(l(340));tl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(on(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(l(340));tl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return B(he),null;case 4:return Tt(),null;case 10:return $n(i.type),null;case 22:case 23:return on(i),Oo(),e!==null&&B(il),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return $n(be),null;case 25:return null;default:return null}}function mb(e,i){switch(Fo(i),i.tag){case 3:$n(be),Tt();break;case 26:case 27:case 5:zn(i);break;case 4:Tt();break;case 31:i.memoizedState!==null&&on(i);break;case 13:on(i);break;case 19:B(he);break;case 10:$n(i.type);break;case 22:case 23:on(i),Oo(),e!==null&&B(il);break;case 24:$n(be)}}function ta(e,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var h=c.next;a=h;do{if((a.tag&e)===e){c=void 0;var m=a.create,x=a.inst;c=m(),x.destroy=c}a=a.next}while(a!==h)}}catch(R){jt(i,i.return,R)}}function Ci(e,i,a){try{var c=i.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&e)===e){var x=c.inst,R=x.destroy;if(R!==void 0){x.destroy=void 0,h=i;var L=a,P=R;try{P()}catch(tt){jt(h,L,tt)}}}c=c.next}while(c!==m)}}catch(tt){jt(i,i.return,tt)}}function bb(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{sm(i,a)}catch(c){jt(e,e.return,c)}}}function pb(e,i,a){a.props=cl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){jt(e,i,c)}}function ea(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(h){jt(e,i,h)}}function Un(e,i){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(h){jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){jt(e,i,h)}else a.current=null}function yb(e){var i=e.type,a=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(h){jt(e,e.return,h)}}function Cu(e,i,a){try{var c=e.stateNode;G1(c,e.type,a,i),c[Ie]=i}catch(h){jt(e,e.return,h)}}function Xb(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fi(e.type)||e.tag===4}function Ju(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Xb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lu(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=In));else if(c!==4&&(c===27&&Fi(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Lu(e,i,a),e=e.sibling;e!==null;)Lu(e,i,a),e=e.sibling}function Br(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(c!==4&&(c===27&&Fi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Br(e,i,a),e=e.sibling;e!==null;)Br(e,i,a),e=e.sibling}function Zb(e){var i=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Le(i,c,a),i[We]=e,i[Ie]=a}catch(m){jt(e,e.return,m)}}var li=!1,Xe=!1,Nu=!1,xb=typeof WeakSet=="function"?WeakSet:Set,ve=null;function e1(e,i){if(e=e.containerInfo,$u=ac,e=Nf(e),So(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var x=0,R=-1,L=-1,P=0,tt=0,st=e,Q=null;e:for(;;){for(var D;st!==a||h!==0&&st.nodeType!==3||(R=x+h),st!==m||c!==0&&st.nodeType!==3||(L=x+c),st.nodeType===3&&(x+=st.nodeValue.length),(D=st.firstChild)!==null;)Q=st,st=D;for(;;){if(st===e)break e;if(Q===a&&++P===h&&(R=x),Q===m&&++tt===c&&(L=x),(D=st.nextSibling)!==null)break;st=Q,Q=st.parentNode}st=D}a=R===-1||L===-1?null:{start:R,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(td={focusedElem:e,selectionRange:a},ac=!1,ve=i;ve!==null;)if(i=ve,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ve=e;else for(;ve!==null;){switch(i=ve,m=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var ft=cl(a.type,h);e=c.getSnapshotBeforeUpdate(ft,m),c.__reactInternalSnapshotBeforeUpdate=e}catch(Rt){jt(a,a.return,Rt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)id(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=i.sibling,e!==null){e.return=i.return,ve=e;break}ve=i.return}}function gb(e,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:ai(e,a),c&4&&ta(5,a);break;case 1:if(ai(e,a),c&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(x){jt(a,a.return,x)}else{var h=cl(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(x){jt(a,a.return,x)}}c&64&&bb(a),c&512&&ea(a,a.return);break;case 3:if(ai(e,a),c&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{sm(e,i)}catch(x){jt(a,a.return,x)}}break;case 27:i===null&&c&4&&Zb(a);case 26:case 5:ai(e,a),i===null&&c&4&&yb(a),c&512&&ea(a,a.return);break;case 12:ai(e,a);break;case 31:ai(e,a),c&4&&vb(e,a);break;case 13:ai(e,a),c&4&&Sb(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=u1.bind(null,a),J1(e,a))));break;case 22:if(c=a.memoizedState!==null||li,!c){i=i!==null&&i.memoizedState!==null||Xe,h=li;var m=Xe;li=c,(Xe=i)&&!m?ri(e,a,(a.subtreeFlags&8772)!==0):ai(e,a),li=h,Xe=m}break;case 30:break;default:ai(e,a)}}function Gb(e){var i=e.alternate;i!==null&&(e.alternate=null,Gb(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ro(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,De=!1;function si(e,i,a){for(a=a.child;a!==null;)Rb(e,i,a),a=a.sibling}function Rb(e,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(nt,a)}catch{}switch(a.tag){case 26:Xe||Un(a,i),si(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xe||Un(a,i);var c=ie,h=De;Fi(a.type)&&(ie=a.stateNode,De=!1),si(e,i,a),ua(a.stateNode),ie=c,De=h;break;case 5:Xe||Un(a,i);case 6:if(c=ie,h=De,ie=null,si(e,i,a),ie=c,De=h,ie!==null)if(De)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(m){jt(a,i,m)}else try{ie.removeChild(a.stateNode)}catch(m){jt(a,i,m)}break;case 18:ie!==null&&(De?(e=ie,b0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ds(e)):b0(ie,a.stateNode));break;case 4:c=ie,h=De,ie=a.stateNode.containerInfo,De=!0,si(e,i,a),ie=c,De=h;break;case 0:case 11:case 14:case 15:Ci(2,a,i),Xe||Ci(4,a,i),si(e,i,a);break;case 1:Xe||(Un(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&pb(a,i,c)),si(e,i,a);break;case 21:si(e,i,a);break;case 22:Xe=(c=Xe)||a.memoizedState!==null,si(e,i,a),Xe=c;break;default:si(e,i,a)}}function vb(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ds(e)}catch(a){jt(i,i.return,a)}}}function Sb(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ds(e)}catch(a){jt(i,i.return,a)}}function n1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new xb),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new xb),i;default:throw Error(l(435,e.tag))}}function Er(e,i){var a=n1(e);i.forEach(function(c){if(!a.has(c)){a.add(c);var h=d1.bind(null,e,c);c.then(h,h)}})}function Oe(e,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c],m=e,x=i,R=x;t:for(;R!==null;){switch(R.tag){case 27:if(Fi(R.type)){ie=R.stateNode,De=!1;break t}break;case 5:ie=R.stateNode,De=!1;break t;case 3:case 4:ie=R.stateNode.containerInfo,De=!0;break t}R=R.return}if(ie===null)throw Error(l(160));Rb(m,x,h),ie=null,De=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Vb(i,e),i=i.sibling}var Ln=null;function Vb(e,i){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Oe(i,e),qe(e),c&4&&(Ci(3,e,e.return),ta(3,e),Ci(5,e,e.return));break;case 1:Oe(i,e),qe(e),c&512&&(Xe||a===null||Un(a,a.return)),c&64&&li&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var h=Ln;if(Oe(i,e),qe(e),c&512&&(Xe||a===null||Un(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){t:{c=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(c){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ys]||m[We]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(c),h.head.insertBefore(m,h.querySelector("head > title"))),Le(m,c,a),m[We]=e,Re(m),c=m;break t;case"link":var x=V0("link","href",h).get(c+(a.href||""));if(x){for(var R=0;R<x.length;R++)if(m=x[R],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(R,1);break e}}m=h.createElement(c),Le(m,c,a),h.head.appendChild(m);break;case"meta":if(x=V0("meta","content",h).get(c+(a.content||""))){for(R=0;R<x.length;R++)if(m=x[R],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(R,1);break e}}m=h.createElement(c),Le(m,c,a),h.head.appendChild(m);break;default:throw Error(l(468,c))}m[We]=e,Re(m),c=m}e.stateNode=c}else W0(h,e.type,e.stateNode);else e.stateNode=S0(h,c,e.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?W0(h,e.type,e.stateNode):S0(h,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Cu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Oe(i,e),qe(e),c&512&&(Xe||a===null||Un(a,a.return)),a!==null&&c&4&&Cu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Oe(i,e),qe(e),c&512&&(Xe||a===null||Un(a,a.return)),e.flags&32){h=e.stateNode;try{Hl(h,"")}catch(ft){jt(e,e.return,ft)}}c&4&&e.stateNode!=null&&(h=e.memoizedProps,Cu(e,h,a!==null?a.memoizedProps:h)),c&1024&&(Nu=!0);break;case 6:if(Oe(i,e),qe(e),c&4){if(e.stateNode===null)throw Error(l(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(ft){jt(e,e.return,ft)}}break;case 3:if(nc=null,h=Ln,Ln=tc(i.containerInfo),Oe(i,e),Ln=h,qe(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ds(i.containerInfo)}catch(ft){jt(e,e.return,ft)}Nu&&(Nu=!1,Wb(e));break;case 4:c=Ln,Ln=tc(e.stateNode.containerInfo),Oe(i,e),qe(e),Ln=c;break;case 12:Oe(i,e),qe(e);break;case 31:Oe(i,e),qe(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Er(e,c)));break;case 13:Oe(i,e),qe(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ur=Ee()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Er(e,c)));break;case 22:h=e.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,P=li,tt=Xe;if(li=P||h,Xe=tt||L,Oe(i,e),Xe=tt,li=P,qe(e),c&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||L||li||Xe||ol(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){L=a=i;try{if(m=L.stateNode,h)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{R=L.stateNode;var st=L.memoizedProps.style,Q=st!=null&&st.hasOwnProperty("display")?st.display:null;R.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ft){jt(L,L.return,ft)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=h?"":L.memoizedProps}catch(ft){jt(L,L.return,ft)}}}else if(i.tag===18){if(a===null){L=i;try{var D=L.stateNode;h?p0(D,!0):p0(L.stateNode,!1)}catch(ft){jt(L,L.return,ft)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Er(e,a))));break;case 19:Oe(i,e),qe(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Er(e,c)));break;case 30:break;case 21:break;default:Oe(i,e),qe(e)}}function qe(e){var i=e.flags;if(i&2){try{for(var a,c=e.return;c!==null;){if(Xb(c)){a=c;break}c=c.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var h=a.stateNode,m=Ju(e);Br(e,m,h);break;case 5:var x=a.stateNode;a.flags&32&&(Hl(x,""),a.flags&=-33);var R=Ju(e);Br(e,R,x);break;case 3:case 4:var L=a.stateNode.containerInfo,P=Ju(e);Lu(e,P,L);break;default:throw Error(l(161))}}catch(tt){jt(e,e.return,tt)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Wb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Wb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ai(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)gb(e,i.alternate,i),i=i.sibling}function ol(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ci(4,i,i.return),ol(i);break;case 1:Un(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&pb(i,i.return,a),ol(i);break;case 27:ua(i.stateNode);case 26:case 5:Un(i,i.return),ol(i);break;case 22:i.memoizedState===null&&ol(i);break;case 30:ol(i);break;default:ol(i)}e=e.sibling}}function ri(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,h=e,m=i,x=m.flags;switch(m.tag){case 0:case 11:case 15:ri(h,m,a),ta(4,m);break;case 1:if(ri(h,m,a),c=m,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){jt(c,c.return,P)}if(c=m,h=c.updateQueue,h!==null){var R=c.stateNode;try{var L=h.shared.hiddenCallbacks;if(L!==null)for(h.shared.hiddenCallbacks=null,h=0;h<L.length;h++)lm(L[h],R)}catch(P){jt(c,c.return,P)}}a&&x&64&&bb(m),ea(m,m.return);break;case 27:Zb(m);case 26:case 5:ri(h,m,a),a&&c===null&&x&4&&yb(m),ea(m,m.return);break;case 12:ri(h,m,a);break;case 31:ri(h,m,a),a&&x&4&&vb(h,m);break;case 13:ri(h,m,a),a&&x&4&&Sb(h,m);break;case 22:m.memoizedState===null&&ri(h,m,a),ea(m,m.return);break;case 30:break;default:ri(h,m,a)}i=i.sibling}}function wu(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ks(a))}function Hu(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ks(e))}function Nn(e,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yb(e,i,a,c),i=i.sibling}function Yb(e,i,a,c){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Nn(e,i,a,c),h&2048&&ta(9,i);break;case 1:Nn(e,i,a,c);break;case 3:Nn(e,i,a,c),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ks(e)));break;case 12:if(h&2048){Nn(e,i,a,c),e=i.stateNode;try{var m=i.memoizedProps,x=m.id,R=m.onPostCommit;typeof R=="function"&&R(x,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){jt(i,i.return,L)}}else Nn(e,i,a,c);break;case 31:Nn(e,i,a,c);break;case 13:Nn(e,i,a,c);break;case 23:break;case 22:m=i.stateNode,x=i.alternate,i.memoizedState!==null?m._visibility&2?Nn(e,i,a,c):na(e,i):m._visibility&2?Nn(e,i,a,c):(m._visibility|=2,ts(e,i,a,c,(i.subtreeFlags&10256)!==0||!1)),h&2048&&wu(x,i);break;case 24:Nn(e,i,a,c),h&2048&&Hu(i.alternate,i);break;default:Nn(e,i,a,c)}}function ts(e,i,a,c,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=e,x=i,R=a,L=c,P=x.flags;switch(x.tag){case 0:case 11:case 15:ts(m,x,R,L,h),ta(8,x);break;case 23:break;case 22:var tt=x.stateNode;x.memoizedState!==null?tt._visibility&2?ts(m,x,R,L,h):na(m,x):(tt._visibility|=2,ts(m,x,R,L,h)),h&&P&2048&&wu(x.alternate,x);break;case 24:ts(m,x,R,L,h),h&&P&2048&&Hu(x.alternate,x);break;default:ts(m,x,R,L,h)}i=i.sibling}}function na(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,c=i,h=c.flags;switch(c.tag){case 22:na(a,c),h&2048&&wu(c.alternate,c);break;case 24:na(a,c),h&2048&&Hu(c.alternate,c);break;default:na(a,c)}i=i.sibling}}var ia=8192;function es(e,i,a){if(e.subtreeFlags&ia)for(e=e.child;e!==null;)Cb(e,i,a),e=e.sibling}function Cb(e,i,a){switch(e.tag){case 26:es(e,i,a),e.flags&ia&&e.memoizedState!==null&&U1(a,Ln,e.memoizedState,e.memoizedProps);break;case 5:es(e,i,a);break;case 3:case 4:var c=Ln;Ln=tc(e.stateNode.containerInfo),es(e,i,a),Ln=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=ia,ia=16777216,es(e,i,a),ia=c):es(e,i,a));break;default:es(e,i,a)}}function Jb(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function la(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];ve=c,Nb(c,e)}Jb(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lb(e),e=e.sibling}function Lb(e){switch(e.tag){case 0:case 11:case 15:la(e),e.flags&2048&&Ci(9,e,e.return);break;case 3:la(e);break;case 12:la(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,kr(e)):la(e);break;default:la(e)}}function kr(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];ve=c,Nb(c,e)}Jb(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ci(8,i,i.return),kr(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,kr(i));break;default:kr(i)}e=e.sibling}}function Nb(e,i){for(;ve!==null;){var a=ve;switch(a.tag){case 0:case 11:case 15:Ci(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ks(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,ve=c;else t:for(a=e;ve!==null;){c=ve;var h=c.sibling,m=c.return;if(Gb(c),c===a){ve=null;break t}if(h!==null){h.return=m,ve=h;break t}ve=m}}}var i1={getCacheForType:function(e){var i=Ce(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Ce(be).controller.signal}},l1=typeof WeakMap=="function"?WeakMap:Map,kt=0,qt=null,Jt=null,Nt=0,Pt=0,un=null,Ji=!1,ns=!1,Tu=!1,ci=0,ae=0,Li=0,ul=0,Fu=0,dn=0,is=0,sa=null,$e=null,_u=!1,Ur=0,wb=0,Mr=1/0,Kr=null,Ni=null,xe=0,wi=null,ls=null,oi=0,zu=0,Bu=null,Hb=null,aa=0,Eu=null;function hn(){return(kt&2)!==0&&Nt!==0?Nt&-Nt:w.T!==null?ju():Ah()}function Tb(){if(dn===0)if((Nt&536870912)===0||Ft){var e=qa;qa<<=1,(qa&3932160)===0&&(qa=262144),dn=e}else dn=536870912;return e=cn.current,e!==null&&(e.flags|=32),dn}function tn(e,i,a){(e===qt&&(Pt===2||Pt===9)||e.cancelPendingCommit!==null)&&(ss(e,0),Hi(e,Nt,dn,!1)),Ws(e,a),((kt&2)===0||e!==qt)&&(e===qt&&((kt&2)===0&&(ul|=a),ae===4&&Hi(e,Nt,dn,!1)),Mn(e))}function Fb(e,i,a){if((kt&6)!==0)throw Error(l(327));var c=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Vs(e,i),h=c?r1(e,i):Uu(e,i,!0),m=c;do{if(h===0){ns&&!c&&Hi(e,i,0,!1);break}else{if(a=e.current.alternate,m&&!s1(a)){h=Uu(e,i,!1),m=!1;continue}if(h===2){if(m=i,e.errorRecoveryDisabledLanes&m)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;t:{var R=e;h=sa;var L=R.current.memoizedState.isDehydrated;if(L&&(ss(R,x).flags|=256),x=Uu(R,x,!1),x!==2){if(Tu&&!L){R.errorRecoveryDisabledLanes|=m,ul|=m,h=4;break t}m=$e,$e=h,m!==null&&($e===null?$e=m:$e.push.apply($e,m))}h=x}if(m=!1,h!==2)continue}}if(h===1){ss(e,0),Hi(e,i,0,!0);break}t:{switch(c=e,m=h,m){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Hi(c,i,dn,!Ji);break t;case 2:$e=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(h=Ur+300-Ee(),10<h)){if(Hi(c,i,dn,!Ji),tr(c,0,!0)!==0)break t;oi=i,c.timeoutHandle=f0(_b.bind(null,c,a,$e,Kr,_u,i,dn,ul,is,Ji,m,"Throttled",-0,0),h);break t}_b(c,a,$e,Kr,_u,i,dn,ul,is,Ji,m,null,-0,0)}}break}while(!0);Mn(e)}function _b(e,i,a,c,h,m,x,R,L,P,tt,st,Q,D){if(e.timeoutHandle=-1,st=i.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:In},Cb(i,m,st);var ft=(m&62914560)===m?Ur-Ee():(m&4194048)===m?wb-Ee():0;if(ft=M1(st,ft),ft!==null){oi=m,e.cancelPendingCommit=ft(Pb.bind(null,e,i,m,a,c,h,x,R,L,tt,st,null,Q,D)),Hi(e,m,x,!P);return}}Pb(e,i,m,a,c,h,x,R,L)}function s1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var h=a[c],m=h.getSnapshot;h=h.value;try{if(!an(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hi(e,i,a,c){i&=~Fu,i&=~ul,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var h=i;0<h;){var m=31-Ct(h),x=1<<m;c[m]=-1,h&=~x}a!==0&&jh(e,a,i)}function Pr(){return(kt&6)===0?(ra(0),!1):!0}function ku(){if(Jt!==null){if(Pt===0)var e=Jt.return;else e=Jt,qn=el=null,iu(e),Al=null,Ms=0,e=Jt;for(;e!==null;)mb(e.alternate,e),e=e.return;Jt=null}}function ss(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,S1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),oi=0,ku(),qt=e,Jt=a=Dn(e.current,null),Nt=i,Pt=0,un=null,Ji=!1,ns=Vs(e,i),Tu=!1,is=dn=Fu=ul=Li=ae=0,$e=sa=null,_u=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var h=31-Ct(c),m=1<<h;i|=e[h],c&=~m}return ci=i,hr(),a}function zb(e,i){Wt=null,w.H=Os,i===Il||i===xr?(i=tm(),Pt=3):i===Po?(i=tm(),Pt=4):Pt=i===Zu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,un=i,Jt===null&&(ae=1,Hr(e,Zn(i,e.current)))}function Bb(){var e=cn.current;return e===null?!0:(Nt&4194048)===Nt?Rn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Rn:!1}function Eb(){var e=w.H;return w.H=Os,e===null?Os:e}function kb(){var e=w.A;return w.A=i1,e}function jr(){ae=4,Ji||(Nt&4194048)!==Nt&&cn.current!==null||(ns=!0),(Li&134217727)===0&&(ul&134217727)===0||qt===null||Hi(qt,Nt,dn,!1)}function Uu(e,i,a){var c=kt;kt|=2;var h=Eb(),m=kb();(qt!==e||Nt!==i)&&(Kr=null,ss(e,i)),i=!1;var x=ae;t:do try{if(Pt!==0&&Jt!==null){var R=Jt,L=un;switch(Pt){case 8:ku(),x=6;break t;case 3:case 2:case 9:case 6:cn.current===null&&(i=!0);var P=Pt;if(Pt=0,un=null,as(e,R,L,P),a&&ns){x=0;break t}break;default:P=Pt,Pt=0,un=null,as(e,R,L,P)}}a1(),x=ae;break}catch(tt){zb(e,tt)}while(!0);return i&&e.shellSuspendCounter++,qn=el=null,kt=c,w.H=h,w.A=m,Jt===null&&(qt=null,Nt=0,hr()),x}function a1(){for(;Jt!==null;)Ub(Jt)}function r1(e,i){var a=kt;kt|=2;var c=Eb(),h=kb();qt!==e||Nt!==i?(Kr=null,Mr=Ee()+500,ss(e,i)):ns=Vs(e,i);t:do try{if(Pt!==0&&Jt!==null){i=Jt;var m=un;e:switch(Pt){case 1:Pt=0,un=null,as(e,i,m,1);break;case 2:case 9:if(qf(m)){Pt=0,un=null,Mb(i);break}i=function(){Pt!==2&&Pt!==9||qt!==e||(Pt=7),Mn(e)},m.then(i,i);break t;case 3:Pt=7;break t;case 4:Pt=5;break t;case 7:qf(m)?(Pt=0,un=null,Mb(i)):(Pt=0,un=null,as(e,i,m,7));break;case 5:var x=null;switch(Jt.tag){case 26:x=Jt.memoizedState;case 5:case 27:var R=Jt;if(x?Y0(x):R.stateNode.complete){Pt=0,un=null;var L=R.sibling;if(L!==null)Jt=L;else{var P=R.return;P!==null?(Jt=P,Qr(P)):Jt=null}break e}}Pt=0,un=null,as(e,i,m,5);break;case 6:Pt=0,un=null,as(e,i,m,6);break;case 8:ku(),ae=6;break t;default:throw Error(l(462))}}c1();break}catch(tt){zb(e,tt)}while(!0);return qn=el=null,w.H=c,w.A=h,kt=a,Jt!==null?0:(qt=null,Nt=0,hr(),ae)}function c1(){for(;Jt!==null&&!bn();)Ub(Jt)}function Ub(e){var i=hb(e.alternate,e,ci);e.memoizedProps=e.pendingProps,i===null?Qr(e):Jt=i}function Mb(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=ab(a,i,i.pendingProps,i.type,void 0,Nt);break;case 11:i=ab(a,i,i.pendingProps,i.type.render,i.ref,Nt);break;case 5:iu(i);default:mb(a,i),i=Jt=kf(i,ci),i=hb(a,i,ci)}e.memoizedProps=e.pendingProps,i===null?Qr(e):Jt=i}function as(e,i,a,c){qn=el=null,iu(i),Al=null,Ms=0;var h=i.return;try{if(DZ(e,h,i,a,Nt)){ae=1,Hr(e,Zn(a,e.current)),Jt=null;return}}catch(m){if(h!==null)throw Jt=h,m;ae=1,Hr(e,Zn(a,e.current)),Jt=null;return}i.flags&32768?(Ft||c===1?e=!0:ns||(Nt&536870912)!==0?e=!1:(Ji=e=!0,(c===2||c===9||c===3||c===6)&&(c=cn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Kb(i,e)):Qr(i)}function Qr(e){var i=e;do{if((i.flags&32768)!==0){Kb(i,Ji);return}e=i.return;var a=$Z(i.alternate,i,ci);if(a!==null){Jt=a;return}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=e}while(i!==null);ae===0&&(ae=5)}function Kb(e,i){do{var a=t1(e.alternate,e);if(a!==null){a.flags&=32767,Jt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Jt=e;return}Jt=e=a}while(e!==null);ae=6,Jt=null}function Pb(e,i,a,c,h,m,x,R,L){e.cancelPendingCommit=null;do Ir();while(xe!==0);if((kt&6)!==0)throw Error(l(327));if(i!==null){if(i===e.current)throw Error(l(177));if(m=i.lanes|i.childLanes,m|=Jo,k9(e,a,m,x,R,L),e===qt&&(Jt=qt=null,Nt=0),ls=i,wi=e,oi=a,zu=m,Bu=h,Hb=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,h1(X,function(){return Db(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=w.T,w.T=null,h=I.p,I.p=2,x=kt,kt|=4;try{e1(e,i,a)}finally{kt=x,I.p=h,w.T=c}}xe=1,jb(),Qb(),Ib()}}function jb(){if(xe===1){xe=0;var e=wi,i=ls,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=w.T,w.T=null;var c=I.p;I.p=2;var h=kt;kt|=4;try{Vb(i,e);var m=td,x=Nf(e.containerInfo),R=m.focusedElem,L=m.selectionRange;if(x!==R&&R&&R.ownerDocument&&Lf(R.ownerDocument.documentElement,R)){if(L!==null&&So(R)){var P=L.start,tt=L.end;if(tt===void 0&&(tt=P),"selectionStart"in R)R.selectionStart=P,R.selectionEnd=Math.min(tt,R.value.length);else{var st=R.ownerDocument||document,Q=st&&st.defaultView||window;if(Q.getSelection){var D=Q.getSelection(),ft=R.textContent.length,Rt=Math.min(L.start,ft),Ot=L.end===void 0?Rt:Math.min(L.end,ft);!D.extend&&Rt>Ot&&(x=Ot,Ot=Rt,Rt=x);var U=Jf(R,Rt),z=Jf(R,Ot);if(U&&z&&(D.rangeCount!==1||D.anchorNode!==U.node||D.anchorOffset!==U.offset||D.focusNode!==z.node||D.focusOffset!==z.offset)){var K=st.createRange();K.setStart(U.node,U.offset),D.removeAllRanges(),Rt>Ot?(D.addRange(K),D.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),D.addRange(K))}}}}for(st=[],D=R;D=D.parentNode;)D.nodeType===1&&st.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<st.length;R++){var it=st[R];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}ac=!!$u,td=$u=null}finally{kt=h,I.p=c,w.T=a}}e.current=i,xe=2}}function Qb(){if(xe===2){xe=0;var e=wi,i=ls,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=w.T,w.T=null;var c=I.p;I.p=2;var h=kt;kt|=4;try{gb(e,i.alternate,i)}finally{kt=h,I.p=c,w.T=a}}xe=3}}function Ib(){if(xe===4||xe===3){xe=0,Ss();var e=wi,i=ls,a=oi,c=Hb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,ls=wi=null,Ab(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ni=null),so(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(nt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=w.T,h=I.p,I.p=2,w.T=null;try{for(var m=e.onRecoverableError,x=0;x<c.length;x++){var R=c[x];m(R.value,{componentStack:R.stack})}}finally{w.T=i,I.p=h}}(oi&3)!==0&&Ir(),Mn(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Eu?aa++:(aa=0,Eu=e):aa=0,ra(0)}}function Ab(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ks(i)))}function Ir(){return jb(),Qb(),Ib(),Db()}function Db(){if(xe!==5)return!1;var e=wi,i=zu;zu=0;var a=so(oi),c=w.T,h=I.p;try{I.p=32>a?32:a,w.T=null,a=Bu,Bu=null;var m=wi,x=oi;if(xe=0,ls=wi=null,oi=0,(kt&6)!==0)throw Error(l(331));var R=kt;if(kt|=4,Lb(m.current),Yb(m,m.current,x,a),kt=R,ra(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(nt,m)}catch{}return!0}finally{I.p=h,w.T=c,Ab(e,i)}}function Ob(e,i,a){i=Zn(a,i),i=Xu(e.stateNode,i,2),e=Vi(e,i,2),e!==null&&(Ws(e,2),Mn(e))}function jt(e,i,a){if(e.tag===3)Ob(e,e,a);else for(;i!==null;){if(i.tag===3){Ob(i,e,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ni===null||!Ni.has(c))){e=Zn(a,e),a=qm(2),c=Vi(i,a,2),c!==null&&($m(a,c,i,e),Ws(c,2),Mn(c));break}}i=i.return}}function Mu(e,i,a){var c=e.pingCache;if(c===null){c=e.pingCache=new l1;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(a)||(Tu=!0,h.add(a),e=o1.bind(null,e,i,a),i.then(e,e))}function o1(e,i,a){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,qt===e&&(Nt&a)===a&&(ae===4||ae===3&&(Nt&62914560)===Nt&&300>Ee()-Ur?(kt&2)===0&&ss(e,0):Fu|=a,is===Nt&&(is=0)),Mn(e)}function qb(e,i){i===0&&(i=Ph()),e=qi(e,i),e!==null&&(Ws(e,i),Mn(e))}function u1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),qb(e,a)}function d1(e,i){var a=0;switch(e.tag){case 31:case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(i),qb(e,a)}function h1(e,i){return Wl(e,i)}var Ar=null,rs=null,Ku=!1,Dr=!1,Pu=!1,Ti=0;function Mn(e){e!==rs&&e.next===null&&(rs===null?Ar=rs=e:rs=rs.next=e),Dr=!0,Ku||(Ku=!0,m1())}function ra(e,i){if(!Pu&&Dr){Pu=!0;do for(var a=!1,c=Ar;c!==null;){if(e!==0){var h=c.pendingLanes;if(h===0)var m=0;else{var x=c.suspendedLanes,R=c.pingedLanes;m=(1<<31-Ct(42|e)+1)-1,m&=h&~(x&~R),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,n0(c,m))}else m=Nt,m=tr(c,c===qt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Vs(c,m)||(a=!0,n0(c,m));c=c.next}while(a);Pu=!1}}function f1(){$b()}function $b(){Dr=Ku=!1;var e=0;Ti!==0&&v1()&&(e=Ti);for(var i=Ee(),a=null,c=Ar;c!==null;){var h=c.next,m=t0(c,i);m===0?(c.next=null,a===null?Ar=h:a.next=h,h===null&&(rs=a)):(a=c,(e!==0||(m&3)!==0)&&(Dr=!0)),c=h}xe!==0&&xe!==5||ra(e),Ti!==0&&(Ti=0)}function t0(e,i){for(var a=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var x=31-Ct(m),R=1<<x,L=h[x];L===-1?((R&a)===0||(R&c)!==0)&&(h[x]=E9(R,i)):L<=i&&(e.expiredLanes|=R),m&=~R}if(i=qt,a=Nt,a=tr(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===i&&(Pt===2||Pt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&yi(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Vs(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(c!==null&&yi(c),so(a)){case 2:case 8:a=v;break;case 32:a=X;break;case 268435456:a=Y;break;default:a=X}return c=e0.bind(null,e),a=Wl(a,c),e.callbackPriority=i,e.callbackNode=a,i}return c!==null&&c!==null&&yi(c),e.callbackPriority=2,e.callbackNode=null,2}function e0(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ir()&&e.callbackNode!==a)return null;var c=Nt;return c=tr(e,e===qt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Fb(e,c,i),t0(e,Ee()),e.callbackNode!=null&&e.callbackNode===a?e0.bind(null,e):null)}function n0(e,i){if(Ir())return null;Fb(e,i,!0)}function m1(){V1(function(){(kt&6)!==0?Wl(Da,f1):$b()})}function ju(){if(Ti===0){var e=jl;e===0&&(e=Oa,Oa<<=1,(Oa&261888)===0&&(Oa=256)),Ti=e}return Ti}function i0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:lr(""+e)}function l0(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function b1(e,i,a,c,h){if(i==="submit"&&a&&a.stateNode===h){var m=i0((h[Ie]||null).action),x=c.submitter;x&&(i=(i=x[Ie]||null)?i0(i.formAction):x.getAttribute("formAction"),i!==null&&(m=i,x=null));var R=new cr("action","action",null,c,h);e.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ti!==0){var L=x?l0(h,x):new FormData(h);hu(a,{pending:!0,data:L,method:h.method,action:m},null,L)}}else typeof m=="function"&&(R.preventDefault(),L=x?l0(h,x):new FormData(h),hu(a,{pending:!0,data:L,method:h.method,action:m},m,L))},currentTarget:h}]})}}for(var Qu=0;Qu<Co.length;Qu++){var Iu=Co[Qu],p1=Iu.toLowerCase(),y1=Iu[0].toUpperCase()+Iu.slice(1);Jn(p1,"on"+y1)}Jn(Tf,"onAnimationEnd"),Jn(Ff,"onAnimationIteration"),Jn(_f,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(wZ,"onTransitionRun"),Jn(HZ,"onTransitionStart"),Jn(TZ,"onTransitionCancel"),Jn(zf,"onTransitionEnd"),Nl("onMouseEnter",["mouseout","mouseover"]),Nl("onMouseLeave",["mouseout","mouseover"]),Nl("onPointerEnter",["pointerout","pointerover"]),Nl("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ca));function s0(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],h=c.event;c=c.listeners;t:{var m=void 0;if(i)for(var x=c.length-1;0<=x;x--){var R=c[x],L=R.instance,P=R.currentTarget;if(R=R.listener,L!==m&&h.isPropagationStopped())break t;m=R,h.currentTarget=P;try{m(h)}catch(tt){dr(tt)}h.currentTarget=null,m=L}else for(x=0;x<c.length;x++){if(R=c[x],L=R.instance,P=R.currentTarget,R=R.listener,L!==m&&h.isPropagationStopped())break t;m=R,h.currentTarget=P;try{m(h)}catch(tt){dr(tt)}h.currentTarget=null,m=L}}}}function Lt(e,i){var a=i[ao];a===void 0&&(a=i[ao]=new Set);var c=e+"__bubble";a.has(c)||(a0(i,e,2,!1),a.add(c))}function Au(e,i,a){var c=0;i&&(c|=4),a0(a,e,c,i)}var Or="_reactListening"+Math.random().toString(36).slice(2);function Du(e){if(!e[Or]){e[Or]=!0,qh.forEach(function(a){a!=="selectionchange"&&(X1.has(a)||Au(a,!1,e),Au(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Or]||(i[Or]=!0,Au("selectionchange",!1,i))}}function a0(e,i,a,c){switch(T0(i)){case 2:var h=j1;break;case 8:h=Q1;break;default:h=dd}a=h.bind(null,i,a,e),h=void 0,!po||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ou(e,i,a,c,h){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var R=c.stateNode.containerInfo;if(R===h)break;if(x===4)for(x=c.return;x!==null;){var L=x.tag;if((L===3||L===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;R!==null;){if(x=Cl(R),x===null)return;if(L=x.tag,L===5||L===6||L===26||L===27){c=m=x;continue t}R=R.parentNode}}c=c.return}df(function(){var P=m,tt=mo(a),st=[];t:{var Q=Bf.get(e);if(Q!==void 0){var D=cr,ft=e;switch(e){case"keypress":if(ar(a)===0)break t;case"keydown":case"keyup":D=dZ;break;case"focusin":ft="focus",D=xo;break;case"focusout":ft="blur",D=xo;break;case"beforeblur":case"afterblur":D=xo;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=$9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=mZ;break;case Tf:case Ff:case _f:D=nZ;break;case zf:D=pZ;break;case"scroll":case"scrollend":D=O9;break;case"wheel":D=XZ;break;case"copy":case"cut":case"paste":D=lZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=pf;break;case"toggle":case"beforetoggle":D=xZ}var Rt=(i&4)!==0,Ot=!Rt&&(e==="scroll"||e==="scrollend"),U=Rt?Q!==null?Q+"Capture":null:Q;Rt=[];for(var z=P,K;z!==null;){var it=z;if(K=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||K===null||U===null||(it=Js(z,U),it!=null&&Rt.push(oa(z,it,K))),Ot)break;z=z.return}0<Rt.length&&(Q=new D(Q,ft,null,a,tt),st.push({event:Q,listeners:Rt}))}}if((i&7)===0){t:{if(Q=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",Q&&a!==fo&&(ft=a.relatedTarget||a.fromElement)&&(Cl(ft)||ft[Yl]))break t;if((D||Q)&&(Q=tt.window===tt?tt:(Q=tt.ownerDocument)?Q.defaultView||Q.parentWindow:window,D?(ft=a.relatedTarget||a.toElement,D=P,ft=ft?Cl(ft):null,ft!==null&&(Ot=o(ft),Rt=ft.tag,ft!==Ot||Rt!==5&&Rt!==27&&Rt!==6)&&(ft=null)):(D=null,ft=P),D!==ft)){if(Rt=mf,it="onMouseLeave",U="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Rt=pf,it="onPointerLeave",U="onPointerEnter",z="pointer"),Ot=D==null?Q:Cs(D),K=ft==null?Q:Cs(ft),Q=new Rt(it,z+"leave",D,a,tt),Q.target=Ot,Q.relatedTarget=K,it=null,Cl(tt)===P&&(Rt=new Rt(U,z+"enter",ft,a,tt),Rt.target=K,Rt.relatedTarget=Ot,it=Rt),Ot=it,D&&ft)e:{for(Rt=Z1,U=D,z=ft,K=0,it=U;it;it=Rt(it))K++;it=0;for(var gt=z;gt;gt=Rt(gt))it++;for(;0<K-it;)U=Rt(U),K--;for(;0<it-K;)z=Rt(z),it--;for(;K--;){if(U===z||z!==null&&U===z.alternate){Rt=U;break e}U=Rt(U),z=Rt(z)}Rt=null}else Rt=null;D!==null&&r0(st,Q,D,Rt,!1),ft!==null&&Ot!==null&&r0(st,Ot,ft,Rt,!0)}}t:{if(Q=P?Cs(P):window,D=Q.nodeName&&Q.nodeName.toLowerCase(),D==="select"||D==="input"&&Q.type==="file")var zt=vf;else if(Gf(Q))if(Sf)zt=JZ;else{zt=YZ;var yt=WZ}else D=Q.nodeName,!D||D.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?P&&ho(P.elementType)&&(zt=vf):zt=CZ;if(zt&&(zt=zt(e,P))){Rf(st,zt,a,tt);break t}yt&&yt(e,Q,P),e==="focusout"&&P&&Q.type==="number"&&P.memoizedProps.value!=null&&uo(Q,"number",Q.value)}switch(yt=P?Cs(P):window,e){case"focusin":(Gf(yt)||yt.contentEditable==="true")&&(zl=yt,Vo=P,zs=null);break;case"focusout":zs=Vo=zl=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,wf(st,a,tt);break;case"selectionchange":if(NZ)break;case"keydown":case"keyup":wf(st,a,tt)}var Yt;if(Go)t:{switch(e){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else _l?xf(e,a)&&(wt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(wt="onCompositionStart");wt&&(yf&&a.locale!=="ko"&&(_l||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&_l&&(Yt=hf()):(Zi=tt,yo="value"in Zi?Zi.value:Zi.textContent,_l=!0)),yt=qr(P,wt),0<yt.length&&(wt=new bf(wt,e,null,a,tt),st.push({event:wt,listeners:yt}),Yt?wt.data=Yt:(Yt=gf(a),Yt!==null&&(wt.data=Yt)))),(Yt=GZ?RZ(e,a):vZ(e,a))&&(wt=qr(P,"onBeforeInput"),0<wt.length&&(yt=new bf("onBeforeInput","beforeinput",null,a,tt),st.push({event:yt,listeners:wt}),yt.data=Yt)),b1(st,e,P,a,tt)}s0(st,i)})}function oa(e,i,a){return{instance:e,listener:i,currentTarget:a}}function qr(e,i){for(var a=i+"Capture",c=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Js(e,a),h!=null&&c.unshift(oa(e,h,m)),h=Js(e,i),h!=null&&c.push(oa(e,h,m))),e.tag===3)return c;e=e.return}return[]}function Z1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function r0(e,i,a,c,h){for(var m=i._reactName,x=[];a!==null&&a!==c;){var R=a,L=R.alternate,P=R.stateNode;if(R=R.tag,L!==null&&L===c)break;R!==5&&R!==26&&R!==27||P===null||(L=P,h?(P=Js(a,m),P!=null&&x.unshift(oa(a,P,L))):h||(P=Js(a,m),P!=null&&x.push(oa(a,P,L)))),a=a.return}x.length!==0&&e.push({event:i,listeners:x})}var x1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function c0(e){return(typeof e=="string"?e:""+e).replace(x1,`
`).replace(g1,"")}function o0(e,i){return i=c0(i),c0(e)===i}function Dt(e,i,a,c,h,m){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Hl(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Hl(e,""+c);break;case"className":nr(e,"class",c);break;case"tabIndex":nr(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(e,a,c);break;case"style":of(e,c,m);break;case"data":if(i!=="object"){nr(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=lr(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&Dt(e,i,"name",h.name,h,null),Dt(e,i,"formEncType",h.formEncType,h,null),Dt(e,i,"formMethod",h.formMethod,h,null),Dt(e,i,"formTarget",h.formTarget,h,null)):(Dt(e,i,"encType",h.encType,h,null),Dt(e,i,"method",h.method,h,null),Dt(e,i,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=lr(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=In);break;case"onScroll":c!=null&&Lt("scroll",e);break;case"onScrollEnd":c!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(h.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=lr(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),er(e,"popover",c);break;case"xlinkActuate":Qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Qn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Qn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Qn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Qn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":er(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=A9.get(a)||a,er(e,a,c))}}function qu(e,i,a,c,h,m){switch(a){case"style":of(e,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(h.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof c=="string"?Hl(e,c):(typeof c=="number"||typeof c=="bigint")&&Hl(e,""+c);break;case"onScroll":c!=null&&Lt("scroll",e);break;case"onScrollEnd":c!=null&&Lt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=In);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$h.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=e[Ie]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(i,m,h),typeof c=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,c,h);break t}a in e?e[a]=c:c===!0?e.setAttribute(a,""):er(e,a,c)}}}function Le(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var c=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var x=a[m];if(x!=null)switch(m){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Dt(e,i,m,x,a,null)}}h&&Dt(e,i,"srcSet",a.srcSet,a,null),c&&Dt(e,i,"src",a.src,a,null);return;case"input":Lt("invalid",e);var R=m=x=h=null,L=null,P=null;for(c in a)if(a.hasOwnProperty(c)){var tt=a[c];if(tt!=null)switch(c){case"name":h=tt;break;case"type":x=tt;break;case"checked":L=tt;break;case"defaultChecked":P=tt;break;case"value":m=tt;break;case"defaultValue":R=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(l(137,i));break;default:Dt(e,i,c,tt,a,null)}}sf(e,m,R,L,P,x,h,!1);return;case"select":Lt("invalid",e),c=x=m=null;for(h in a)if(a.hasOwnProperty(h)&&(R=a[h],R!=null))switch(h){case"value":m=R;break;case"defaultValue":x=R;break;case"multiple":c=R;default:Dt(e,i,h,R,a,null)}i=m,a=x,e.multiple=!!c,i!=null?wl(e,!!c,i,!1):a!=null&&wl(e,!!c,a,!0);return;case"textarea":Lt("invalid",e),m=h=c=null;for(x in a)if(a.hasOwnProperty(x)&&(R=a[x],R!=null))switch(x){case"value":c=R;break;case"defaultValue":h=R;break;case"children":m=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(91));break;default:Dt(e,i,x,R,a,null)}rf(e,c,h,m);return;case"option":for(L in a)a.hasOwnProperty(L)&&(c=a[L],c!=null)&&(L==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Dt(e,i,L,c,a,null));return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(c=0;c<ca.length;c++)Lt(ca[c],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(c=a[P],c!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Dt(e,i,P,c,a,null)}return;default:if(ho(i)){for(tt in a)a.hasOwnProperty(tt)&&(c=a[tt],c!==void 0&&qu(e,i,tt,c,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(c=a[R],c!=null&&Dt(e,i,R,c,a,null))}function G1(e,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,x=null,R=null,L=null,P=null,tt=null;for(D in a){var st=a[D];if(a.hasOwnProperty(D)&&st!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":L=st;default:c.hasOwnProperty(D)||Dt(e,i,D,null,c,st)}}for(var Q in c){var D=c[Q];if(st=a[Q],c.hasOwnProperty(Q)&&(D!=null||st!=null))switch(Q){case"type":m=D;break;case"name":h=D;break;case"checked":P=D;break;case"defaultChecked":tt=D;break;case"value":x=D;break;case"defaultValue":R=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,i));break;default:D!==st&&Dt(e,i,Q,D,c,st)}}oo(e,x,R,L,P,tt,m,h);return;case"select":D=x=R=Q=null;for(m in a)if(L=a[m],a.hasOwnProperty(m)&&L!=null)switch(m){case"value":break;case"multiple":D=L;default:c.hasOwnProperty(m)||Dt(e,i,m,null,c,L)}for(h in c)if(m=c[h],L=a[h],c.hasOwnProperty(h)&&(m!=null||L!=null))switch(h){case"value":Q=m;break;case"defaultValue":R=m;break;case"multiple":x=m;default:m!==L&&Dt(e,i,h,m,c,L)}i=R,a=x,c=D,Q!=null?wl(e,!!a,Q,!1):!!c!=!!a&&(i!=null?wl(e,!!a,i,!0):wl(e,!!a,a?[]:"",!1));return;case"textarea":D=Q=null;for(R in a)if(h=a[R],a.hasOwnProperty(R)&&h!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Dt(e,i,R,null,c,h)}for(x in c)if(h=c[x],m=a[x],c.hasOwnProperty(x)&&(h!=null||m!=null))switch(x){case"value":Q=h;break;case"defaultValue":D=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==m&&Dt(e,i,x,h,c,m)}af(e,Q,D);return;case"option":for(var ft in a)Q=a[ft],a.hasOwnProperty(ft)&&Q!=null&&!c.hasOwnProperty(ft)&&(ft==="selected"?e.selected=!1:Dt(e,i,ft,null,c,Q));for(L in c)Q=c[L],D=a[L],c.hasOwnProperty(L)&&Q!==D&&(Q!=null||D!=null)&&(L==="selected"?e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":Dt(e,i,L,Q,c,D));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in a)Q=a[Rt],a.hasOwnProperty(Rt)&&Q!=null&&!c.hasOwnProperty(Rt)&&Dt(e,i,Rt,null,c,Q);for(P in c)if(Q=c[P],D=a[P],c.hasOwnProperty(P)&&Q!==D&&(Q!=null||D!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(l(137,i));break;default:Dt(e,i,P,Q,c,D)}return;default:if(ho(i)){for(var Ot in a)Q=a[Ot],a.hasOwnProperty(Ot)&&Q!==void 0&&!c.hasOwnProperty(Ot)&&qu(e,i,Ot,void 0,c,Q);for(tt in c)Q=c[tt],D=a[tt],!c.hasOwnProperty(tt)||Q===D||Q===void 0&&D===void 0||qu(e,i,tt,Q,c,D);return}}for(var U in a)Q=a[U],a.hasOwnProperty(U)&&Q!=null&&!c.hasOwnProperty(U)&&Dt(e,i,U,null,c,Q);for(st in c)Q=c[st],D=a[st],!c.hasOwnProperty(st)||Q===D||Q==null&&D==null||Dt(e,i,st,Q,c,D)}function u0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var h=a[c],m=h.transferSize,x=h.initiatorType,R=h.duration;if(m&&R&&u0(x)){for(x=0,R=h.responseEnd,c+=1;c<a.length;c++){var L=a[c],P=L.startTime;if(P>R)break;var tt=L.transferSize,st=L.initiatorType;tt&&u0(st)&&(L=L.responseEnd,x+=tt*(L<R?1:(R-P)/(L-P)))}if(--c,i+=8*(m+x)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $u=null,td=null;function $r(e){return e.nodeType===9?e:e.ownerDocument}function d0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h0(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ed(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nd=null;function v1(){var e=window.event;return e&&e.type==="popstate"?e===nd?!1:(nd=e,!0):(nd=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,S1=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,V1=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(e){return m0.resolve(null).then(e).catch(W1)}:f0;function W1(e){setTimeout(function(){throw e})}function Fi(e){return e==="head"}function b0(e,i){var a=i,c=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(c===0){e.removeChild(h),ds(i);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")ua(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ua(a);for(var m=a.firstChild;m;){var x=m.nextSibling,R=m.nodeName;m[Ys]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=x}}else a==="body"&&ua(e.ownerDocument.body);a=h}while(a);ds(i)}function p0(e,i){var a=e;e=0;do{var c=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=c}while(a)}function id(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":id(a),ro(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Y1(e,i,a,c){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ys])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=vn(e.nextSibling),e===null)break}return null}function C1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=vn(e.nextSibling),e===null))return null;return e}function y0(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=vn(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$?"||e.data==="$~"}function sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function J1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function vn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var ad=null;function X0(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return vn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Z0(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function x0(e,i,a){switch(i=$r(a),e){case"html":if(e=i.documentElement,!e)throw Error(l(452));return e;case"head":if(e=i.head,!e)throw Error(l(453));return e;case"body":if(e=i.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ua(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ro(e)}var Sn=new Map,g0=new Set;function tc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ui=I.d;I.d={f:L1,r:N1,D:w1,C:H1,L:T1,m:F1,X:z1,S:_1,M:B1};function L1(){var e=ui.f(),i=Pr();return e||i}function N1(e){var i=Jl(e);i!==null&&i.tag===5&&i.type==="form"?zm(i):ui.r(e)}var cs=typeof document>"u"?null:document;function G0(e,i,a){var c=cs;if(c&&typeof i=="string"&&i){var h=yn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),g0.has(h)||(g0.add(h),e={rel:e,crossOrigin:a,href:i},c.querySelector(h)===null&&(i=c.createElement("link"),Le(i,"link",e),Re(i),c.head.appendChild(i)))}}function w1(e){ui.D(e),G0("dns-prefetch",e,null)}function H1(e,i){ui.C(e,i),G0("preconnect",e,i)}function T1(e,i,a){ui.L(e,i,a);var c=cs;if(c&&e&&i){var h='link[rel="preload"][as="'+yn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(e)+'"]';var m=h;switch(i){case"style":m=os(e);break;case"script":m=us(e)}Sn.has(m)||(e=y({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Sn.set(m,e),c.querySelector(h)!==null||i==="style"&&c.querySelector(da(m))||i==="script"&&c.querySelector(ha(m))||(i=c.createElement("link"),Le(i,"link",e),Re(i),c.head.appendChild(i)))}}function F1(e,i){ui.m(e,i);var a=cs;if(a&&e){var c=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yn(c)+'"][href="'+yn(e)+'"]',m=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=us(e)}if(!Sn.has(m)&&(e=y({rel:"modulepreload",href:e},i),Sn.set(m,e),a.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ha(m)))return}c=a.createElement("link"),Le(c,"link",e),Re(c),a.head.appendChild(c)}}}function _1(e,i,a){ui.S(e,i,a);var c=cs;if(c&&e){var h=Ll(c).hoistableStyles,m=os(e);i=i||"default";var x=h.get(m);if(!x){var R={loading:0,preload:null};if(x=c.querySelector(da(m)))R.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Sn.get(m))&&rd(e,a);var L=x=c.createElement("link");Re(L),Le(L,"link",e),L._p=new Promise(function(P,tt){L.onload=P,L.onerror=tt}),L.addEventListener("load",function(){R.loading|=1}),L.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ec(x,i,c)}x={type:"stylesheet",instance:x,count:1,state:R},h.set(m,x)}}}function z1(e,i){ui.X(e,i);var a=cs;if(a&&e){var c=Ll(a).hoistableScripts,h=us(e),m=c.get(h);m||(m=a.querySelector(ha(h)),m||(e=y({src:e,async:!0},i),(i=Sn.get(h))&&cd(e,i),m=a.createElement("script"),Re(m),Le(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function B1(e,i){ui.M(e,i);var a=cs;if(a&&e){var c=Ll(a).hoistableScripts,h=us(e),m=c.get(h);m||(m=a.querySelector(ha(h)),m||(e=y({src:e,async:!0,type:"module"},i),(i=Sn.get(h))&&cd(e,i),m=a.createElement("script"),Re(m),Le(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function R0(e,i,a,c){var h=(h=xt.current)?tc(h):null;if(!h)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=os(a.href),a=Ll(h).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=os(a.href);var m=Ll(h).hoistableStyles,x=m.get(e);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,x),(m=h.querySelector(da(e)))&&!m._p&&(x.instance=m,x.state.loading=5),Sn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Sn.set(e,a),m||E1(h,e,a,x.state))),i&&c===null)throw Error(l(528,""));return x}if(i&&c!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=us(a),a=Ll(h).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function os(e){return'href="'+yn(e)+'"'}function da(e){return'link[rel="stylesheet"]['+e+"]"}function v0(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function E1(e,i,a,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Le(i,"link",a),Re(i),e.head.appendChild(i))}function us(e){return'[src="'+yn(e)+'"]'}function ha(e){return"script[async]"+e}function S0(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+yn(a.href)+'"]');if(c)return i.instance=c,Re(c),c;var h=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Re(c),Le(c,"style",h),ec(c,a.precedence,e),i.instance=c;case"stylesheet":h=os(a.href);var m=e.querySelector(da(h));if(m)return i.state.loading|=4,i.instance=m,Re(m),m;c=v0(a),(h=Sn.get(h))&&rd(c,h),m=(e.ownerDocument||e).createElement("link"),Re(m);var x=m;return x._p=new Promise(function(R,L){x.onload=R,x.onerror=L}),Le(m,"link",c),i.state.loading|=4,ec(m,a.precedence,e),i.instance=m;case"script":return m=us(a.src),(h=e.querySelector(ha(m)))?(i.instance=h,Re(h),h):(c=a,(h=Sn.get(m))&&(c=y({},a),cd(c,h)),e=e.ownerDocument||e,h=e.createElement("script"),Re(h),Le(h,"link",c),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,ec(c,a.precedence,e));return i.instance}function ec(e,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,m=h,x=0;x<c.length;x++){var R=c[x];if(R.dataset.precedence===i)m=R;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function rd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function cd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var nc=null;function V0(e,i,a){if(nc===null){var c=new Map,h=nc=new Map;h.set(a,c)}else h=nc,c=h.get(a),c||(c=new Map,h.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var m=a[h];if(!(m[Ys]||m[We]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(i)||"";x=e+x;var R=c.get(x);R?R.push(m):c.set(x,[m])}}return c}function W0(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function k1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function U1(e,i,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=os(c.href),m=i.querySelector(da(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=ic.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=m,Re(m);return}m=i.ownerDocument||i,c=v0(c),(h=Sn.get(h))&&rd(c,h),m=m.createElement("link"),Re(m);var x=m;x._p=new Promise(function(R,L){x.onload=R,x.onerror=L}),Le(m,"link",c),a.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ic.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var od=0;function M1(e,i){return e.stylesheets&&e.count===0&&sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var c=setTimeout(function(){if(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+i);0<e.imgBytes&&od===0&&(od=62500*R1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>od?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function sc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,i.forEach(K1,e),lc=null,ic.call(e))}function K1(e,i){if(!(i.state.loading&4)){var a=lc.get(e);if(a)var c=a.get(null);else{a=new Map,lc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var x=h[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),c=x)}c&&a.set(null,c)}h=i.instance,x=h.getAttribute("data-precedence"),m=a.get(x)||c,m===c&&a.set(null,h),a.set(x,h),this.count++,c=ic.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var fa={$$typeof:F,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function P1(e,i,a,c,h,m,x,R,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=io(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=io(0),this.hiddenUpdates=io(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function C0(e,i,a,c,h,m,x,R,L,P,tt,st){return e=new P1(e,i,a,x,L,P,tt,st,R),i=1,m===!0&&(i|=24),m=rn(3,null,null,i),e.current=m,m.stateNode=e,i=Uo(),i.refCount++,e.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:i},jo(m),e}function J0(e){return e?(e=kl,e):kl}function L0(e,i,a,c,h,m){h=J0(h),c.context===null?c.context=h:c.pendingContext=h,c=Si(i),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=Vi(e,c,i),a!==null&&(tn(a,e,i),Ps(a,e,i))}function N0(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function ud(e,i){N0(e,i),(e=e.alternate)&&N0(e,i)}function w0(e){if(e.tag===13||e.tag===31){var i=qi(e,67108864);i!==null&&tn(i,e,67108864),ud(e,67108864)}}function H0(e){if(e.tag===13||e.tag===31){var i=hn();i=lo(i);var a=qi(e,i);a!==null&&tn(a,e,i),ud(e,i)}}var ac=!0;function j1(e,i,a,c){var h=w.T;w.T=null;var m=I.p;try{I.p=2,dd(e,i,a,c)}finally{I.p=m,w.T=h}}function Q1(e,i,a,c){var h=w.T;w.T=null;var m=I.p;try{I.p=8,dd(e,i,a,c)}finally{I.p=m,w.T=h}}function dd(e,i,a,c){if(ac){var h=hd(c);if(h===null)Ou(e,i,c,rc,a),F0(e,c);else if(A1(h,e,i,a,c))c.stopPropagation();else if(F0(e,c),i&4&&-1<I1.indexOf(e)){for(;h!==null;){var m=Jl(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Qi(m.pendingLanes);if(x!==0){var R=m;for(R.pendingLanes|=2,R.entangledLanes|=2;x;){var L=1<<31-Ct(x);R.entanglements[1]|=L,x&=~L}Mn(m),(kt&6)===0&&(Mr=Ee()+500,ra(0))}}break;case 31:case 13:R=qi(m,2),R!==null&&tn(R,m,2),Pr(),ud(m,2)}if(m=hd(c),m===null&&Ou(e,i,c,rc,a),m===h)break;h=m}h!==null&&c.stopPropagation()}else Ou(e,i,c,null,a)}}function hd(e){return e=mo(e),fd(e)}var rc=null;function fd(e){if(rc=null,e=Cl(e),e!==null){var i=o(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=u(i),e!==null)return e;e=null}else if(a===31){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return rc=e,null}function T0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bn()){case Da:return 2;case v:return 8;case X:case Z:return 32;case Y:return 268435456;default:return 32}default:return 32}}var md=!1,_i=null,zi=null,Bi=null,ma=new Map,ba=new Map,Ei=[],I1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(e,i){switch(e){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":ma.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(i.pointerId)}}function pa(e,i,a,c,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Jl(i),i!==null&&w0(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function A1(e,i,a,c,h){switch(i){case"focusin":return _i=pa(_i,e,i,a,c,h),!0;case"dragenter":return zi=pa(zi,e,i,a,c,h),!0;case"mouseover":return Bi=pa(Bi,e,i,a,c,h),!0;case"pointerover":var m=h.pointerId;return ma.set(m,pa(ma.get(m)||null,e,i,a,c,h)),!0;case"gotpointercapture":return m=h.pointerId,ba.set(m,pa(ba.get(m)||null,e,i,a,c,h)),!0}return!1}function _0(e){var i=Cl(e.target);if(i!==null){var a=o(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){e.blockedOn=i,Dh(e.priority,function(){H0(a)});return}}else if(i===31){if(i=d(a),i!==null){e.blockedOn=i,Dh(e.priority,function(){H0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=hd(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);fo=c,a.target.dispatchEvent(c),fo=null}else return i=Jl(a),i!==null&&w0(i),e.blockedOn=a,!1;i.shift()}return!0}function z0(e,i,a){cc(e)&&a.delete(i)}function D1(){md=!1,_i!==null&&cc(_i)&&(_i=null),zi!==null&&cc(zi)&&(zi=null),Bi!==null&&cc(Bi)&&(Bi=null),ma.forEach(z0),ba.forEach(z0)}function oc(e,i){e.blockedOn===i&&(e.blockedOn=null,md||(md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,D1)))}var uc=null;function B0(e){uc!==e&&(uc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){uc===e&&(uc=null);for(var i=0;i<e.length;i+=3){var a=e[i],c=e[i+1],h=e[i+2];if(typeof c!="function"){if(fd(c||a)===null)continue;break}var m=Jl(a);m!==null&&(e.splice(i,3),i-=3,hu(m,{pending:!0,data:h,method:a.method,action:c},c,h))}}))}function ds(e){function i(L){return oc(L,e)}_i!==null&&oc(_i,e),zi!==null&&oc(zi,e),Bi!==null&&oc(Bi,e),ma.forEach(i),ba.forEach(i);for(var a=0;a<Ei.length;a++){var c=Ei[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ei.length&&(a=Ei[0],a.blockedOn===null);)_0(a),a.blockedOn===null&&Ei.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var h=a[c],m=a[c+1],x=h[Ie]||null;if(typeof m=="function")x||B0(a);else if(x){var R=null;if(m&&m.hasAttribute("formAction")){if(h=m,x=m[Ie]||null)R=x.formAction;else if(fd(h)!==null)continue}else R=x.action;typeof R=="function"?a[c+1]=R:(a.splice(c,3),c-=3),B0(a)}}}function E0(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(x){return h=x})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function bd(e){this._internalRoot=e}dc.prototype.render=bd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,c=hn();L0(a,c,e,i,null,null)},dc.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;L0(e.current,2,null,e,null,null),Pr(),i[Yl]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ah();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ei.length&&i!==0&&i<Ei[a].priority;a++);Ei.splice(a,0,e),a===0&&_0(e)}};var k0=t.version;if(k0!=="19.2.4")throw Error(l(527,k0,"19.2.4"));I.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=b(i),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var O1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{nt=hc.inject(O1),Gt=hc}catch{}}return Za.createRoot=function(e,i){if(!r(e))throw Error(l(299));var a=!1,c="",h=Im,m=Am,x=Dm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=C0(e,1,!1,null,null,a,c,null,h,m,x,E0),e[Yl]=i.current,Du(e),new bd(i)},Za.hydrateRoot=function(e,i,a){if(!r(e))throw Error(l(299));var c=!1,h="",m=Im,x=Am,R=Dm,L=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.formState!==void 0&&(L=a.formState)),i=C0(e,1,!0,i,a??null,c,h,L,m,x,R,E0),i.context=J0(null),a=i.current,c=hn(),c=lo(c),h=Si(c),h.callback=null,Vi(a,h,c),a=c,i.current.lanes=a,Ws(i,a),Mn(i),e[Yl]=i.current,Du(e),new dc(i)},Za.version="19.2.4",Za}var tp;function hx(){if(tp)return Zd.exports;tp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Zd.exports=dx(),Zd.exports}var fx=hx();const mx=Ia(fx),bx="modulepreload",px=function(s){return"/VTT-RPG/"+s},ep={},Zl=function(t,n,l){let r=Promise.resolve();if(n&&n.length>0){let f=function(b){return Promise.all(b.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");r=f(n.map(b=>{if(b=px(b),b in ep)return;ep[b]=!0;const p=b.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${y}`))return;const G=document.createElement("link");if(G.rel=p?"stylesheet":bx,p||(G.as="script"),G.crossOrigin="",G.href=b,d&&G.setAttribute("nonce",d),document.head.appendChild(G),p)return new Promise((g,S)=>{G.addEventListener("load",g),G.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${b}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return r.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};var Qt=(s=>(s.Application="application",s.WebGLPipes="webgl-pipes",s.WebGLPipesAdaptor="webgl-pipes-adaptor",s.WebGLSystem="webgl-system",s.WebGPUPipes="webgpu-pipes",s.WebGPUPipesAdaptor="webgpu-pipes-adaptor",s.WebGPUSystem="webgpu-system",s.CanvasSystem="canvas-system",s.CanvasPipesAdaptor="canvas-pipes-adaptor",s.CanvasPipes="canvas-pipes",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s.MaskEffect="mask-effect",s.BlendMode="blend-mode",s.TextureSource="texture-source",s.Environment="environment",s.ShapeBuilder="shape-builder",s.Batcher="batcher",s))(Qt||{});const Dd=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},mc=(s,t)=>Dd(s).priority??t,Yn={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(Dd).forEach(t=>{t.type.forEach(n=>this._removeHandlers[n]?.(t))}),this},add(...s){return s.map(Dd).forEach(t=>{t.type.forEach(n=>{const l=this._addHandlers,r=this._queue;l[n]?l[n]?.(t):(r[n]=r[n]||[],r[n]?.push(t))})}),this},handle(s,t,n){const l=this._addHandlers,r=this._removeHandlers;if(l[s]||r[s])throw new Error(`Extension type ${s} already has a handler`);l[s]=t,r[s]=n;const o=this._queue;return o[s]&&(o[s]?.forEach(u=>t(u)),delete o[s]),this},handleByMap(s,t){return this.handle(s,n=>{n.name&&(t[n.name]=n.ref)},n=>{n.name&&delete t[n.name]})},handleByNamedList(s,t,n=-1){return this.handle(s,l=>{t.findIndex(o=>o.name===l.name)>=0||(t.push({name:l.name,value:l.ref}),t.sort((o,u)=>mc(u.value,n)-mc(o.value,n)))},l=>{const r=t.findIndex(o=>o.name===l.name);r!==-1&&t.splice(r,1)})},handleByList(s,t,n=-1){return this.handle(s,l=>{t.includes(l.ref)||(t.push(l.ref),t.sort((r,o)=>mc(o,n)-mc(r,n)))},l=>{const r=t.indexOf(l.ref);r!==-1&&t.splice(r,1)})},mixin(s,...t){for(const n of t)Object.defineProperties(s.prototype,Object.getOwnPropertyDescriptors(n))}},yx={extension:{type:Qt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Zl(()=>import("./browserAll-D37OhA36.js"),__vite__mapDeps([0,1,2]))}},Xx={extension:{type:Qt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Zl(()=>import("./webworkerAll-X2NTdspC.js"),__vite__mapDeps([1,2]))}};class we{constructor(t,n,l){this._x=n||0,this._y=l||0,this._observer=t}clone(t){return new we(t??this._observer,this._x,this._y)}set(t=0,n=t){return(this._x!==t||this._y!==n)&&(this._x=t,this._y=n,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var Rd={exports:{}},np;function Zx(){return np||(np=1,(function(s){var t=Object.prototype.hasOwnProperty,n="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(n=!1));function r(f,b,p){this.fn=f,this.context=b,this.once=p||!1}function o(f,b,p,y,G){if(typeof p!="function")throw new TypeError("The listener must be a function");var g=new r(p,y||f,G),S=n?n+b:b;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],g]:f._events[S].push(g):(f._events[S]=g,f._eventsCount++),f}function u(f,b){--f._eventsCount===0?f._events=new l:delete f._events[b]}function d(){this._events=new l,this._eventsCount=0}d.prototype.eventNames=function(){var b=[],p,y;if(this._eventsCount===0)return b;for(y in p=this._events)t.call(p,y)&&b.push(n?y.slice(1):y);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(p)):b},d.prototype.listeners=function(b){var p=n?n+b:b,y=this._events[p];if(!y)return[];if(y.fn)return[y.fn];for(var G=0,g=y.length,S=new Array(g);G<g;G++)S[G]=y[G].fn;return S},d.prototype.listenerCount=function(b){var p=n?n+b:b,y=this._events[p];return y?y.fn?1:y.length:0},d.prototype.emit=function(b,p,y,G,g,S){var V=n?n+b:b;if(!this._events[V])return!1;var W=this._events[V],T=arguments.length,E,F;if(W.fn){switch(W.once&&this.removeListener(b,W.fn,void 0,!0),T){case 1:return W.fn.call(W.context),!0;case 2:return W.fn.call(W.context,p),!0;case 3:return W.fn.call(W.context,p,y),!0;case 4:return W.fn.call(W.context,p,y,G),!0;case 5:return W.fn.call(W.context,p,y,G,g),!0;case 6:return W.fn.call(W.context,p,y,G,g,S),!0}for(F=1,E=new Array(T-1);F<T;F++)E[F-1]=arguments[F];W.fn.apply(W.context,E)}else{var M=W.length,N;for(F=0;F<M;F++)switch(W[F].once&&this.removeListener(b,W[F].fn,void 0,!0),T){case 1:W[F].fn.call(W[F].context);break;case 2:W[F].fn.call(W[F].context,p);break;case 3:W[F].fn.call(W[F].context,p,y);break;case 4:W[F].fn.call(W[F].context,p,y,G);break;default:if(!E)for(N=1,E=new Array(T-1);N<T;N++)E[N-1]=arguments[N];W[F].fn.apply(W[F].context,E)}}return!0},d.prototype.on=function(b,p,y){return o(this,b,p,y,!1)},d.prototype.once=function(b,p,y){return o(this,b,p,y,!0)},d.prototype.removeListener=function(b,p,y,G){var g=n?n+b:b;if(!this._events[g])return this;if(!p)return u(this,g),this;var S=this._events[g];if(S.fn)S.fn===p&&(!G||S.once)&&(!y||S.context===y)&&u(this,g);else{for(var V=0,W=[],T=S.length;V<T;V++)(S[V].fn!==p||G&&!S[V].once||y&&S[V].context!==y)&&W.push(S[V]);W.length?this._events[g]=W.length===1?W[0]:W:u(this,g)}return this},d.prototype.removeAllListeners=function(b){var p;return b?(p=n?n+b:b,this._events[p]&&u(this,p)):(this._events=new l,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,s.exports=d})(Rd)),Rd.exports}var xx=Zx();const jn=Ia(xx),gx=Math.PI*2,Gx=180/Math.PI,Rx=Math.PI/180;class ze{constructor(t=0,n=0){this.x=0,this.y=0,this.x=t,this.y=n}clone(){return new ze(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,n=t){return this.x=t,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return vd.x=0,vd.y=0,vd}}const vd=new ze;class Ht{constructor(t=1,n=0,l=0,r=1,o=0,u=0){this.array=null,this.a=t,this.b=n,this.c=l,this.d=r,this.tx=o,this.ty=u}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,n,l,r,o,u){return this.a=t,this.b=n,this.c=l,this.d=r,this.tx=o,this.ty=u,this}toArray(t,n){this.array||(this.array=new Float32Array(9));const l=n||this.array;return t?(l[0]=this.a,l[1]=this.b,l[2]=0,l[3]=this.c,l[4]=this.d,l[5]=0,l[6]=this.tx,l[7]=this.ty,l[8]=1):(l[0]=this.a,l[1]=this.c,l[2]=this.tx,l[3]=this.b,l[4]=this.d,l[5]=this.ty,l[6]=0,l[7]=0,l[8]=1),l}apply(t,n){n=n||new ze;const l=t.x,r=t.y;return n.x=this.a*l+this.c*r+this.tx,n.y=this.b*l+this.d*r+this.ty,n}applyInverse(t,n){n=n||new ze;const l=this.a,r=this.b,o=this.c,u=this.d,d=this.tx,f=this.ty,b=1/(l*u+o*-r),p=t.x,y=t.y;return n.x=u*b*p+-o*b*y+(f*o-d*u)*b,n.y=l*b*y+-r*b*p+(-f*l+d*r)*b,n}translate(t,n){return this.tx+=t,this.ty+=n,this}scale(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this}rotate(t){const n=Math.cos(t),l=Math.sin(t),r=this.a,o=this.c,u=this.tx;return this.a=r*n-this.b*l,this.b=r*l+this.b*n,this.c=o*n-this.d*l,this.d=o*l+this.d*n,this.tx=u*n-this.ty*l,this.ty=u*l+this.ty*n,this}append(t){const n=this.a,l=this.b,r=this.c,o=this.d;return this.a=t.a*n+t.b*r,this.b=t.a*l+t.b*o,this.c=t.c*n+t.d*r,this.d=t.c*l+t.d*o,this.tx=t.tx*n+t.ty*r+this.tx,this.ty=t.tx*l+t.ty*o+this.ty,this}appendFrom(t,n){const l=t.a,r=t.b,o=t.c,u=t.d,d=t.tx,f=t.ty,b=n.a,p=n.b,y=n.c,G=n.d;return this.a=l*b+r*y,this.b=l*p+r*G,this.c=o*b+u*y,this.d=o*p+u*G,this.tx=d*b+f*y+n.tx,this.ty=d*p+f*G+n.ty,this}setTransform(t,n,l,r,o,u,d,f,b){return this.a=Math.cos(d+b)*o,this.b=Math.sin(d+b)*o,this.c=-Math.sin(d-f)*u,this.d=Math.cos(d-f)*u,this.tx=t-(l*this.a+r*this.c),this.ty=n-(l*this.b+r*this.d),this}prepend(t){const n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const l=this.a,r=this.c;this.a=l*t.a+this.b*t.c,this.b=l*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this}decompose(t){const n=this.a,l=this.b,r=this.c,o=this.d,u=t.pivot,d=-Math.atan2(-r,o),f=Math.atan2(l,n),b=Math.abs(d+f);return b<1e-5||Math.abs(gx-b)<1e-5?(t.rotation=f,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=d,t.skew.y=f),t.scale.x=Math.sqrt(n*n+l*l),t.scale.y=Math.sqrt(r*r+o*o),t.position.x=this.tx+(u.x*n+u.y*r),t.position.y=this.ty+(u.x*l+u.y*o),t}invert(){const t=this.a,n=this.b,l=this.c,r=this.d,o=this.tx,u=t*r-n*l;return this.a=r/u,this.b=-n/u,this.c=-l/u,this.d=t/u,this.tx=(l*this.ty-r*o)/u,this.ty=-(t*this.ty-n*o)/u,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Ht;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Sx.identity()}static get shared(){return vx.identity()}}const vx=new Ht,Sx=new Ht,ml=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],bl=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],pl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],yl=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Od=[],Ly=[],bc=Math.sign;function Vx(){for(let s=0;s<16;s++){const t=[];Od.push(t);for(let n=0;n<16;n++){const l=bc(ml[s]*ml[n]+pl[s]*bl[n]),r=bc(bl[s]*ml[n]+yl[s]*bl[n]),o=bc(ml[s]*pl[n]+pl[s]*yl[n]),u=bc(bl[s]*pl[n]+yl[s]*yl[n]);for(let d=0;d<16;d++)if(ml[d]===l&&bl[d]===r&&pl[d]===o&&yl[d]===u){t.push(d);break}}}for(let s=0;s<16;s++){const t=new Ht;t.set(ml[s],bl[s],pl[s],yl[s],0,0),Ly.push(t)}}Vx();const $t={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>ml[s],uY:s=>bl[s],vX:s=>pl[s],vY:s=>yl[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>Od[s][t],sub:(s,t)=>Od[s][$t.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?$t.S:$t.N:Math.abs(t)*2<=Math.abs(s)?s>0?$t.E:$t.W:t>0?s>0?$t.SE:$t.SW:s>0?$t.NE:$t.NW,matrixAppendRotationInv:(s,t,n=0,l=0)=>{const r=Ly[$t.inv(t)];r.tx=n,r.ty=l,s.append(r)},transformRectCoords:(s,t,n,l)=>{const{x:r,y:o,width:u,height:d}=s,{x:f,y:b,width:p,height:y}=t;return n===$t.E?(l.set(r+f,o+b,u,d),l):n===$t.S?l.set(p-o-d+f,r+b,d,u):n===$t.W?l.set(p-r-u+f,y-o-d+b,u,d):n===$t.N?l.set(o+f,y-r-u+b,d,u):l.set(r+f,o+b,u,d)}},pc=[new ze,new ze,new ze,new ze];class me{constructor(t=0,n=0,l=0,r=0){this.type="rectangle",this.x=Number(t),this.y=Number(n),this.width=Number(l),this.height=Number(r)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new me(0,0,0,0)}clone(){return new me(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(t,n,l,r=.5){const{width:o,height:u}=this;if(o<=0||u<=0)return!1;const d=this.x,f=this.y,b=l*(1-r),p=l-b,y=d-b,G=d+o+b,g=f-b,S=f+u+b,V=d+p,W=d+o-p,T=f+p,E=f+u-p;return t>=y&&t<=G&&n>=g&&n<=S&&!(t>V&&t<W&&n>T&&n<E)}intersects(t,n){if(!n){const ut=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=ut)return!1;const ct=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>ct}const l=this.left,r=this.right,o=this.top,u=this.bottom;if(r<=l||u<=o)return!1;const d=pc[0].set(t.left,t.top),f=pc[1].set(t.left,t.bottom),b=pc[2].set(t.right,t.top),p=pc[3].set(t.right,t.bottom);if(b.x<=d.x||f.y<=d.y)return!1;const y=Math.sign(n.a*n.d-n.b*n.c);if(y===0||(n.apply(d,d),n.apply(f,f),n.apply(b,b),n.apply(p,p),Math.max(d.x,f.x,b.x,p.x)<=l||Math.min(d.x,f.x,b.x,p.x)>=r||Math.max(d.y,f.y,b.y,p.y)<=o||Math.min(d.y,f.y,b.y,p.y)>=u))return!1;const G=y*(f.y-d.y),g=y*(d.x-f.x),S=G*l+g*o,V=G*r+g*o,W=G*l+g*u,T=G*r+g*u;if(Math.max(S,V,W,T)<=G*d.x+g*d.y||Math.min(S,V,W,T)>=G*p.x+g*p.y)return!1;const E=y*(d.y-b.y),F=y*(b.x-d.x),M=E*l+F*o,N=E*r+F*o,_=E*l+F*u,H=E*r+F*u;return!(Math.max(M,N,_,H)<=E*d.x+F*d.y||Math.min(M,N,_,H)>=E*p.x+F*p.y)}pad(t=0,n=t){return this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2,this}fit(t){const n=Math.max(this.x,t.x),l=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.width=Math.max(l-n,0),this.y=r,this.height=Math.max(o-r,0),this}ceil(t=1,n=.001){const l=Math.ceil((this.x+this.width-n)*t)/t,r=Math.ceil((this.y+this.height-n)*t)/t;return this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=l-this.x,this.height=r-this.y,this}scale(t,n=t){return this.x*=t,this.y*=n,this.width*=t,this.height*=n,this}enlarge(t){const n=Math.min(this.x,t.x),l=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=n,this.width=l-n,this.y=r,this.height=o-r,this}getBounds(t){return t||(t=new me),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const n=t.x,l=t.y,r=t.x+t.width,o=t.y+t.height;return n>=this.x&&n<this.x+this.width&&l>=this.y&&l<this.y+this.height&&r>=this.x&&r<this.x+this.width&&o>=this.y&&o<this.y+this.height}set(t,n,l,r){return this.x=t,this.y=n,this.width=l,this.height=r,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Sd={default:-1};function ue(s="default"){return Sd[s]===void 0&&(Sd[s]=-1),++Sd[s]}const ip=new Set,oe="8.0.0",Wx="8.3.4",Zs={quiet:!1,noColor:!1},Ut=(s,t,n=3)=>{if(Zs.quiet||ip.has(t))return;let l=new Error().stack;const r=`${t}
Deprecated since v${s}`,o=typeof console.groupCollapsed=="function"&&!Zs.noColor;typeof l>"u"?console.warn("PixiJS Deprecation Warning: ",r):(l=l.split(`
`).splice(n).join(`
`),o?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r),console.warn(l),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r),console.warn(l))),ip.add(t)};Object.defineProperties(Ut,{quiet:{get:()=>Zs.quiet,set:s=>{Zs.quiet=s},enumerable:!0,configurable:!1},noColor:{get:()=>Zs.noColor,set:s=>{Zs.noColor=s},enumerable:!0,configurable:!1}});const Ny=()=>{};function Gs(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function lp(s){return!(s&s-1)&&!!s}function wy(s){const t={};for(const n in s)s[n]!==void 0&&(t[n]=s[n]);return t}const sp=Object.create(null);function Yx(s){const t=sp[s];return t===void 0&&(sp[s]=ue("resource")),t}const Hy=class Ty extends jn{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...Ty.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){Ut(oe,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this._sharedResourceId=null,this.emit("change",this)}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Yx(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Hy.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Uc=Hy;const Fy=class _y extends jn{constructor(t={}){super(),this.options=t,this._gpuData=Object.create(null),this._gcLastUsed=-1,this.uid=ue("textureSource"),this._resourceType="textureSource",this._resourceId=ue("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={..._y.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new Uc(wy(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(t){this._style.maxAnisotropy=t}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=ue("resource"),this.emit("change",this),this.emit("unload",this);for(const t in this._gpuData)this._gpuData[t]?.destroy?.();this._gpuData=Object.create(null)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,n,l){l||(l=this._resolution),t||(t=this.width),n||(n=this.height);const r=Math.round(t*l),o=Math.round(n*l);return this.width=r/l,this.height=o/l,this._resolution=l,this.pixelWidth===r&&this.pixelHeight===o?!1:(this._refreshPOT(),this.pixelWidth=r,this.pixelHeight=o,this.emit("resize",this),this._resourceId=ue("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=lp(this.pixelWidth)&&lp(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};Fy.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Fn=Fy;class Wh extends Fn{constructor(t){const n=t.resource||new Float32Array(t.width*t.height*4);let l=t.format;l||(n instanceof Float32Array?l="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?l="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?l="rgba16uint":(n instanceof Int8Array,l="bgra8unorm")),super({...t,resource:n,format:l}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}Wh.extension=Qt.TextureSource;const ap=new Ht;class Cx{constructor(t,n){this.mapCoord=new Ht,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,n){n===void 0&&(n=t);const l=this.mapCoord;for(let r=0;r<t.length;r+=2){const o=t[r],u=t[r+1];n[r]=o*l.a+u*l.c+l.tx,n[r+1]=o*l.b+u*l.d+l.ty}return n}update(){const t=this._texture;this._updateID++;const n=t.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const l=t.orig,r=t.trim;r&&(ap.set(l.width/r.width,0,0,l.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(ap));const o=t.source,u=this.uClampFrame,d=this.clampMargin/o._resolution,f=this.clampOffset/o._resolution;return u[0]=(t.frame.x+d+f)/o.width,u[1]=(t.frame.y+d+f)/o.height,u[2]=(t.frame.x+t.frame.width-d+f)/o.width,u[3]=(t.frame.y+t.frame.height-d+f)/o.height,this.uClampOffset[0]=this.clampOffset/o.pixelWidth,this.uClampOffset[1]=this.clampOffset/o.pixelHeight,this.isSimple=t.frame.width===o.width&&t.frame.height===o.height&&t.rotate===0,!0}}class Mt extends jn{constructor({source:t,label:n,frame:l,orig:r,trim:o,defaultAnchor:u,defaultBorders:d,rotate:f,dynamic:b}={}){if(super(),this.uid=ue("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new me,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=t?.source??new Fn,this.noFrame=!l,l)this.frame.copyFrom(l);else{const{width:p,height:y}=this._source;this.frame.width=p,this.frame.height=y}this.orig=r||this.frame,this.trim=o,this.rotate=f??0,this.defaultAnchor=u,this.defaultBorders=d,this.destroyed=!1,this.dynamic=b||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Cx(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:n}=this,{width:l,height:r}=this._source,o=n.x/l,u=n.y/r,d=n.width/l,f=n.height/r;let b=this.rotate;if(b){const p=d/2,y=f/2,G=o+p,g=u+y;b=$t.add(b,$t.NW),t.x0=G+p*$t.uX(b),t.y0=g+y*$t.uY(b),b=$t.add(b,2),t.x1=G+p*$t.uX(b),t.y1=g+y*$t.uY(b),b=$t.add(b,2),t.x2=G+p*$t.uX(b),t.y2=g+y*$t.uY(b),b=$t.add(b,2),t.x3=G+p*$t.uX(b),t.y3=g+y*$t.uY(b)}else t.x0=o,t.y0=u,t.x1=o+d,t.y1=u,t.x2=o+d,t.y2=u+f,t.x3=o,t.y3=u+f}destroy(t=!1){this._source&&(this._source.off("resize",this.update,this),t&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Ut(oe,"Texture.baseTexture is now Texture.source"),this._source}}Mt.EMPTY=new Mt({label:"EMPTY",source:new Fn({label:"EMPTY"})});Mt.EMPTY.destroy=Ny;Mt.WHITE=new Mt({source:new Wh({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Mt.WHITE.destroy=Ny;function Jx(s,t,n){const{width:l,height:r}=n.orig,o=n.trim;if(o){const u=o.width,d=o.height;s.minX=o.x-t._x*l,s.maxX=s.minX+u,s.minY=o.y-t._y*r,s.maxY=s.minY+d}else s.minX=-t._x*l,s.maxX=s.minX+l,s.minY=-t._y*r,s.maxY=s.minY+r}const rp=new Ht;class Tn{constructor(t=1/0,n=1/0,l=-1/0,r=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=rp,this.minX=t,this.minY=n,this.maxX=l,this.maxY=r}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new me);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=rp,this}set(t,n,l,r){this.minX=t,this.minY=n,this.maxX=l,this.maxY=r}addFrame(t,n,l,r,o){o||(o=this.matrix);const u=o.a,d=o.b,f=o.c,b=o.d,p=o.tx,y=o.ty;let G=this.minX,g=this.minY,S=this.maxX,V=this.maxY,W=u*t+f*n+p,T=d*t+b*n+y;W<G&&(G=W),T<g&&(g=T),W>S&&(S=W),T>V&&(V=T),W=u*l+f*n+p,T=d*l+b*n+y,W<G&&(G=W),T<g&&(g=T),W>S&&(S=W),T>V&&(V=T),W=u*t+f*r+p,T=d*t+b*r+y,W<G&&(G=W),T<g&&(g=T),W>S&&(S=W),T>V&&(V=T),W=u*l+f*r+p,T=d*l+b*r+y,W<G&&(G=W),T<g&&(g=T),W>S&&(S=W),T>V&&(V=T),this.minX=G,this.minY=g,this.maxX=S,this.maxY=V}addRect(t,n){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,n)}addBounds(t,n){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,n)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const n=this.minX,l=this.minY,r=this.maxX,o=this.maxY,{a:u,b:d,c:f,d:b,tx:p,ty:y}=t;let G=u*n+f*l+p,g=d*n+b*l+y;this.minX=G,this.minY=g,this.maxX=G,this.maxY=g,G=u*r+f*l+p,g=d*r+b*l+y,this.minX=G<this.minX?G:this.minX,this.minY=g<this.minY?g:this.minY,this.maxX=G>this.maxX?G:this.maxX,this.maxY=g>this.maxY?g:this.maxY,G=u*n+f*o+p,g=d*n+b*o+y,this.minX=G<this.minX?G:this.minX,this.minY=g<this.minY?g:this.minY,this.maxX=G>this.maxX?G:this.maxX,this.maxY=g>this.maxY?g:this.maxY,G=u*r+f*o+p,g=d*r+b*o+y,this.minX=G<this.minX?G:this.minX,this.minY=g<this.minY?g:this.minY,this.maxX=G>this.maxX?G:this.maxX,this.maxY=g>this.maxY?g:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,n,l,r){return this.minX<t&&(this.minX=t),this.maxX>n&&(this.maxX=n),this.minY<l&&(this.minY=l),this.maxY>r&&(this.maxY=r),this}pad(t,n=t){return this.minX-=t,this.maxX+=t,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Tn(this.minX,this.minY,this.maxX,this.maxY)}scale(t,n=t){return this.minX*=t,this.minY*=n,this.maxX*=t,this.maxY*=n,this}get x(){return this.minX}set x(t){const n=this.maxX-this.minX;this.minX=t,this.maxX=t+n}get y(){return this.minY}set y(t){const n=this.maxY-this.minY;this.minY=t,this.maxY=t+n}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,n,l,r){let o=this.minX,u=this.minY,d=this.maxX,f=this.maxY;r||(r=this.matrix);const b=r.a,p=r.b,y=r.c,G=r.d,g=r.tx,S=r.ty;for(let V=n;V<l;V+=2){const W=t[V],T=t[V+1],E=b*W+y*T+g,F=p*W+G*T+S;o=E<o?E:o,u=F<u?F:u,d=E>d?E:d,f=F>f?F:f}this.minX=o,this.minY=u,this.maxX=d,this.maxY=f}containsPoint(t,n){return this.minX<=t&&this.minY<=n&&this.maxX>=t&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var Lx={grad:.9,turn:360,rad:360/(2*Math.PI)},di=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},Se=function(s,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*s)/n+0},Vn=function(s,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),s>n?n:s>t?s:t},zy=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},cp=function(s){return{r:Vn(s.r,0,255),g:Vn(s.g,0,255),b:Vn(s.b,0,255),a:Vn(s.a)}},Vd=function(s){return{r:Se(s.r),g:Se(s.g),b:Se(s.b),a:Se(s.a,3)}},Nx=/^#([0-9a-f]{3,8})$/i,yc=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},By=function(s){var t=s.r,n=s.g,l=s.b,r=s.a,o=Math.max(t,n,l),u=o-Math.min(t,n,l),d=u?o===t?(n-l)/u:o===n?2+(l-t)/u:4+(t-n)/u:0;return{h:60*(d<0?d+6:d),s:o?u/o*100:0,v:o/255*100,a:r}},Ey=function(s){var t=s.h,n=s.s,l=s.v,r=s.a;t=t/360*6,n/=100,l/=100;var o=Math.floor(t),u=l*(1-n),d=l*(1-(t-o)*n),f=l*(1-(1-t+o)*n),b=o%6;return{r:255*[l,d,u,u,f,l][b],g:255*[f,l,l,d,u,u][b],b:255*[u,u,f,l,l,d][b],a:r}},op=function(s){return{h:zy(s.h),s:Vn(s.s,0,100),l:Vn(s.l,0,100),a:Vn(s.a)}},up=function(s){return{h:Se(s.h),s:Se(s.s),l:Se(s.l),a:Se(s.a,3)}},dp=function(s){return Ey((n=(t=s).s,{h:t.h,s:(n*=((l=t.l)<50?l:100-l)/100)>0?2*n/(l+n)*100:0,v:l+n,a:t.a}));var t,n,l},Ta=function(s){return{h:(t=By(s)).h,s:(r=(200-(n=t.s))*(l=t.v)/100)>0&&r<200?n*l/100/(r<=100?r:200-r)*100:0,l:r/2,a:t.a};var t,n,l,r},wx=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hx=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Tx=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Fx=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qd={string:[[function(s){var t=Nx.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?Se(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?Se(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=Tx.exec(s)||Fx.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:cp({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=wx.exec(s)||Hx.exec(s);if(!t)return null;var n,l,r=op({h:(n=t[1],l=t[2],l===void 0&&(l="deg"),Number(n)*(Lx[l]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return dp(r)},"hsl"]],object:[[function(s){var t=s.r,n=s.g,l=s.b,r=s.a,o=r===void 0?1:r;return di(t)&&di(n)&&di(l)?cp({r:Number(t),g:Number(n),b:Number(l),a:Number(o)}):null},"rgb"],[function(s){var t=s.h,n=s.s,l=s.l,r=s.a,o=r===void 0?1:r;if(!di(t)||!di(n)||!di(l))return null;var u=op({h:Number(t),s:Number(n),l:Number(l),a:Number(o)});return dp(u)},"hsl"],[function(s){var t=s.h,n=s.s,l=s.v,r=s.a,o=r===void 0?1:r;if(!di(t)||!di(n)||!di(l))return null;var u=(function(d){return{h:zy(d.h),s:Vn(d.s,0,100),v:Vn(d.v,0,100),a:Vn(d.a)}})({h:Number(t),s:Number(n),v:Number(l),a:Number(o)});return Ey(u)},"hsv"]]},hp=function(s,t){for(var n=0;n<t.length;n++){var l=t[n][0](s);if(l)return[l,t[n][1]]}return[null,void 0]},_x=function(s){return typeof s=="string"?hp(s.trim(),qd.string):typeof s=="object"&&s!==null?hp(s,qd.object):[null,void 0]},Wd=function(s,t){var n=Ta(s);return{h:n.h,s:Vn(n.s+100*t,0,100),l:n.l,a:n.a}},Yd=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},fp=function(s,t){var n=Ta(s);return{h:n.h,s:n.s,l:Vn(n.l+100*t,0,100),a:n.a}},$d=(function(){function s(t){this.parsed=_x(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return Se(Yd(this.rgba),2)},s.prototype.isDark=function(){return Yd(this.rgba)<.5},s.prototype.isLight=function(){return Yd(this.rgba)>=.5},s.prototype.toHex=function(){return t=Vd(this.rgba),n=t.r,l=t.g,r=t.b,u=(o=t.a)<1?yc(Se(255*o)):"","#"+yc(n)+yc(l)+yc(r)+u;var t,n,l,r,o,u},s.prototype.toRgb=function(){return Vd(this.rgba)},s.prototype.toRgbString=function(){return t=Vd(this.rgba),n=t.r,l=t.g,r=t.b,(o=t.a)<1?"rgba("+n+", "+l+", "+r+", "+o+")":"rgb("+n+", "+l+", "+r+")";var t,n,l,r,o},s.prototype.toHsl=function(){return up(Ta(this.rgba))},s.prototype.toHslString=function(){return t=up(Ta(this.rgba)),n=t.h,l=t.s,r=t.l,(o=t.a)<1?"hsla("+n+", "+l+"%, "+r+"%, "+o+")":"hsl("+n+", "+l+"%, "+r+"%)";var t,n,l,r,o},s.prototype.toHsv=function(){return t=By(this.rgba),{h:Se(t.h),s:Se(t.s),v:Se(t.v),a:Se(t.a,3)};var t},s.prototype.invert=function(){return Kn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),Kn(Wd(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),Kn(Wd(this.rgba,-t))},s.prototype.grayscale=function(){return Kn(Wd(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),Kn(fp(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),Kn(fp(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?Kn({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):Se(this.rgba.a,3);var n},s.prototype.hue=function(t){var n=Ta(this.rgba);return typeof t=="number"?Kn({h:t,s:n.s,l:n.l,a:n.a}):Se(n.h)},s.prototype.isEqual=function(t){return this.toHex()===Kn(t).toHex()},s})(),Kn=function(s){return s instanceof $d?s:new $d(s)},mp=[],zx=function(s){s.forEach(function(t){mp.indexOf(t)<0&&(t($d,qd),mp.push(t))})};function Bx(s,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},l={};for(var r in n)l[n[r]]=r;var o={};s.prototype.toName=function(u){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,f,b=l[this.toHex()];if(b)return b;if(u?.closest){var p=this.toRgb(),y=1/0,G="black";if(!o.length)for(var g in n)o[g]=new s(n[g]).toRgb();for(var S in n){var V=(d=p,f=o[S],Math.pow(d.r-f.r,2)+Math.pow(d.g-f.g,2)+Math.pow(d.b-f.b,2));V<y&&(y=V,G=S)}return G}},t.string.push([function(u){var d=u.toLowerCase(),f=d==="transparent"?"#0000":n[d];return f?new s(f).toRgb():null},"name"])}zx([Bx]);const Rs=class Ca{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Ca)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,n){const l=typeof t;if(l!==typeof n)return!1;if(l==="number"||l==="string"||t instanceof Number)return t===n;if(Array.isArray(t)&&Array.isArray(n)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(n))return t.length!==n.length?!1:t.every((o,u)=>o===n[u]);if(t!==null&&n!==null){const o=Object.keys(t),u=Object.keys(n);return o.length!==u.length?!1:o.every(d=>t[d]===n[d])}return t===n}toRgba(){const[t,n,l,r]=this._components;return{r:t,g:n,b:l,a:r}}toRgb(){const[t,n,l]=this._components;return{r:t,g:n,b:l}}toRgbaString(){const[t,n,l]=this.toUint8RgbArray();return`rgba(${t},${n},${l},${this.alpha})`}toUint8RgbArray(t){const[n,l,r]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(n*255),t[1]=Math.round(l*255),t[2]=Math.round(r*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[n,l,r,o]=this._components;return t[0]=n,t[1]=l,t[2]=r,t[3]=o,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[n,l,r]=this._components;return t[0]=n,t[1]=l,t[2]=r,t}toNumber(){return this._int}toBgrNumber(){const[t,n,l]=this.toUint8RgbArray();return(l<<16)+(n<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[n,l,r,o]=Ca._temp.setValue(t)._components;return this._components[0]*=n,this._components[1]*=l,this._components[2]*=r,this._components[3]*=o,this._refreshInt(),this._value=null,this}premultiply(t,n=!0){return n&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,n=!0){if(t===1)return(255<<24)+this._int;if(t===0)return n?0:this._int;let l=this._int>>16&255,r=this._int>>8&255,o=this._int&255;return n&&(l=l*t+.5|0,r=r*t+.5|0,o=o*t+.5|0),(t*255<<24)+(l<<16)+(r<<8)+o}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let n,l,r,o;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const u=t;n=(u>>16&255)/255,l=(u>>8&255)/255,r=(u&255)/255,o=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[n,l,r,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[n,l,r,o=255]=t,n/=255,l/=255,r/=255,o/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const d=Ca.HEX_PATTERN.exec(t);d&&(t=`#${d[2]}`)}const u=Kn(t);u.isValid()&&({r:n,g:l,b:r,a:o}=u.rgba,n/=255,l/=255,r/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=l,this._components[2]=r,this._components[3]=o,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,n,l]=this._components;this._int=(t*255<<16)+(n*255<<8)+(l*255|0)}_clamp(t,n=0,l=1){return typeof t=="number"?Math.min(Math.max(t,n),l):(t.forEach((r,o)=>{t[o]=Math.min(Math.max(r,n),l)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof Ca||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Rs.shared=new Rs;Rs._temp=new Rs;Rs.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Ge=Rs;const Ex={cullArea:null,cullable:!1,cullableChildren:!0};let Cd=0;const bp=500;function Pe(...s){Cd!==bp&&(Cd++,Cd===bp?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...s))}const Aa={_registeredResources:new Set,register(s){this._registeredResources.add(s)},unregister(s){this._registeredResources.delete(s)},release(){this._registeredResources.forEach(s=>s.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(s){return this._registeredResources.has(s)},reset(){this._registeredResources.clear()}};class kx{constructor(t,n){this._pool=[],this._count=0,this._index=0,this._classType=t,n&&this.prepopulate(n)}prepopulate(t){for(let n=0;n<t;n++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let n;return this._index>0?n=this._pool[--this._index]:(n=new this._classType,this._count++),n.init?.(t),n}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let t=0;t<this._index;t++)this._pool[t].destroy();this._pool.length=0,this._count=0,this._index=0}}class Ux{constructor(){this._poolsByClass=new Map}prepopulate(t,n){this.getPool(t).prepopulate(n)}get(t,n){return this.getPool(t).get(n)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new kx(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(n=>{const l=t[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;t[l]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),t}clear(){this._poolsByClass.forEach(t=>t.clear()),this._poolsByClass.clear()}}const Wn=new Ux;Aa.register(Wn);const Mx={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(s){typeof s=="boolean"&&s===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(s===!0?{}:s))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(s){Ut("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(s)}};function Kx(s,t,n){const l=s.length;let r;if(t>=l||n===0)return;n=t+n>l?l-t:n;const o=l-n;for(r=t;r<o;++r)s[r]=s[r+n];s.length=o}const Px={allowChildren:!0,removeChildren(s=0,t){const n=t??this.children.length,l=n-s,r=[];if(l>0&&l<=n){for(let u=n-1;u>=s;u--){const d=this.children[u];d&&(r.push(d),d.parent=null)}Kx(this.children,s,n);const o=this.renderGroup||this.parentRenderGroup;o&&o.removeChildren(r);for(let u=0;u<r.length;++u){const d=r[u];d.parentRenderLayer?.detach(d),this.emit("childRemoved",d,this,u),r[u].emit("removed",this)}return r.length>0&&this._didViewChangeTick++,r}else if(l===0&&this.children.length===0)return r;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(s){const t=this.getChildAt(s);return this.removeChild(t)},getChildAt(s){if(s<0||s>=this.children.length)throw new Error(`getChildAt: Index (${s}) does not exist.`);return this.children[s]},setChildIndex(s,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(s),this.addChildAt(s,t)},getChildIndex(s){const t=this.children.indexOf(s);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(s,t){this.allowChildren||Ut(oe,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(t<0||t>n.length)throw new Error(`${s}addChildAt: The index ${t} supplied is out of bounds ${n.length}`);if(s.parent){const r=s.parent.children.indexOf(s);if(s.parent===this&&r===t)return s;r!==-1&&s.parent.children.splice(r,1)}t===n.length?n.push(s):n.splice(t,0,s),s.parent=this,s.didChange=!0,s._updateFlags=15;const l=this.renderGroup||this.parentRenderGroup;return l&&l.addChild(s),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",s,this,t),s.emit("added",this),s},swapChildren(s,t){if(s===t)return;const n=this.getChildIndex(s),l=this.getChildIndex(t);this.children[n]=t,this.children[l]=s;const r=this.renderGroup||this.parentRenderGroup;r&&(r.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...s){return s.length===1?this.reparentChildAt(s[0],this.children.length):(s.forEach(t=>this.reparentChildAt(t,this.children.length)),s[0])},reparentChildAt(s,t){if(s.parent===this)return this.setChildIndex(s,t),s;const n=s.worldTransform.clone();s.removeFromParent(),this.addChildAt(s,t);const l=this.worldTransform.clone();return l.invert(),n.prepend(l),s.setFromMatrix(n),s},replaceChild(s,t){s.updateLocalTransform(),this.addChildAt(t,this.getChildIndex(s)),t.setFromMatrix(s.localTransform),t.updateLocalTransform(),this.removeChild(s)}},jx={collectRenderables(s,t,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(s,t,n):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,s):this.collectRenderablesWithEffects(s,t,n))},collectRenderablesSimple(s,t,n){const l=this.children,r=l.length;for(let o=0;o<r;o++)l[o].collectRenderables(s,t,n)},collectRenderablesWithEffects(s,t,n){const{renderPipes:l}=t;for(let r=0;r<this.effects.length;r++){const o=this.effects[r];l[o.pipe].push(o,this,s)}this.collectRenderablesSimple(s,t,n);for(let r=this.effects.length-1;r>=0;r--){const o=this.effects[r];l[o.pipe].pop(o,this,s)}}};class pp{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class Qx{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const l=this._tests[n];if(l.test(t))return Wn.get(l.maskClass,t)}return t}returnMaskEffect(t){Wn.return(t)}}const th=new Qx;Yn.handleByList(Qt.MaskEffect,th._effectClasses);const Ix={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0)},addEffect(s){this.effects.indexOf(s)===-1&&(this.effects.push(s),this.effects.sort((n,l)=>n.priority-l.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(s){const t=this.effects.indexOf(s);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(s){const t=this._maskEffect;t?.mask!==s&&(t&&(this.removeEffect(t),th.returnMaskEffect(t),this._maskEffect=null),s!=null&&(this._maskEffect=th.getMaskEffect(s),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(s){this._maskOptions={...this._maskOptions,...s},s.mask&&(this.mask=s.mask),this._markStructureAsChanged()},set filters(s){!Array.isArray(s)&&s&&(s=[s]);const t=this._filterEffect||(this._filterEffect=new pp);s=s;const n=s?.length>0,l=t.filters?.length>0,r=n!==l;s=Array.isArray(s)?s.slice(0):s,t.filters=Object.freeze(s),r&&(n?this.addEffect(t):(this.removeEffect(t),t.filters=s??null))},get filters(){return this._filterEffect?.filters},set filterArea(s){this._filterEffect||(this._filterEffect=new pp),this._filterEffect.filterArea=s},get filterArea(){return this._filterEffect?.filterArea}},Ax={label:null,get name(){return Ut(oe,"Container.name property has been removed, use Container.label instead"),this.label},set name(s){Ut(oe,"Container.name property has been removed, use Container.label instead"),this.label=s},getChildByName(s,t=!1){return this.getChildByLabel(s,t)},getChildByLabel(s,t=!1){const n=this.children;for(let l=0;l<n.length;l++){const r=n[l];if(r.label===s||s instanceof RegExp&&s.test(r.label))return r}if(t)for(let l=0;l<n.length;l++){const o=n[l].getChildByLabel(s,!0);if(o)return o}return null},getChildrenByLabel(s,t=!1,n=[]){const l=this.children;for(let r=0;r<l.length;r++){const o=l[r];(o.label===s||s instanceof RegExp&&s.test(o.label))&&n.push(o)}if(t)for(let r=0;r<l.length;r++)l[r].getChildrenByLabel(s,!0,n);return n}},Ke=Wn.getPool(Ht),fi=Wn.getPool(Tn),Dx=new Ht,Ox={getFastGlobalBounds(s,t){t||(t=new Tn),t.clear(),this._getGlobalBoundsRecursive(!!s,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(n.worldTransform),t},_getGlobalBoundsRecursive(s,t,n){let l=t;if(s&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const r=!!this.effects.length;if((this.renderGroup||r)&&(l=fi.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const u=this.bounds;l.addFrame(u.minX,u.minY,u.maxX,u.maxY,this.groupTransform)}const o=this.children;for(let u=0;u<o.length;u++)o[u]._getGlobalBoundsRecursive(s,l,n)}if(r){let o=!1;const u=this.renderGroup||this.parentRenderGroup;for(let d=0;d<this.effects.length;d++)this.effects[d].addBounds&&(o||(o=!0,l.applyMatrix(u.worldTransform)),this.effects[d].addBounds(l,!0));o&&l.applyMatrix(u.worldTransform.copyTo(Dx).invert()),t.addBounds(l),fi.return(l)}else this.renderGroup&&(t.addBounds(l,this.relativeGroupTransform),fi.return(l))}};function ky(s,t,n){n.clear();let l,r;return s.parent?t?l=s.parent.worldTransform:(r=Ke.get().identity(),l=Yh(s,r)):l=Ht.IDENTITY,Uy(s,n,l,t),r&&Ke.return(r),n.isValid||n.set(0,0,0,0),n}function Uy(s,t,n,l){if(!s.visible||!s.measurable)return;let r;l?r=s.worldTransform:(s.updateLocalTransform(),r=Ke.get(),r.appendFrom(s.localTransform,n));const o=t,u=!!s.effects.length;if(u&&(t=fi.get().clear()),s.boundsArea)t.addRect(s.boundsArea,r);else{const d=s.bounds;d&&!d.isEmpty()&&(t.matrix=r,t.addBounds(d));for(let f=0;f<s.children.length;f++)Uy(s.children[f],t,r,l)}if(u){for(let d=0;d<s.effects.length;d++)s.effects[d].addBounds?.(t);o.addBounds(t,Ht.IDENTITY),fi.return(t)}l||Ke.return(r)}function Yh(s,t){const n=s.parent;return n&&(Yh(n,t),n.updateLocalTransform(),t.append(n.localTransform)),t}function My(s,t){if(s===16777215||!t)return t;if(t===16777215||!s)return s;const n=s>>16&255,l=s>>8&255,r=s&255,o=t>>16&255,u=t>>8&255,d=t&255,f=n*o/255|0,b=l*u/255|0,p=r*d/255|0;return(f<<16)+(b<<8)+p}const yp=16777215;function Xp(s,t){return s===yp?t:t===yp?s:My(s,t)}function Cc(s){return((s&255)<<16)+(s&65280)+(s>>16&255)}const qx={getGlobalAlpha(s){if(s)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,n=this.parent;for(;n;)t*=n.alpha,n=n.parent;return t},getGlobalTransform(s=new Ht,t){if(t)return s.copyFrom(this.worldTransform);this.updateLocalTransform();const n=Yh(this,Ke.get().identity());return s.appendFrom(this.localTransform,n),Ke.return(n),s},getGlobalTint(s){if(s)return this.renderGroup?Cc(this.renderGroup.worldColor):this.parentRenderGroup?Cc(Xp(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,n=this.parent;for(;n;)t=Xp(t,n.localColor),n=n.parent;return Cc(t)}};function Ky(s,t,n){return t.clear(),n||(n=Ht.IDENTITY),Py(s,t,n,s,!0),t.isValid||t.set(0,0,0,0),t}function Py(s,t,n,l,r){let o;if(r)o=Ke.get(),o=n.copyTo(o);else{if(!s.visible||!s.measurable)return;s.updateLocalTransform();const f=s.localTransform;o=Ke.get(),o.appendFrom(f,n)}const u=t,d=!!s.effects.length;if(d&&(t=fi.get().clear()),s.boundsArea)t.addRect(s.boundsArea,o);else{s.renderPipeId&&(t.matrix=o,t.addBounds(s.bounds));const f=s.children;for(let b=0;b<f.length;b++)Py(f[b],t,o,l,!1)}if(d){for(let f=0;f<s.effects.length;f++)s.effects[f].addLocalBounds?.(t,l);u.addBounds(t,Ht.IDENTITY),fi.return(t)}Ke.return(o)}function jy(s,t){const n=s.children;for(let l=0;l<n.length;l++){const r=n[l],o=r.uid,u=(r._didViewChangeTick&65535)<<16|r._didContainerChangeTick&65535,d=t.index;(t.data[d]!==o||t.data[d+1]!==u)&&(t.data[t.index]=o,t.data[t.index+1]=u,t.didChange=!0),t.index=d+2,r.children.length&&jy(r,t)}return t.didChange}const $x=new Ht,tg={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(s,t){const n=Math.sign(this.scale.x)||1;t!==0?this.scale.x=s/t*n:this.scale.x=n},_setHeight(s,t){const n=Math.sign(this.scale.y)||1;t!==0?this.scale.y=s/t*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Tn});const s=this._localBoundsCacheData;return s.index=1,s.didChange=!1,s.data[0]!==this._didViewChangeTick&&(s.didChange=!0,s.data[0]=this._didViewChangeTick),jy(this,s),s.didChange&&Ky(this,s.localBounds,$x),s.localBounds},getBounds(s,t){return ky(this,s,t||new Tn)}},eg={_onRender:null,set onRender(s){const t=this.renderGroup||this.parentRenderGroup;if(!s){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=s},get onRender(){return this._onRender}},ng={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(s){this._zIndex!==s&&(this._zIndex=s,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(ig))}};function ig(s,t){return s._zIndex-t._zIndex}const lg={getGlobalPosition(s=new ze,t=!1){return this.parent?this.parent.toGlobal(this._position,s,t):(s.x=this._position.x,s.y=this._position.y),s},toGlobal(s,t,n=!1){const l=this.getGlobalTransform(Ke.get(),n);return t=l.apply(s,t),Ke.return(l),t},toLocal(s,t,n,l){t&&(s=t.toGlobal(s,n,l));const r=this.getGlobalTransform(Ke.get(),l);return n=r.applyInverse(s,n),Ke.return(r),n}};class Qy{constructor(){this.uid=ue("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let sg=0;class ag{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new Uc(this.textureOptions)}createTexture(t,n,l){const r=new Fn({...this.textureOptions,width:t,height:n,resolution:1,antialias:l,autoGarbageCollect:!1});return new Mt({source:r,label:`texturePool_${sg++}`})}getOptimalTexture(t,n,l=1,r){let o=Math.ceil(t*l-1e-6),u=Math.ceil(n*l-1e-6);o=Gs(o),u=Gs(u);const d=(o<<17)+(u<<1)+(r?1:0);this._texturePool[d]||(this._texturePool[d]=[]);let f=this._texturePool[d].pop();return f||(f=this.createTexture(o,u,r)),f.source._resolution=l,f.source.width=o/l,f.source.height=u/l,f.source.pixelWidth=o,f.source.pixelHeight=u,f.frame.x=0,f.frame.y=0,f.frame.width=t,f.frame.height=n,f.updateUvs(),this._poolKeyHash[f.uid]=d,f}getSameSizeTexture(t,n=!1){const l=t.source;return this.getOptimalTexture(t.width,t.height,l._resolution,n)}returnTexture(t,n=!1){const l=this._poolKeyHash[t.uid];n&&(t.source.style=this.textureStyle),this._texturePool[l].push(t)}clear(t){if(t=t!==!1,t)for(const n in this._texturePool){const l=this._texturePool[n];if(l)for(let r=0;r<l.length;r++)l[r].destroy(!0)}this._texturePool={}}}const Iy=new ag;Aa.register(Iy);class rg{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Ht,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Qy,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const n=t.children;for(let l=0;l<n.length;l++){const r=n[l];r._updateFlags=15,this.addChild(r)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Iy.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const t=this._parentCacheAsTextureRenderGroup;t&&!t.textureNeedsUpdate&&t.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const n=this.childrenToUpdate[t];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const n=this.renderGroupChildren.indexOf(t);n>-1&&this.renderGroupChildren.splice(n,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const n=t.children;for(let l=0;l<n.length;l++)this.addChild(n[l])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const n=t.children;for(let l=0;l<n.length;l++)this.removeChild(n[l])}removeChildren(t){for(let n=0;n<t.length;n++)this.removeChild(t[n])}onChildUpdate(t){let n=this.childrenToUpdate[t.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const n=this.root.children;for(let l=0;l<n.length;l++)this._getChildren(n[l],t);return t}_getChildren(t,n=[]){if(n.push(t),t.renderGroup)return n;const l=t.children;for(let r=0;r<l.length;r++)this._getChildren(l[r],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Ht),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Ht),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Ht),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function cg(s,t,n={}){for(const l in t)!n[l]&&t[l]!==void 0&&(s[l]=t[l])}const Jd=new we(null),Xc=new we(null),Ld=new we(null,1,1),Zc=new we(null),Zp=1,og=2,Nd=4;class ge extends jn{constructor(t={}){super(),this.uid=ue("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new Ht,this.relativeGroupTransform=new Ht,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new we(this,0,0),this._scale=Ld,this._pivot=Xc,this._origin=Zc,this._skew=Jd,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],cg(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(n=>this.addChild(n)),t.parent?.addChild(this)}static mixin(t){Ut("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Yn.mixin(ge,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||Ut(oe,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let r=0;r<t.length;r++)this.addChild(t[r]);return t[0]}const n=t[0],l=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),l&&(l.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,l&&l.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...t){if(t.length>1){for(let r=0;r<t.length;r++)this.removeChild(t[r]);return t[0]}const n=t[0],l=this.children.indexOf(n);return l>-1&&(this._didViewChangeTick++,this.children.splice(l,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,l),n.emit("removed",this)),n}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=Wn.get(rg,this),this.groupTransform=Ht.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),Wn.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Ht),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*Gx}set angle(t){this.rotation=t*Rx}get pivot(){return this._pivot===Xc&&(this._pivot=new we(this,0,0)),this._pivot}set pivot(t){this._pivot===Xc&&(this._pivot=new we(this,0,0),this._origin!==Zc&&Pe("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Jd&&(this._skew=new we(this,0,0)),this._skew}set skew(t){this._skew===Jd&&(this._skew=new we(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===Ld&&(this._scale=new we(this,1,1)),this._scale}set scale(t){this._scale===Ld&&(this._scale=new we(this,0,0)),typeof t=="string"&&(t=parseFloat(t)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get origin(){return this._origin===Zc&&(this._origin=new we(this,0,0)),this._origin}set origin(t){this._origin===Zc&&(this._origin=new we(this,0,0),this._pivot!==Xc&&Pe("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._origin.set(t):this._origin.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const n=this.getLocalBounds().width;this._setWidth(t,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const n=this.getLocalBounds().height;this._setHeight(t,n)}getSize(t){t||(t={});const n=this.getLocalBounds();return t.width=Math.abs(this.scale.x*n.width),t.height=Math.abs(this.scale.y*n.height),t}setSize(t,n){const l=this.getLocalBounds();typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,l.width),n!==void 0&&this._setHeight(n,l.height)}_updateSkew(){const t=this._rotation,n=this._skew;this._cx=Math.cos(t+n._y),this._sx=Math.sin(t+n._y),this._cy=-Math.sin(t-n._x),this._sy=Math.cos(t-n._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this.origin.set(typeof t.originX=="number"?t.originX:this.origin.x,typeof t.originY=="number"?t.originY:this.origin.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const n=this.localTransform,l=this._scale,r=this._pivot,o=this._origin,u=this._position,d=l._x,f=l._y,b=r._x,p=r._y,y=-o._x,G=-o._y;n.a=this._cx*d,n.b=this._sx*d,n.c=this._cy*f,n.d=this._sy*f,n.tx=u._x-(b*n.a+p*n.c)+(y*n.a+G*n.c)-y,n.ty=u._y-(b*n.b+p*n.d)+(y*n.b+G*n.d)-G}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=Zp,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const l=Ge.shared.setValue(t??16777215).toBgrNumber();l!==this.localColor&&(this.localColor=l,this._updateFlags|=Zp,this._onUpdate())}get tint(){return Cc(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=og,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const n=t?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Nd,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const n=t?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Nd,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const n=t?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=Nd,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t?.children)&&n)for(let r=0;r<n.length;++r)n[r].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}Yn.mixin(ge,Px,Ox,lg,eg,tg,Ix,Ax,ng,Ex,Mx,qx,jx);class Ch extends ge{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this._bounds=new Tn(0,1,0,0),this._boundsDirty=!0,this.autoGarbageCollect=t.autoGarbageCollect??!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const n=this.bounds,{x:l,y:r}=t;return l>=n.minX&&l<=n.maxX&&r>=n.minY&&r<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}unload(){this.emit("unload",this);for(const t in this._gpuData)this._gpuData[t]?.destroy();this._gpuData=Object.create(null),this.onViewUpdate()}destroy(t){this.unload(),super.destroy(t),this._bounds=null}collectRenderablesSimple(t,n,l){const{renderPipes:r}=n;r.blendMode.pushBlendMode(this,this.groupBlendMode,t),r[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const u=this.children,d=u.length;for(let f=0;f<d;f++)u[f].collectRenderables(t,n,l);r.blendMode.popBlendMode(t)}}class xl extends Ch{constructor(t=Mt.EMPTY){t instanceof Mt&&(t={texture:t});const{texture:n=Mt.EMPTY,anchor:l,roundPixels:r,width:o,height:u,...d}=t;super({label:"Sprite",...d}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new we({_onUpdate:()=>{this.onViewUpdate()}}),l?this.anchor=l:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=r??!1,o!==void 0&&(this.width=o),u!==void 0&&(this.height=u)}static from(t,n=!1){return t instanceof Mt?new xl(t):new xl(Mt.from(t,n))}set texture(t){t||(t=Mt.EMPTY);const n=this._texture;n!==t&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Jx(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Ut("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,n=this._texture,l=this._bounds,{width:r,height:o}=n.orig;l.minX=-t._x*r,l.maxX=l.minX+r,l.minY=-t._y*o,l.maxY=l.minY+o}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const l=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(l)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,n){typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const ug=new Tn;function Ay(s,t,n){const l=ug;s.measurable=!0,ky(s,n,l),t.addBoundsMask(l),s.measurable=!1}function Dy(s,t,n){const l=fi.get();s.measurable=!0;const r=Ke.get().identity(),o=Oy(s,n,r);Ky(s,l,o),s.measurable=!1,t.addBoundsMask(l),Ke.return(r),fi.return(l)}function Oy(s,t,n){return s?(s!==t&&(Oy(s.parent,t,n),s.updateLocalTransform(),n.append(s.localTransform)),n):(Pe("Mask bounds, renderable is not inside the root container"),n)}class qy{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof xl),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(t,n){this.inverse||Ay(this.mask,t,n)}addLocalBounds(t,n){Dy(this.mask,t,n)}containsPoint(t,n){const l=this.mask;return n(l,t)}destroy(){this.reset()}static test(t){return t instanceof xl}}qy.extension=Qt.MaskEffect;class $y{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}$y.extension=Qt.MaskEffect;class tX{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(t,n){Ay(this.mask,t,n)}addLocalBounds(t,n){Dy(this.mask,t,n)}containsPoint(t,n){const l=this.mask;return n(l,t)}destroy(){this.reset()}static test(t){return t instanceof ge}}tX.extension=Qt.MaskEffect;const dg={createCanvas:(s,t)=>{const n=document.createElement("canvas");return n.width=s,n.height=t,n},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")};let xp=dg;const mn={get(){return xp},set(s){xp=s}};class eX extends Fn{constructor(t){t.resource||(t.resource=mn.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,n=this.height,l=this._resolution){const r=super.resize(t,n,l);return r&&this.resizeCanvas(),r}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}eX.extension=Qt.TextureSource;class Mc extends Fn{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Mc.extension=Qt.TextureSource;var eh=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(eh||{});class wd{constructor(t,n=null,l=0,r=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=n,this.priority=l,this._once=r}match(t,n=null){return this._fn===t&&this._context===n}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=t?null:n,this.previous=null,n}}const nX=class fn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new wd(null,null,1/0),this.deltaMS=1/fn.targetFPMS,this.elapsedMS=1/fn.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,n,l=eh.NORMAL){return this._addListener(new wd(t,n,l))}addOnce(t,n,l=eh.NORMAL){return this._addListener(new wd(t,n,l,!0))}_addListener(t){let n=this._head.next,l=this._head;if(!n)t.connect(l);else{for(;n;){if(t.priority>n.priority){t.connect(l);break}l=n,n=n.next}t.previous||t.connect(l)}return this._startIfPossible(),this}remove(t,n){let l=this._head.next;for(;l;)l.match(t,n)?l=l.destroy():l=l.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,n=this._head;for(;n=n.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const o=t-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=t-o%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*fn.targetFPMS;const l=this._head;let r=l.next;for(;r;)r=r.emit(this);l.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const n=Math.min(this.maxFPS,t),l=Math.min(Math.max(0,n)/1e3,fn.targetFPMS);this._maxElapsedMS=1/l}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,t);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!fn._shared){const t=fn._shared=new fn;t.autoStart=!0,t._protected=!0}return fn._shared}static get system(){if(!fn._system){const t=fn._system=new fn;t.autoStart=!0,t._protected=!0}return fn._system}};nX.targetFPMS=.06;let xc=nX,Hd;async function hg(){return Hd??(Hd=(async()=>{const t=mn.get().createCanvas(1,1).getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const n=await new Promise(u=>{const d=document.createElement("video");d.onloadeddata=()=>u(d),d.onerror=()=>u(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!n)return"premultiply-alpha-on-upload";const l=t.createTexture();t.bindTexture(t.TEXTURE_2D,l);const r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,l,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);const o=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,o),t.deleteFramebuffer(r),t.deleteTexture(l),t.getExtension("WEBGL_lose_context")?.loseContext(),o[0]<=o[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Hd}const qc=class iX extends Fn{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...iX.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=xc.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,n=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await hg(),this._load=new Promise((l,r)=>{this.isValid?l(this):(this._resolve=l,this._reject=r,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(xc.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(xc.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(xc.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};qc.extension=Qt.TextureSource;qc.defaultOptions={...Fn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};qc.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let fg=qc;const ms=(s,t,n=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(l=>typeof l=="string"||n?t(l):l):s);class mg{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const n=this._cache.get(t);return n||Pe(`[Assets] Asset id ${t} was not found in the Cache`),n}set(t,n){const l=ms(t);let r;for(let f=0;f<this.parsers.length;f++){const b=this.parsers[f];if(b.test(n)){r=b.getCacheableAssets(l,n);break}}const o=new Map(Object.entries(r||{}));r||l.forEach(f=>{o.set(f,n)});const u=[...o.keys()],d={cacheKeys:u,keys:l};l.forEach(f=>{this._cacheMap.set(f,d)}),u.forEach(f=>{const b=r?r[f]:n;this._cache.has(f)&&this._cache.get(f)!==b&&Pe("[Cache] already has key:",f),this._cache.set(f,o.get(f))})}remove(t){if(!this._cacheMap.has(t)){Pe(`[Assets] Asset id ${t} was not found in the Cache`);return}const n=this._cacheMap.get(t);n.cacheKeys.forEach(r=>{this._cache.delete(r)}),n.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const bs=new mg,nh=[];Yn.handleByList(Qt.TextureSource,nh);function lX(s={}){const t=s&&s.resource,n=t?s.resource:s,l=t?s:{resource:s};for(let r=0;r<nh.length;r++){const o=nh[r];if(o.test(n))return new o(l)}throw new Error(`Could not find a source type for resource: ${l.resource}`)}function bg(s={},t=!1){const n=s&&s.resource,l=n?s.resource:s,r=n?s:{resource:s};if(!t&&bs.has(l))return bs.get(l);const o=new Mt({source:lX(r)});return o.on("destroy",()=>{bs.has(l)&&bs.remove(l)}),t||bs.set(l,o),o}function pg(s,t=!1){return typeof s=="string"?bs.get(s):s instanceof Fn?new Mt({source:s}):bg(s,t)}Mt.from=pg;Fn.from=lX;Yn.add(qy,$y,tX,fg,Mc,eX,Wh);var sX=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(sX||{});function wn(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function xa(s){return s.split("?")[0].split("#")[0]}function yg(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Xg(s,t,n){return s.replace(new RegExp(yg(t),"g"),n)}function Zg(s,t){let n="",l=0,r=-1,o=0,u=-1;for(let d=0;d<=s.length;++d){if(d<s.length)u=s.charCodeAt(d);else{if(u===47)break;u=47}if(u===47){if(!(r===d-1||o===1))if(r!==d-1&&o===2){if(n.length<2||l!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",l=0):(n=n.slice(0,f),l=n.length-1-n.lastIndexOf("/")),r=d,o=0;continue}}else if(n.length===2||n.length===1){n="",l=0,r=d,o=0;continue}}}else n.length>0?n+=`/${s.slice(r+1,d)}`:n=s.slice(r+1,d),l=d-r-1;r=d,o=0}else u===46&&o!==-1?++o:o=-1}return n}const ka={toPosix(s){return Xg(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){wn(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const n=/^[^/:]+:\/{0,2}/.exec(s);return n?n[0]:""},toAbsolute(s,t,n){if(wn(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const l=xa(this.toPosix(t??mn.get().getBaseUrl())),r=xa(this.toPosix(n??this.rootname(l)));return s=this.toPosix(s),s.startsWith("/")?ka.join(r,s.slice(1)):this.isAbsolute(s)?s:this.join(l,s)},normalize(s){if(wn(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const n=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const l=s.endsWith("/");return s=Zg(s),s.length>0&&l&&(s+="/"),n?`/${s}`:t+s},isAbsolute(s){return wn(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let n=0;n<s.length;++n){const l=s[n];if(wn(l),l.length>0)if(t===void 0)t=l;else{const r=s[n-1]??"";this.joinExtensions.includes(this.extname(r).toLowerCase())?t+=`/../${l}`:t+=`/${l}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(wn(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const n=t===47;let l=-1,r=!0;const o=this.getProtocol(s),u=s;s=s.slice(o.length);for(let d=s.length-1;d>=1;--d)if(t=s.charCodeAt(d),t===47){if(!r){l=d;break}}else r=!1;return l===-1?n?"/":this.isUrl(u)?o+s:o:n&&l===1?"//":o+s.slice(0,l)},rootname(s){wn(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const n=s.indexOf("/",t.length);n!==-1?t=s.slice(0,n):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){wn(s),t&&wn(t),s=xa(this.toPosix(s));let n=0,l=-1,r=!0,o;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let u=t.length-1,d=-1;for(o=s.length-1;o>=0;--o){const f=s.charCodeAt(o);if(f===47){if(!r){n=o+1;break}}else d===-1&&(r=!1,d=o+1),u>=0&&(f===t.charCodeAt(u)?--u===-1&&(l=o):(u=-1,l=d))}return n===l?l=d:l===-1&&(l=s.length),s.slice(n,l)}for(o=s.length-1;o>=0;--o)if(s.charCodeAt(o)===47){if(!r){n=o+1;break}}else l===-1&&(r=!1,l=o+1);return l===-1?"":s.slice(n,l)},extname(s){wn(s),s=xa(this.toPosix(s));let t=-1,n=0,l=-1,r=!0,o=0;for(let u=s.length-1;u>=0;--u){const d=s.charCodeAt(u);if(d===47){if(!r){n=u+1;break}continue}l===-1&&(r=!1,l=u+1),d===46?t===-1?t=u:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||l===-1||o===0||o===1&&t===l-1&&t===n+1?"":s.slice(t,l)},parse(s){wn(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=xa(this.toPosix(s));let n=s.charCodeAt(0);const l=this.isAbsolute(s);let r;t.root=this.rootname(s),l||this.hasProtocol(s)?r=1:r=0;let o=-1,u=0,d=-1,f=!0,b=s.length-1,p=0;for(;b>=r;--b){if(n=s.charCodeAt(b),n===47){if(!f){u=b+1;break}continue}d===-1&&(f=!1,d=b+1),n===46?o===-1?o=b:p!==1&&(p=1):o!==-1&&(p=-1)}return o===-1||d===-1||p===0||p===1&&o===d-1&&o===u+1?d!==-1&&(u===0&&l?t.base=t.name=s.slice(1,d):t.base=t.name=s.slice(u,d)):(u===0&&l?(t.name=s.slice(1,o),t.base=s.slice(1,d)):(t.name=s.slice(u,o),t.base=s.slice(u,d)),t.ext=s.slice(o,d)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function aX(s,t,n,l,r){const o=t[n];for(let u=0;u<o.length;u++){const d=o[u];n<t.length-1?aX(s.replace(l[n],d),t,n+1,l,r):r.push(s.replace(l[n],d))}}function xg(s){const t=/\{(.*?)\}/g,n=s.match(t),l=[];if(n){const r=[];n.forEach(o=>{const u=o.substring(1,o.length-1).split(",");r.push(u)}),aX(s,r,0,n,l)}else l.push(s);return l}const gp=s=>!Array.isArray(s);class rX{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,n)=>`${t}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(t,n)=>n.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const n=t;this._defaultSearchParams=Object.keys(n).map(l=>`${encodeURIComponent(l)}=${encodeURIComponent(n[l])}`).join("&")}}getAlias(t){const{alias:n,src:l}=t;return ms(n||l,o=>typeof o=="string"?o:Array.isArray(o)?o.map(u=>u?.src??u):o?.src?o.src:o,!0)}addManifest(t){this._manifest&&Pe("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(t,n){const l=[];let r=n;Array.isArray(n)||(r=Object.entries(n).map(([o,u])=>typeof u=="string"||Array.isArray(u)?{alias:o,src:u}:{alias:o,...u})),r.forEach(o=>{const u=o.src,d=o.alias;let f;if(typeof d=="string"){const b=this._createBundleAssetId(t,d);l.push(b),f=[d,b]}else{const b=d.map(p=>this._createBundleAssetId(t,p));l.push(...b),f=[...d,...b]}this.add({...o,alias:f,src:u})}),this._bundles[t]=l}add(t){const n=[];Array.isArray(t)?n.push(...t):n.push(t);let l;l=o=>{this.hasKey(o)&&Pe(`[Resolver] already has key: ${o} overwriting`)},ms(n).forEach(o=>{const{src:u}=o;let{data:d,format:f,loadParser:b,parser:p}=o;const y=ms(u).map(V=>typeof V=="string"?xg(V):Array.isArray(V)?V:[V]),G=this.getAlias(o);Array.isArray(G)?G.forEach(l):l(G);const g=[],S=V=>({...this._parsers.find(T=>T.test(V))?.parse(V),src:V});y.forEach(V=>{V.forEach(W=>{let T={};if(typeof W!="object"?T=S(W):(d=W.data??d,f=W.format??f,(W.loadParser||W.parser)&&(b=W.loadParser??b,p=W.parser??p),T={...S(W.src),...W}),!G)throw new Error(`[Resolver] alias is undefined for this asset: ${T.src}`);T=this._buildResolvedAsset(T,{aliases:G,data:d,format:f,loadParser:b,parser:p,progressSize:o.progressSize}),g.push(T)})}),G.forEach(V=>{this._assetMap[V]=g})})}resolveBundle(t){const n=gp(t);t=ms(t);const l={};return t.forEach(r=>{const o=this._bundles[r];if(o){const u=this.resolve(o),d={};for(const f in u){const b=u[f];d[this._extractAssetIdFromBundle(r,f)]=b}l[r]=d}}),n?l[t[0]]:l}resolveUrl(t){const n=this.resolve(t);if(typeof t!="string"){const l={};for(const r in n)l[r]=n[r].src;return l}return n.src}resolve(t){const n=gp(t);t=ms(t);const l={};return t.forEach(r=>{if(!this._resolverHash[r])if(this._assetMap[r]){let o=this._assetMap[r];const u=this._getPreferredOrder(o);u?.priority.forEach(d=>{u.params[d].forEach(f=>{const b=o.filter(p=>p[d]?p[d]===f:!1);b.length&&(o=b)})}),this._resolverHash[r]=o[0]}else this._resolverHash[r]=this._buildResolvedAsset({alias:[r],src:r},{});l[r]=this._resolverHash[r]}),n?l[t[0]]:l}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let n=0;n<t.length;n++){const l=t[n],r=this._preferredOrder.find(o=>o.params.format.includes(l.format));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const n=/\?/.test(t)?"&":"?";return`${t}${n}${this._defaultSearchParams}`}_buildResolvedAsset(t,n){const{aliases:l,data:r,loadParser:o,parser:u,format:d,progressSize:f}=n;return(this._basePath||this._rootPath)&&(t.src=ka.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=l??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...r||{},...t.data},t.loadParser=o??t.loadParser,t.parser=u??t.parser,t.format=d??t.format??gg(t.src),f!==void 0&&(t.progressSize=f),t}}rX.RETINA_PREFIX=/@([0-9\.]+)x/;function gg(s){return s.split(".").pop().split("?").shift().split("#").shift()}const Gp=(s,t)=>{const n=t.split("?")[1];return n&&(s+=`?${n}`),s},cX=class Ja{constructor(t,n){this.linkedSheets=[];let l=t;t?.source instanceof Fn&&(l={texture:t,data:n});const{texture:r,data:o,cachePrefix:u=""}=l;this.cachePrefix=u,this._texture=r instanceof Mt?r:null,this.textureSource=r.source,this.textures={},this.animations={},this.data=o;const d=parseFloat(o.meta.scale);d?(this.resolution=d,r.source.resolution=this.resolution):this.resolution=r.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Ja.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let n=t;const l=Ja.BATCH_SIZE;for(;n-t<l&&n<this._frameKeys.length;){const r=this._frameKeys[n],o=this._frames[r],u=o.frame;if(u){let d=null,f=null;const b=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,p=new me(0,0,Math.floor(b.w)/this.resolution,Math.floor(b.h)/this.resolution);o.rotated?d=new me(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.h)/this.resolution,Math.floor(u.w)/this.resolution):d=new me(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(f=new me(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution)),this.textures[r]=new Mt({source:this.textureSource,frame:d,orig:p,trim:f,rotate:o.rotated?2:0,defaultAnchor:o.anchor,defaultBorders:o.borders,label:r.toString()})}n++}}_processAnimations(){const t=this.data.animations||{};for(const n in t){this.animations[n]=[];for(let l=0;l<t[n].length;l++){const r=t[n][l];this.animations[n].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ja.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ja.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};cX.BATCH_SIZE=1e3;let Rp=cX;const Gg=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function oX(s,t,n){const l={};if(s.forEach(r=>{l[r]=t}),Object.keys(t.textures).forEach(r=>{l[`${t.cachePrefix}${r}`]=t.textures[r]}),!n){const r=ka.dirname(s[0]);t.linkedSheets.forEach((o,u)=>{const d=oX([`${r}/${t.data.meta.related_multi_packs[u]}`],o,!0);Object.assign(l,d)})}return l}const Rg={extension:Qt.Asset,cache:{test:s=>s instanceof Rp,getCacheableAssets:(s,t)=>oX(s,t,!1)},resolver:{extension:{type:Qt.ResolveParser,name:"resolveSpritesheet"},test:s=>{const n=s.split("?")[0].split("."),l=n.pop(),r=n.pop();return l==="json"&&Gg.includes(r)},parse:s=>{const t=s.split(".");return{resolution:parseFloat(rX.RETINA_PREFIX.exec(s)?.[1]??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:Qt.LoadParser,priority:sX.Normal,name:"spritesheetLoader"},async testParse(s,t){return ka.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,n){const{texture:l,imageFilename:r,textureOptions:o,cachePrefix:u}=t?.data??{};let d=ka.dirname(t.src);d&&d.lastIndexOf("/")!==d.length-1&&(d+="/");let f;if(l instanceof Mt)f=l;else{const y=Gp(d+(r??s.meta.image),t.src);f=(await n.load([{src:y,data:o}]))[y]}const b=new Rp({texture:f.source,data:s,cachePrefix:u});await b.parse();const p=s?.meta?.related_multi_packs;if(Array.isArray(p)){const y=[];for(const g of p){if(typeof g!="string")continue;let S=d+g;t.data?.ignoreMultiPack||(S=Gp(S,t.src),y.push(n.load({src:S,data:{textureOptions:o,ignoreMultiPack:!0}})))}const G=await Promise.all(y);b.linkedSheets=G,G.forEach(g=>{g.linkedSheets=[b].concat(b.linkedSheets.filter(S=>S!==g))})}return b},async unload(s,t,n){await n.unload(s.textureSource._sourceOrigin),s.destroy(!1)}}};Yn.add(Rg);const Td=Object.create(null),vp=Object.create(null);function Jh(s,t){let n=vp[s];return n===void 0&&(Td[t]===void 0&&(Td[t]=1),vp[s]=n=Td[t]++),n}let gc;function uX(){return(!gc||gc?.isContextLost())&&(gc=mn.get().createCanvas().getContext("webgl",{})),gc}let Gc;function vg(){if(!Gc){Gc="mediump";const s=uX();s&&s.getShaderPrecisionFormat&&(Gc=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision?"highp":"mediump")}return Gc}function Sg(s,t,n){return t?s:n?(s=s.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${s}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${s}
        `}function Vg(s,t,n){const l=n?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(s.substring(0,9)!=="precision"){let r=n?t.requestedFragmentPrecision:t.requestedVertexPrecision;return r==="highp"&&l!=="highp"&&(r="mediump"),`precision ${r} float;
${s}`}else if(l!=="highp"&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}function Wg(s,t){return t?`#version 300 es
${s}`:s}const Yg={},Cg={};function Jg(s,{name:t="pixi-program"},n=!0){t=t.replace(/\s+/g,"-"),t+=n?"-fragment":"-vertex";const l=n?Yg:Cg;return l[t]?(l[t]++,t+=`-${l[t]}`):l[t]=1,s.indexOf("#define SHADER_NAME")!==-1?s:`${`#define SHADER_NAME ${t}`}
${s}`}function Lg(s,t){return t?s.replace("#version 300 es",""):s}const Fd={stripVersion:Lg,ensurePrecision:Vg,addProgramDefines:Sg,setProgramName:Jg,insertVersion:Wg},ga=Object.create(null),dX=class ih{constructor(t){t={...ih.defaultOptions,...t};const n=t.fragment.indexOf("#version 300 es")!==-1,l={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:vg()},setProgramName:{name:t.name},addProgramDefines:n,insertVersion:n};let r=t.fragment,o=t.vertex;Object.keys(Fd).forEach(u=>{const d=l[u];r=Fd[u](r,d,!0),o=Fd[u](o,d,!1)}),this.fragment=r,this.vertex=o,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Jh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,ga[this._cacheKey]=null}static from(t){const n=`${t.vertex}:${t.fragment}`;return ga[n]||(ga[n]=new ih(t),ga[n]._cacheKey=n),ga[n]}};dX.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let hX=dX;const Sp={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function Ng(s){return Sp[s]??Sp.float32}const wg={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function Hg({source:s,entryPoint:t}){const n={},l=s.indexOf(`fn ${t}`);if(l!==-1){const r=s.indexOf("->",l);if(r!==-1){const o=s.substring(l,r),u=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let d;for(;(d=u.exec(o))!==null;){const f=wg[d[3]]??"float32";n[d[2]]={location:parseInt(d[1],10),format:f,stride:Ng(f).stride,offset:0,instance:!1,start:0}}}}return n}function _d(s){const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,l=/@binding\((\d+)\)/,r=/var(<[^>]+>)? (\w+)/,o=/:\s*(\w+)/,u=/struct\s+(\w+)\s*{([^}]+)}/g,d=/(\w+)\s*:\s*([\w\<\>]+)/g,f=/struct\s+(\w+)/,b=s.match(t)?.map(y=>({group:parseInt(y.match(n)[1],10),binding:parseInt(y.match(l)[1],10),name:y.match(r)[2],isUniform:y.match(r)[1]==="<uniform>",type:y.match(o)[1]}));if(!b)return{groups:[],structs:[]};const p=s.match(u)?.map(y=>{const G=y.match(f)[1],g=y.match(d).reduce((S,V)=>{const[W,T]=V.split(":");return S[W.trim()]=T.trim(),S},{});return g?{name:G,members:g}:null}).filter(({name:y})=>b.some(G=>G.type===y))??[];return{groups:b,structs:p}}var La=(s=>(s[s.VERTEX=1]="VERTEX",s[s.FRAGMENT=2]="FRAGMENT",s[s.COMPUTE=4]="COMPUTE",s))(La||{});function Tg({groups:s}){const t=[];for(let n=0;n<s.length;n++){const l=s[n];t[l.group]||(t[l.group]=[]),l.isUniform?t[l.group].push({binding:l.binding,visibility:La.VERTEX|La.FRAGMENT,buffer:{type:"uniform"}}):l.type==="sampler"?t[l.group].push({binding:l.binding,visibility:La.FRAGMENT,sampler:{type:"filtering"}}):l.type==="texture_2d"&&t[l.group].push({binding:l.binding,visibility:La.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function Fg({groups:s}){const t=[];for(let n=0;n<s.length;n++){const l=s[n];t[l.group]||(t[l.group]={}),t[l.group][l.name]=l.binding}return t}function _g(s,t){const n=new Set,l=new Set,r=[...s.structs,...t.structs].filter(u=>n.has(u.name)?!1:(n.add(u.name),!0)),o=[...s.groups,...t.groups].filter(u=>{const d=`${u.name}-${u.binding}`;return l.has(d)?!1:(l.add(d),!0)});return{structs:r,groups:o}}const Ga=Object.create(null);class $c{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:l,layout:r,gpuLayout:o,name:u}=t;if(this.name=u,this.fragment=n,this.vertex=l,n.source===l.source){const d=_d(n.source);this.structsAndGroups=d}else{const d=_d(l.source),f=_d(n.source);this.structsAndGroups=_g(d,f)}this.layout=r??Fg(this.structsAndGroups),this.gpuLayout=o??Tg(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:n}=this,l=t.source+n.source+t.entryPoint+n.entryPoint;this._layoutKey=Jh(l,"program")}get attributeData(){return this._attributeData??(this._attributeData=Hg(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,Ga[this._cacheKey]=null}static from(t){const n=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Ga[n]||(Ga[n]=new $c(t),Ga[n]._cacheKey=n),Ga[n]}}const fX=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],zg=fX.reduce((s,t)=>(s[t]=!0,s),{});function Bg(s,t){switch(s){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const mX=class bX{constructor(t,n){this._touched=0,this.uid=ue("uniform"),this._resourceType="uniformGroup",this._resourceId=ue("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...bX.defaultOptions,...n},this.uniformStructures=t;const l={};for(const r in t){const o=t[r];if(o.name=r,o.size=o.size??1,!zg[o.type]){const u=o.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(u){const[,d,f]=u;throw new Error(`Uniform type ${o.type} is not supported. Use type: '${d}', size: ${f} instead.`)}throw new Error(`Uniform type ${o.type} is not supported. Supported uniform types are: ${fX.join(", ")}`)}o.value??(o.value=Bg(o.type,o.size)),l[r]=o.value}this.uniforms=l,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=Jh(Object.keys(l).map(r=>`${r}-${t[r].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};mX.defaultOptions={ubo:!1,isStatic:!1};let pX=mX;class Jc{constructor(t){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const l in t){const r=t[l];this.setResource(r,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let n=0;for(const l in this.resources)t[n++]=this.resources[l]._resourceId;this._key=t.join("|")}setResource(t,n){const l=this.resources[n];t!==l&&(l&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[n]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t,n){const l=this.resources;for(const r in l)l[r]._gcLastUsed=t,l[r]._touched=n}destroy(){const t=this.resources;for(const n in t)t[n]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const n=this.resources;for(const l in n)n[l]===t&&(n[l]=null)}else this._updateKey()}}var lh=(s=>(s[s.WEBGL=1]="WEBGL",s[s.WEBGPU=2]="WEBGPU",s[s.BOTH=3]="BOTH",s))(lh||{});class Lh extends jn{constructor(t){super(),this.uid=ue("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:n,glProgram:l,groups:r,resources:o,compatibleRenderers:u,groupMap:d}=t;this.gpuProgram=n,this.glProgram=l,u===void 0&&(u=0,n&&(u|=lh.WEBGPU),l&&(u|=lh.WEBGL)),this.compatibleRenderers=u;const f={};if(!o&&!r&&(o={}),o&&r)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&r&&!d)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&r&&d)for(const b in d)for(const p in d[b]){const y=d[b][p];f[y]={group:b,binding:p,name:y}}else if(n&&r&&!d){const b=n.structsAndGroups.groups;d={},b.forEach(p=>{d[p.group]=d[p.group]||{},d[p.group][p.binding]=p.name,f[p.name]=p})}else if(o){r={},d={},n&&n.structsAndGroups.groups.forEach(y=>{d[y.group]=d[y.group]||{},d[y.group][y.binding]=y.name,f[y.name]=y});let b=0;for(const p in o)f[p]||(r[99]||(r[99]=new Jc,this._ownedBindGroups.push(r[99])),f[p]={group:99,binding:b,name:p},d[99]=d[99]||{},d[99][b]=p,b++);for(const p in o){const y=p;let G=o[p];!G.source&&!G._resourceType&&(G=new pX(G));const g=f[y];g&&(r[g.group]||(r[g.group]=new Jc,this._ownedBindGroups.push(r[g.group])),r[g.group].setResource(G,g.binding))}}this.groups=r,this._uniformBindMap=d,this.resources=this._buildResourceAccessor(r,f)}addResource(t,n,l){var r,o;(r=this._uniformBindMap)[n]||(r[n]={}),(o=this._uniformBindMap[n])[l]||(o[l]=t),this.groups[n]||(this.groups[n]=new Jc,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(t,n){const l={};for(const r in n){const o=n[r];Object.defineProperty(l,o.name,{get(){return t[o.group].getResource(o.binding)},set(u){t[o.group].setResource(u,o.binding)}})}return l}destroy(t=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(n=>{n.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(t){const{gpu:n,gl:l,...r}=t;let o,u;return n&&(o=$c.from(n)),l&&(u=hX.from(l)),new Lh({gpuProgram:o,glProgram:u,...r})}}const sh=[];Yn.handleByNamedList(Qt.Environment,sh);async function Eg(s){if(!s)for(let t=0;t<sh.length;t++){const n=sh[t];if(n.value.test()){await n.value.load();return}}}let Ra;function kg(){if(typeof Ra=="boolean")return Ra;try{Ra=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ra=!1}return Ra}function Vp(s,t,n=2){const l=t&&t.length,r=l?t[0]*n:s.length;let o=yX(s,0,r,n,!0);const u=[];if(!o||o.next===o.prev)return u;let d,f,b;if(l&&(o=jg(s,t,o,n)),s.length>80*n){d=s[0],f=s[1];let p=d,y=f;for(let G=n;G<r;G+=n){const g=s[G],S=s[G+1];g<d&&(d=g),S<f&&(f=S),g>p&&(p=g),S>y&&(y=S)}b=Math.max(p-d,y-f),b=b!==0?32767/b:0}return Ua(o,u,n,d,f,b,0),u}function yX(s,t,n,l,r){let o;if(r===iG(s,t,n,l)>0)for(let u=t;u<n;u+=l)o=Wp(u/l|0,s[u],s[u+1],o);else for(let u=n-l;u>=t;u-=l)o=Wp(u/l|0,s[u],s[u+1],o);return o&&vs(o,o.next)&&(Ka(o),o=o.next),o}function gl(s,t){if(!s)return s;t||(t=s);let n=s,l;do if(l=!1,!n.steiner&&(vs(n,n.next)||le(n.prev,n,n.next)===0)){if(Ka(n),n=t=n.prev,n===n.next)break;l=!0}else n=n.next;while(l||n!==t);return t}function Ua(s,t,n,l,r,o,u){if(!s)return;!u&&o&&Og(s,l,r,o);let d=s;for(;s.prev!==s.next;){const f=s.prev,b=s.next;if(o?Mg(s,l,r,o):Ug(s)){t.push(f.i,s.i,b.i),Ka(s),s=b.next,d=b.next;continue}if(s=b,s===d){u?u===1?(s=Kg(gl(s),t),Ua(s,t,n,l,r,o,2)):u===2&&Pg(s,t,n,l,r,o):Ua(gl(s),t,n,l,r,o,1);break}}}function Ug(s){const t=s.prev,n=s,l=s.next;if(le(t,n,l)>=0)return!1;const r=t.x,o=n.x,u=l.x,d=t.y,f=n.y,b=l.y,p=Math.min(r,o,u),y=Math.min(d,f,b),G=Math.max(r,o,u),g=Math.max(d,f,b);let S=l.next;for(;S!==t;){if(S.x>=p&&S.x<=G&&S.y>=y&&S.y<=g&&Na(r,d,o,f,u,b,S.x,S.y)&&le(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function Mg(s,t,n,l){const r=s.prev,o=s,u=s.next;if(le(r,o,u)>=0)return!1;const d=r.x,f=o.x,b=u.x,p=r.y,y=o.y,G=u.y,g=Math.min(d,f,b),S=Math.min(p,y,G),V=Math.max(d,f,b),W=Math.max(p,y,G),T=ah(g,S,t,n,l),E=ah(V,W,t,n,l);let F=s.prevZ,M=s.nextZ;for(;F&&F.z>=T&&M&&M.z<=E;){if(F.x>=g&&F.x<=V&&F.y>=S&&F.y<=W&&F!==r&&F!==u&&Na(d,p,f,y,b,G,F.x,F.y)&&le(F.prev,F,F.next)>=0||(F=F.prevZ,M.x>=g&&M.x<=V&&M.y>=S&&M.y<=W&&M!==r&&M!==u&&Na(d,p,f,y,b,G,M.x,M.y)&&le(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;F&&F.z>=T;){if(F.x>=g&&F.x<=V&&F.y>=S&&F.y<=W&&F!==r&&F!==u&&Na(d,p,f,y,b,G,F.x,F.y)&&le(F.prev,F,F.next)>=0)return!1;F=F.prevZ}for(;M&&M.z<=E;){if(M.x>=g&&M.x<=V&&M.y>=S&&M.y<=W&&M!==r&&M!==u&&Na(d,p,f,y,b,G,M.x,M.y)&&le(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function Kg(s,t){let n=s;do{const l=n.prev,r=n.next.next;!vs(l,r)&&ZX(l,n,n.next,r)&&Ma(l,r)&&Ma(r,l)&&(t.push(l.i,n.i,r.i),Ka(n),Ka(n.next),n=s=r),n=n.next}while(n!==s);return gl(n)}function Pg(s,t,n,l,r,o){let u=s;do{let d=u.next.next;for(;d!==u.prev;){if(u.i!==d.i&&tG(u,d)){let f=xX(u,d);u=gl(u,u.next),f=gl(f,f.next),Ua(u,t,n,l,r,o,0),Ua(f,t,n,l,r,o,0);return}d=d.next}u=u.next}while(u!==s)}function jg(s,t,n,l){const r=[];for(let o=0,u=t.length;o<u;o++){const d=t[o]*l,f=o<u-1?t[o+1]*l:s.length,b=yX(s,d,f,l,!1);b===b.next&&(b.steiner=!0),r.push($g(b))}r.sort(Qg);for(let o=0;o<r.length;o++)n=Ig(r[o],n);return n}function Qg(s,t){let n=s.x-t.x;if(n===0&&(n=s.y-t.y,n===0)){const l=(s.next.y-s.y)/(s.next.x-s.x),r=(t.next.y-t.y)/(t.next.x-t.x);n=l-r}return n}function Ig(s,t){const n=Ag(s,t);if(!n)return t;const l=xX(n,s);return gl(l,l.next),gl(n,n.next)}function Ag(s,t){let n=t;const l=s.x,r=s.y;let o=-1/0,u;if(vs(s,n))return n;do{if(vs(s,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const y=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(y<=l&&y>o&&(o=y,u=n.x<n.next.x?n:n.next,y===l))return u}n=n.next}while(n!==t);if(!u)return null;const d=u,f=u.x,b=u.y;let p=1/0;n=u;do{if(l>=n.x&&n.x>=f&&l!==n.x&&XX(r<b?l:o,r,f,b,r<b?o:l,r,n.x,n.y)){const y=Math.abs(r-n.y)/(l-n.x);Ma(n,s)&&(y<p||y===p&&(n.x>u.x||n.x===u.x&&Dg(u,n)))&&(u=n,p=y)}n=n.next}while(n!==d);return u}function Dg(s,t){return le(s.prev,s,t.prev)<0&&le(t.next,s,s.next)<0}function Og(s,t,n,l){let r=s;do r.z===0&&(r.z=ah(r.x,r.y,t,n,l)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==s);r.prevZ.nextZ=null,r.prevZ=null,qg(r)}function qg(s){let t,n=1;do{let l=s,r;s=null;let o=null;for(t=0;l;){t++;let u=l,d=0;for(let b=0;b<n&&(d++,u=u.nextZ,!!u);b++);let f=n;for(;d>0||f>0&&u;)d!==0&&(f===0||!u||l.z<=u.z)?(r=l,l=l.nextZ,d--):(r=u,u=u.nextZ,f--),o?o.nextZ=r:s=r,r.prevZ=o,o=r;l=u}o.nextZ=null,n*=2}while(t>1);return s}function ah(s,t,n,l,r){return s=(s-n)*r|0,t=(t-l)*r|0,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,s|t<<1}function $g(s){let t=s,n=s;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==s);return n}function XX(s,t,n,l,r,o,u,d){return(r-u)*(t-d)>=(s-u)*(o-d)&&(s-u)*(l-d)>=(n-u)*(t-d)&&(n-u)*(o-d)>=(r-u)*(l-d)}function Na(s,t,n,l,r,o,u,d){return!(s===u&&t===d)&&XX(s,t,n,l,r,o,u,d)}function tG(s,t){return s.next.i!==t.i&&s.prev.i!==t.i&&!eG(s,t)&&(Ma(s,t)&&Ma(t,s)&&nG(s,t)&&(le(s.prev,s,t.prev)||le(s,t.prev,t))||vs(s,t)&&le(s.prev,s,s.next)>0&&le(t.prev,t,t.next)>0)}function le(s,t,n){return(t.y-s.y)*(n.x-t.x)-(t.x-s.x)*(n.y-t.y)}function vs(s,t){return s.x===t.x&&s.y===t.y}function ZX(s,t,n,l){const r=vc(le(s,t,n)),o=vc(le(s,t,l)),u=vc(le(n,l,s)),d=vc(le(n,l,t));return!!(r!==o&&u!==d||r===0&&Rc(s,n,t)||o===0&&Rc(s,l,t)||u===0&&Rc(n,s,l)||d===0&&Rc(n,t,l))}function Rc(s,t,n){return t.x<=Math.max(s.x,n.x)&&t.x>=Math.min(s.x,n.x)&&t.y<=Math.max(s.y,n.y)&&t.y>=Math.min(s.y,n.y)}function vc(s){return s>0?1:s<0?-1:0}function eG(s,t){let n=s;do{if(n.i!==s.i&&n.next.i!==s.i&&n.i!==t.i&&n.next.i!==t.i&&ZX(n,n.next,s,t))return!0;n=n.next}while(n!==s);return!1}function Ma(s,t){return le(s.prev,s,s.next)<0?le(s,t,s.next)>=0&&le(s,s.prev,t)>=0:le(s,t,s.prev)<0||le(s,s.next,t)<0}function nG(s,t){let n=s,l=!1;const r=(s.x+t.x)/2,o=(s.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(l=!l),n=n.next;while(n!==s);return l}function xX(s,t){const n=rh(s.i,s.x,s.y),l=rh(t.i,t.x,t.y),r=s.next,o=t.prev;return s.next=t,t.prev=s,n.next=r,r.prev=n,l.next=n,n.prev=l,o.next=l,l.prev=o,l}function Wp(s,t,n,l){const r=rh(s,t,n);return l?(r.next=l.next,r.prev=l,l.next.prev=r,l.next=r):(r.prev=r,r.next=r),r}function Ka(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function rh(s,t,n){return{i:s,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function iG(s,t,n,l){let r=0;for(let o=t,u=n-l;o<n;o+=l)r+=(s[u]-s[o])*(s[o+1]+s[u+1]),u=o;return r}const lG=Vp.default||Vp;var gX=(s=>(s[s.NONE=0]="NONE",s[s.COLOR=16384]="COLOR",s[s.STENCIL=1024]="STENCIL",s[s.DEPTH=256]="DEPTH",s[s.COLOR_DEPTH=16640]="COLOR_DEPTH",s[s.COLOR_STENCIL=17408]="COLOR_STENCIL",s[s.DEPTH_STENCIL=1280]="DEPTH_STENCIL",s[s.ALL=17664]="ALL",s))(gX||{});class sG{constructor(t){this.items=[],this._name=t}emit(t,n,l,r,o,u,d,f){const{name:b,items:p}=this;for(let y=0,G=p.length;y<G;y++)p[y][b](t,n,l,r,o,u,d,f);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const n=this.items.indexOf(t);return n!==-1&&this.items.splice(n,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const aG=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],GX=class RX extends jn{constructor(t){super(),this.tick=0,this.uid=ue("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const n=[...aG,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(t={}){const n=t.skipExtensionImports===!0?!0:t.manageImports===!1;await Eg(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const l in this._systemsHash)t={...this._systemsHash[l].constructor.defaultOptions,...t};t={...RX.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let l=0;l<this.runners.init.items.length;l++)await this.runners.init.items[l].init(t);this._initOptions=t}render(t,n){this.tick++;let l=t;if(l instanceof ge&&(l={container:l},n&&(Ut(oe,"passing a second argument is deprecated, please use render options instead"),l.target=n.renderTexture)),l.target||(l.target=this.view.renderTarget),l.target===this.view.renderTarget&&(this._lastObjectRendered=l.container,l.clearColor??(l.clearColor=this.background.colorRgba),l.clear??(l.clear=this.background.clearBeforeRender)),l.clearColor){const r=Array.isArray(l.clearColor)&&l.clearColor.length===4;l.clearColor=r?l.clearColor:Ge.shared.setValue(l.clearColor).toArray()}l.transform||(l.container.updateLocalTransform(),l.transform=l.container.localTransform),l.container.visible&&(l.container.enableRenderGroup(),this.runners.prerender.emit(l),this.runners.renderStart.emit(l),this.runners.render.emit(l),this.runners.renderEnd.emit(l),this.runners.postrender.emit(l))}resize(t,n,l){const r=this.view.resolution;this.view.resize(t,n,l),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),l!==void 0&&l!==r&&this.runners.resolutionChange.emit(l)}clear(t={}){const n=this;t.target||(t.target=n.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=gX.ALL);const{clear:l,clearColor:r,target:o}=t;Ge.shared.setValue(r??this.background.colorRgba),n.renderTarget.clear(o,l,Ge.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(n=>{this.runners[n]=new sG(n)})}_addSystems(t){let n;for(n in t){const l=t[n];this._addSystem(l.value,l.name)}}_addSystem(t,n){const l=new t(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=l,this._systemsHash[n]=l;for(const r in this.runners)this.runners[r].add(l);return this}_addPipes(t,n){const l=n.reduce((r,o)=>(r[o.name]=o.value,r),{});t.forEach(r=>{const o=r.value,u=r.name,d=l[u];this.renderPipes[u]=new o(this,d?new d:null),this.runners.destroy.add(this.renderPipes[u])})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),(t===!0||typeof t=="object"&&t.releaseGlobalResources)&&Aa.release(),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!kg())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};GX.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let vX=GX,Sc;function rG(s){return Sc!==void 0||(Sc=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:s??vX.defaultOptions.failIfMajorPerformanceCaveat};try{if(!mn.get().getWebGLRenderingContext())return!1;let l=mn.get().createCanvas().getContext("webgl",t);const r=!!l?.getContextAttributes()?.stencil;if(l){const o=l.getExtension("WEBGL_lose_context");o&&o.loseContext()}return l=null,r}catch{return!1}})()),Sc}let Vc;async function cG(s={}){return Vc!==void 0||(Vc=await(async()=>{const t=mn.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(s)).requestDevice(),!0}catch{return!1}})()),Vc}const Yp=["webgl","webgpu","canvas"];async function oG(s){let t=[];s.preference?(t.push(s.preference),Yp.forEach(o=>{o!==s.preference&&t.push(o)})):t=Yp.slice();let n,l={};for(let o=0;o<t.length;o++){const u=t[o];if(u==="webgpu"&&await cG()){const{WebGPURenderer:d}=await Zl(async()=>{const{WebGPURenderer:f}=await import("./WebGPURenderer-HHsrI85z.js");return{WebGPURenderer:f}},__vite__mapDeps([3,2,4]));n=d,l={...s,...s.webgpu};break}else if(u==="webgl"&&rG(s.failIfMajorPerformanceCaveat??vX.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:d}=await Zl(async()=>{const{WebGLRenderer:f}=await import("./WebGLRenderer-Cn9lR3F9.js");return{WebGLRenderer:f}},__vite__mapDeps([5,2,4]));n=d,l={...s,...s.webgl};break}else if(u==="canvas")throw l={...s},new Error("CanvasRenderer is not yet implemented")}if(delete l.webgpu,delete l.webgl,!n)throw new Error("No available renderer for the current environment");const r=new n;return await r.init(l),r}const SX="8.15.0";class VX{static init(){globalThis.__PIXI_APP_INIT__?.(this,SX)}static destroy(){}}VX.extension=Qt.Application;class uG{constructor(t){this._renderer=t}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,SX)}destroy(){this._renderer=null}}uG.extension={type:[Qt.WebGLSystem,Qt.WebGPUSystem],name:"initHook",priority:-10};const WX=class ch{constructor(...t){this.stage=new ge,t[0]!==void 0&&Ut(oe,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.stage||(this.stage=new ge),this.renderer=await oG(t),ch._plugins.forEach(n=>{n.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Ut(oe,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,n=!1){const l=ch._plugins.slice(0);l.reverse(),l.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}};WX._plugins=[];let YX=WX;Yn.handleByList(Qt.Application,YX._plugins);Yn.add(VX);class dG{constructor(t=0,n=0,l=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=t,this.resetTtl=l,this.size=0,this.ttl=n}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(t){if(this.has(t)){const n=this.items[t];delete this.items[t],this.size--,n.prev!==null&&(n.prev.next=n.next),n.next!==null&&(n.next.prev=n.prev),this.first===n&&(this.first=n.next),this.last===n&&(this.last=n.prev)}return this}entries(t=this.keys()){const n=new Array(t.length);for(let l=0;l<t.length;l++){const r=t[l];n[l]=[r,this.get(r)]}return n}evict(t=!1){if(t||this.size>0){const n=this.first;delete this.items[n.key],--this.size===0?(this.first=null,this.last=null):(this.first=n.next,this.first.prev=null)}return this}expiresAt(t){let n;return this.has(t)&&(n=this.items[t].expiry),n}get(t){const n=this.items[t];if(n!==void 0){if(this.ttl>0&&n.expiry<=Date.now()){this.delete(t);return}return this.moveToEnd(n),n.value}}has(t){return t in this.items}moveToEnd(t){this.last!==t&&(t.prev!==null&&(t.prev.next=t.next),t.next!==null&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),t.prev=this.last,t.next=null,this.last!==null&&(this.last.next=t),this.last=t,this.first===null&&(this.first=t))}keys(){const t=new Array(this.size);let n=this.first,l=0;for(;n!==null;)t[l++]=n.key,n=n.next;return t}setWithEvicted(t,n,l=this.resetTtl){let r=null;if(this.has(t))this.set(t,n,!0,l);else{this.max>0&&this.size===this.max&&(r={...this.first},this.evict(!0));let o=this.items[t]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:n};++this.size===1?this.first=o:this.last.next=o,this.last=o}return r}set(t,n,l=!1,r=this.resetTtl){let o=this.items[t];return l||o!==void 0?(o.value=n,l===!1&&r&&(o.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(o)):(this.max>0&&this.size===this.max&&this.evict(!0),o=this.items[t]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:n},++this.size===1?this.first=o:this.last.next=o,this.last=o),this}values(t=this.keys()){const n=new Array(t.length);for(let l=0;l<t.length;l++)n[l]=this.get(t[l]);return n}}function hG(s=1e3,t=0,n=!1){if(isNaN(s)||s<0)throw new TypeError("Invalid max value");if(isNaN(t)||t<0)throw new TypeError("Invalid ttl value");if(typeof n!="boolean")throw new TypeError("Invalid resetTtl value");return new dG(s,t,n)}const fG=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function CX(s){const t=typeof s.fontSize=="number"?`${s.fontSize}px`:s.fontSize;let n=s.fontFamily;Array.isArray(s.fontFamily)||(n=s.fontFamily.split(","));for(let l=n.length-1;l>=0;l--){let r=n[l].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!fG.includes(r)&&(r=`"${r}"`),n[l]=r}return`${s.fontStyle} ${s.fontVariant} ${s.fontWeight} ${t} ${n.join(",")}`}const zd={willReadFrequently:!0},_n=class Zt{static get experimentalLetterSpacingSupported(){let t=Zt._experimentalLetterSpacingSupported;if(t===void 0){const n=mn.get().getCanvasRenderingContext2D().prototype;t=Zt._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}constructor(t,n,l,r,o,u,d,f,b){this.text=t,this.style=n,this.width=l,this.height=r,this.lines=o,this.lineWidths=u,this.lineHeight=d,this.maxLineWidth=f,this.fontProperties=b}static measureText(t=" ",n,l=Zt._canvas,r=n.wordWrap){const o=`${t}-${n.styleKey}-wordWrap-${r}`;if(Zt._measurementCache.has(o))return Zt._measurementCache.get(o);const u=CX(n),d=Zt.measureFont(u);d.fontSize===0&&(d.fontSize=n.fontSize,d.ascent=n.fontSize);const f=Zt.__context;f.font=u;const p=(r?Zt._wordWrap(t,n,l):t).split(/(?:\r\n|\r|\n)/),y=new Array(p.length);let G=0;for(let E=0;E<p.length;E++){const F=Zt._measureText(p[E],n.letterSpacing,f);y[E]=F,G=Math.max(G,F)}const g=n._stroke?.width||0;let S=G+g;n.dropShadow&&(S+=n.dropShadow.distance);const V=n.lineHeight||d.fontSize;let W=Math.max(V,d.fontSize+g)+(p.length-1)*(V+n.leading);n.dropShadow&&(W+=n.dropShadow.distance);const T=new Zt(t,n,S,W,p,y,V+n.leading,G,d);return Zt._measurementCache.set(o,T),T}static _measureText(t,n,l){let r=!1;Zt.experimentalLetterSpacingSupported&&(Zt.experimentalLetterSpacing?(l.letterSpacing=`${n}px`,l.textLetterSpacing=`${n}px`,r=!0):(l.letterSpacing="0px",l.textLetterSpacing="0px"));const o=l.measureText(t);let u=o.width;const d=-o.actualBoundingBoxLeft;let b=o.actualBoundingBoxRight-d;if(u>0)if(r)u-=n,b-=n;else{const p=(Zt.graphemeSegmenter(t).length-1)*n;u+=p,b+=p}return Math.max(u,b)}static _wordWrap(t,n,l=Zt._canvas){const r=l.getContext("2d",zd);let o=0,u="",d="";const f=Object.create(null),{letterSpacing:b,whiteSpace:p}=n,y=Zt._collapseSpaces(p),G=Zt._collapseNewlines(p);let g=!y;const S=n.wordWrapWidth+b,V=Zt._tokenize(t);for(let W=0;W<V.length;W++){let T=V[W];if(Zt._isNewline(T)){if(!G){d+=Zt._addLine(u),g=!y,u="",o=0;continue}T=" "}if(y){const F=Zt.isBreakingSpace(T),M=Zt.isBreakingSpace(u[u.length-1]);if(F&&M)continue}const E=Zt._getFromCache(T,b,f,r);if(E>S)if(u!==""&&(d+=Zt._addLine(u),u="",o=0),Zt.canBreakWords(T,n.breakWords)){const F=Zt.wordWrapSplit(T);for(let M=0;M<F.length;M++){let N=F[M],_=N,H=1;for(;F[M+H];){const ot=F[M+H];if(!Zt.canBreakChars(_,ot,T,M,n.breakWords))N+=ot;else break;_=ot,H++}M+=H-1;const ut=Zt._getFromCache(N,b,f,r);ut+o>S&&(d+=Zt._addLine(u),g=!1,u="",o=0),u+=N,o+=ut}}else{u.length>0&&(d+=Zt._addLine(u),u="",o=0);const F=W===V.length-1;d+=Zt._addLine(T,!F),g=!1,u="",o=0}else E+o>S&&(g=!1,d+=Zt._addLine(u),u="",o=0),(u.length>0||!Zt.isBreakingSpace(T)||g)&&(u+=T,o+=E)}return d+=Zt._addLine(u,!1),d}static _addLine(t,n=!0){return t=Zt._trimRight(t),t=n?`${t}
`:t,t}static _getFromCache(t,n,l,r){let o=l[t];return typeof o!="number"&&(o=Zt._measureText(t,n,r)+n,l[t]=o),o}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let n=t.length-1;n>=0;n--){const l=t[n];if(!Zt.isBreakingSpace(l))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:Zt._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,n){return typeof t!="string"?!1:Zt._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const n=[];let l="";if(typeof t!="string")return n;for(let r=0;r<t.length;r++){const o=t[r],u=t[r+1];if(Zt.isBreakingSpace(o,u)||Zt._isNewline(o)){l!==""&&(n.push(l),l=""),o==="\r"&&u===`
`?(n.push(`\r
`),r++):n.push(o);continue}l+=o}return l!==""&&n.push(l),n}static canBreakWords(t,n){return n}static canBreakChars(t,n,l,r,o){return!0}static wordWrapSplit(t){return Zt.graphemeSegmenter(t)}static measureFont(t){if(Zt._fonts[t])return Zt._fonts[t];const n=Zt._context;n.font=t;const l=n.measureText(Zt.METRICS_STRING+Zt.BASELINE_SYMBOL),r={ascent:l.actualBoundingBoxAscent,descent:l.actualBoundingBoxDescent,fontSize:l.actualBoundingBoxAscent+l.actualBoundingBoxDescent};return Zt._fonts[t]=r,r}static clearMetrics(t=""){t?delete Zt._fonts[t]:Zt._fonts={}}static get _canvas(){if(!Zt.__canvas){let t;try{const n=new OffscreenCanvas(0,0);if(n.getContext("2d",zd)?.measureText)return Zt.__canvas=n,n;t=mn.get().createCanvas()}catch{t=mn.get().createCanvas()}t.width=t.height=10,Zt.__canvas=t}return Zt.__canvas}static get _context(){return Zt.__context||(Zt.__context=Zt._canvas.getContext("2d",zd)),Zt.__context}};_n.METRICS_STRING="|q";_n.BASELINE_SYMBOL="M";_n.BASELINE_MULTIPLIER=1.4;_n.HEIGHT_MULTIPLIER=2;_n.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const s=new Intl.Segmenter;return t=>{const n=s.segment(t),l=[];let r=0;for(const o of n)l[r++]=o.segment;return l}}return s=>[...s]})();_n.experimentalLetterSpacing=!1;_n._fonts={};_n._newlines=[10,13];_n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];_n._measurementCache=hG(1e3);let ps=_n;const Cp=[{offset:0,color:"white"},{offset:1,color:"black"}],Nh=class oh{constructor(...t){this.uid=ue("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let n=mG(t);n={...n.type==="radial"?oh.defaultRadialOptions:oh.defaultLinearOptions,...wy(n)},this._textureSize=n.textureSize,this._wrapMode=n.wrapMode,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(r=>{this.addColorStop(r.offset,r.color)})}addColorStop(t,n){return this.colorStops.push({offset:t,color:Ge.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:n}=this.start,{x:l,y:r}=this.end,o=l-t,u=r-n;const d=o<0||u<0;if(this._wrapMode==="clamp-to-edge"){if(o<0){const W=t;t=l,l=W,o*=-1}if(u<0){const W=n;n=r,r=W,u*=-1}}const f=this.colorStops.length?this.colorStops:Cp,b=this._textureSize,{canvas:p,context:y}=Lp(b,1),G=d?y.createLinearGradient(this._textureSize,0,0,0):y.createLinearGradient(0,0,this._textureSize,0);Jp(G,f),y.fillStyle=G,y.fillRect(0,0,b,1),this.texture=new Mt({source:new Mc({resource:p,addressMode:this._wrapMode})});const g=Math.sqrt(o*o+u*u),S=Math.atan2(u,o),V=new Ht;V.scale(g/b,1),V.rotate(S),V.translate(t,n),this.textureSpace==="local"&&V.scale(b,b),this.transform=V}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Cp,n=this._textureSize,{canvas:l,context:r}=Lp(n,n),{x:o,y:u}=this.center,{x:d,y:f}=this.outerCenter,b=this.innerRadius,p=this.outerRadius,y=d-p,G=f-p,g=n/(p*2),S=(o-y)*g,V=(u-G)*g,W=r.createRadialGradient(S,V,b*g,(d-y)*g,(f-G)*g,p*g);Jp(W,t),r.fillStyle=t[t.length-1].color,r.fillRect(0,0,n,n),r.fillStyle=W,r.translate(S,V),r.rotate(this.rotation),r.scale(1,this.scale),r.translate(-S,-V),r.fillRect(0,0,n,n),this.texture=new Mt({source:new Mc({resource:l,addressMode:this._wrapMode})});const T=new Ht;T.scale(1/g,1/g),T.translate(y,G),this.textureSpace==="local"&&T.scale(n,n),this.transform=T}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};Nh.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};Nh.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let bi=Nh;function Jp(s,t){for(let n=0;n<t.length;n++){const l=t[n];s.addColorStop(l.offset,l.color)}}function Lp(s,t){const n=mn.get().createCanvas(s,t),l=n.getContext("2d");return{canvas:n,context:l}}function mG(s){let t=s[0]??{};return(typeof t=="number"||s[1])&&(Ut("8.5.2","use options object instead"),t={type:"linear",start:{x:s[0],y:s[1]},end:{x:s[2],y:s[3]},textureSpace:s[4],textureSize:s[5]??bi.defaultLinearOptions.textureSize}),t}const Np={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class to{constructor(t,n){this.uid=ue("fillPattern"),this._tick=0,this.transform=new Ht,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),n&&(t.source.style.addressModeU=Np[n].addressModeU,t.source.style.addressModeV=Np[n].addressModeV)}setTransform(t){const n=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._tick++}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture=t,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Bd,wp;function bG(){if(wp)return Bd;wp=1,Bd=n;var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(o){var u=[];return o.replace(t,function(d,f,b){var p=f.toLowerCase();for(b=r(b),p=="m"&&b.length>2&&(u.push([f].concat(b.splice(0,2))),p="l",f=f=="m"?"l":"L");;){if(b.length==s[p])return b.unshift(f),u.push(b);if(b.length<s[p])throw new Error("malformed path data");u.push([f].concat(b.splice(0,s[p])))}}),u}var l=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function r(o){var u=o.match(l);return u?u.map(Number):[]}return Bd}var pG=bG();const yG=Ia(pG);function XG(s,t){const n=yG(s),l=[];let r=null,o=0,u=0;for(let d=0;d<n.length;d++){const f=n[d],b=f[0],p=f;switch(b){case"M":o=p[1],u=p[2],t.moveTo(o,u);break;case"m":o+=p[1],u+=p[2],t.moveTo(o,u);break;case"H":o=p[1],t.lineTo(o,u);break;case"h":o+=p[1],t.lineTo(o,u);break;case"V":u=p[1],t.lineTo(o,u);break;case"v":u+=p[1],t.lineTo(o,u);break;case"L":o=p[1],u=p[2],t.lineTo(o,u);break;case"l":o+=p[1],u+=p[2],t.lineTo(o,u);break;case"C":o=p[5],u=p[6],t.bezierCurveTo(p[1],p[2],p[3],p[4],o,u);break;case"c":t.bezierCurveTo(o+p[1],u+p[2],o+p[3],u+p[4],o+p[5],u+p[6]),o+=p[5],u+=p[6];break;case"S":o=p[3],u=p[4],t.bezierCurveToShort(p[1],p[2],o,u);break;case"s":t.bezierCurveToShort(o+p[1],u+p[2],o+p[3],u+p[4]),o+=p[3],u+=p[4];break;case"Q":o=p[3],u=p[4],t.quadraticCurveTo(p[1],p[2],o,u);break;case"q":t.quadraticCurveTo(o+p[1],u+p[2],o+p[3],u+p[4]),o+=p[3],u+=p[4];break;case"T":o=p[1],u=p[2],t.quadraticCurveToShort(o,u);break;case"t":o+=p[1],u+=p[2],t.quadraticCurveToShort(o,u);break;case"A":o=p[6],u=p[7],t.arcToSvg(p[1],p[2],p[3],p[4],p[5],o,u);break;case"a":o+=p[6],u+=p[7],t.arcToSvg(p[1],p[2],p[3],p[4],p[5],o,u);break;case"Z":case"z":t.closePath(),l.length>0&&(r=l.pop(),r?(o=r.startX,u=r.startY):(o=0,u=0)),r=null;break;default:Pe(`Unknown SVG path command: ${b}`)}b!=="Z"&&b!=="z"&&r===null&&(r={startX:o,startY:u},l.push(r))}return t}class wh{constructor(t=0,n=0,l=0){this.type="circle",this.x=t,this.y=n,this.radius=l}clone(){return new wh(this.x,this.y,this.radius)}contains(t,n){if(this.radius<=0)return!1;const l=this.radius*this.radius;let r=this.x-t,o=this.y-n;return r*=r,o*=o,r+o<=l}strokeContains(t,n,l,r=.5){if(this.radius===0)return!1;const o=this.x-t,u=this.y-n,d=this.radius,f=(1-r)*l,b=Math.sqrt(o*o+u*u);return b<=d+f&&b>d-(l-f)}getBounds(t){return t||(t=new me),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Hh{constructor(t=0,n=0,l=0,r=0){this.type="ellipse",this.x=t,this.y=n,this.halfWidth=l,this.halfHeight=r}clone(){return new Hh(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let l=(t-this.x)/this.halfWidth,r=(n-this.y)/this.halfHeight;return l*=l,r*=r,l+r<=1}strokeContains(t,n,l,r=.5){const{halfWidth:o,halfHeight:u}=this;if(o<=0||u<=0)return!1;const d=l*(1-r),f=l-d,b=o-f,p=u-f,y=o+d,G=u+d,g=t-this.x,S=n-this.y,V=g*g/(b*b)+S*S/(p*p),W=g*g/(y*y)+S*S/(G*G);return V>1&&W<=1}getBounds(t){return t||(t=new me),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function ZG(s,t,n,l,r,o){const u=s-n,d=t-l,f=r-n,b=o-l,p=u*f+d*b,y=f*f+b*b;let G=-1;y!==0&&(G=p/y);let g,S;G<0?(g=n,S=l):G>1?(g=r,S=o):(g=n+G*f,S=l+G*b);const V=s-g,W=t-S;return V*V+W*W}let xG,gG;class Fa{constructor(...t){this.type="polygon";let n=Array.isArray(t[0])?t[0]:t;if(typeof n[0]!="number"){const l=[];for(let r=0,o=n.length;r<o;r++)l.push(n[r].x,n[r].y);n=l}this.points=n,this.closePath=!0}isClockwise(){let t=0;const n=this.points,l=n.length;for(let r=0;r<l;r+=2){const o=n[r],u=n[r+1],d=n[(r+2)%l],f=n[(r+3)%l];t+=(d-o)*(f+u)}return t<0}containsPolygon(t){const n=this.getBounds(xG),l=t.getBounds(gG);if(!n.containsRect(l))return!1;const r=t.points;for(let o=0;o<r.length;o+=2){const u=r[o],d=r[o+1];if(!this.contains(u,d))return!1}return!0}clone(){const t=this.points.slice(),n=new Fa(t);return n.closePath=this.closePath,n}contains(t,n){let l=!1;const r=this.points.length/2;for(let o=0,u=r-1;o<r;u=o++){const d=this.points[o*2],f=this.points[o*2+1],b=this.points[u*2],p=this.points[u*2+1];f>n!=p>n&&t<(b-d)*((n-f)/(p-f))+d&&(l=!l)}return l}strokeContains(t,n,l,r=.5){const o=l*l,u=o*(1-r),d=o-u,{points:f}=this,b=f.length-(this.closePath?0:2);for(let p=0;p<b;p+=2){const y=f[p],G=f[p+1],g=f[(p+2)%f.length],S=f[(p+3)%f.length],V=ZG(t,n,y,G,g,S),W=Math.sign((g-y)*(n-G)-(S-G)*(t-y));if(V<=(W<0?d:u))return!0}return!1}getBounds(t){t||(t=new me);const n=this.points;let l=1/0,r=-1/0,o=1/0,u=-1/0;for(let d=0,f=n.length;d<f;d+=2){const b=n[d],p=n[d+1];l=b<l?b:l,r=b>r?b:r,o=p<o?p:o,u=p>u?p:u}return t.x=l,t.width=r-l,t.y=o,t.height=u-o,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,n)=>`${t}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Ut("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Ut("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const Wc=(s,t,n,l,r,o,u)=>{const d=s-n,f=t-l,b=Math.sqrt(d*d+f*f);return b>=r-o&&b<=r+u};class Th{constructor(t=0,n=0,l=0,r=0,o=20){this.type="roundedRectangle",this.x=t,this.y=n,this.width=l,this.height=r,this.radius=o}getBounds(t){return t||(t=new me),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new Th(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const l=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+l&&n<=this.y+this.height-l||t>=this.x+l&&t<=this.x+this.width-l)return!0;let r=t-(this.x+l),o=n-(this.y+l);const u=l*l;if(r*r+o*o<=u||(r=t-(this.x+this.width-l),r*r+o*o<=u)||(o=n-(this.y+this.height-l),r*r+o*o<=u)||(r=t-(this.x+l),r*r+o*o<=u))return!0}return!1}strokeContains(t,n,l,r=.5){const{x:o,y:u,width:d,height:f,radius:b}=this,p=l*(1-r),y=l-p,G=o+b,g=u+b,S=d-b*2,V=f-b*2,W=o+d,T=u+f;return(t>=o-p&&t<=o+y||t>=W-y&&t<=W+p)&&n>=g&&n<=g+V||(n>=u-p&&n<=u+y||n>=T-y&&n<=T+p)&&t>=G&&t<=G+S?!0:t<G&&n<g&&Wc(t,n,G,g,b,y,p)||t>W-b&&n<g&&Wc(t,n,W-b,g,b,y,p)||t>W-b&&n>T-b&&Wc(t,n,W-b,T-b,b,y,p)||t<G&&n>T-b&&Wc(t,n,G,T-b,b,y,p)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const JX={};function GG(s,t,n){let l=2166136261;for(let r=0;r<t;r++)l^=s[r].uid,l=Math.imul(l,16777619),l>>>=0;return JX[l]||RG(s,t,l,n)}function RG(s,t,n,l){const r={};let o=0;for(let d=0;d<l;d++){const f=d<t?s[d]:Mt.EMPTY.source;r[o++]=f.source,r[o++]=f.style}const u=new Jc(r);return JX[n]=u,u}class Hp{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function Tp(s,t){const n=s.byteLength/8|0,l=new Float64Array(s,0,n);new Float64Array(t,0,n).set(l);const o=s.byteLength-n*8;if(o>0){const u=new Uint8Array(s,n*8,o);new Uint8Array(t,n*8,o).set(u)}}const vG={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var SG=(s=>(s[s.DISABLED=0]="DISABLED",s[s.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",s[s.MASK_ACTIVE=2]="MASK_ACTIVE",s[s.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",s[s.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",s[s.NONE=5]="NONE",s))(SG||{});function Fp(s,t){return t.alphaMode==="no-premultiply-alpha"&&vG[s]||s}const VG=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function WG(s){let t="";for(let n=0;n<s;++n)n>0&&(t+=`
else `),n<s-1&&(t+=`if(test == ${n}.0){}`);return t}function YG(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const l=VG.replace(/%forloop%/gi,WG(s));if(t.shaderSource(n,l),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))s=s/2|0;else break}}finally{t.deleteShader(n)}return s}let hs=null;function CG(){if(hs)return hs;const s=uX();return hs=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),hs=YG(hs,s),s.getExtension("WEBGL_lose_context")?.loseContext(),hs}class JG{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const n=this.textures[t];this.textures[t]=null,this.ids[n.uid]=null}this.count=0}}class LG{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new JG,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const _a=[];let Kc=0;Aa.register({clear:()=>{if(_a.length>0)for(const s of _a)s&&s.destroy();_a.length=0,Kc=0}});function _p(){return Kc>0?_a[--Kc]:new LG}function zp(s){_a[Kc++]=s}let va=0;const LX=class NX{constructor(t){this.uid=ue("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...NX.defaultOptions,...t},t.maxTextures||(Ut("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=CG());const{maxTextures:n,attributesInitialSize:l,indicesInitialSize:r}=t;this.attributeBuffer=new Hp(l*4),this.indexBuffer=new Uint16Array(r),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)zp(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,n){const l=t._batch.textures.ids[n._source.uid];return!l&&l!==0?!1:(t._textureId=l,t.texture=n,!0)}updateElement(t){this.dirty=!0;const n=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId)}break(t){const n=this._elements;if(!n[this.elementStart])return;let l=_p(),r=l.textures;r.clear();const o=n[this.elementStart];let u=Fp(o.blendMode,o.texture._source),d=o.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const f=this.attributeBuffer.float32View,b=this.attributeBuffer.uint32View,p=this.indexBuffer;let y=this._batchIndexSize,G=this._batchIndexStart,g="startBatch";const S=this.maxTextures;for(let V=this.elementStart;V<this.elementSize;++V){const W=n[V];n[V]=null;const E=W.texture._source,F=Fp(W.blendMode,E),M=u!==F||d!==W.topology;if(E._batchTick===va&&!M){W._textureId=E._textureBindLocation,y+=W.indexSize,W.packAsQuad?(this.packQuadAttributes(W,f,b,W._attributeStart,W._textureId),this.packQuadIndex(p,W._indexStart,W._attributeStart/this.vertexSize)):(this.packAttributes(W,f,b,W._attributeStart,W._textureId),this.packIndex(W,p,W._indexStart,W._attributeStart/this.vertexSize)),W._batch=l;continue}E._batchTick=va,(r.count>=S||M)&&(this._finishBatch(l,G,y-G,r,u,d,t,g),g="renderBatch",G=y,u=F,d=W.topology,l=_p(),r=l.textures,r.clear(),++va),W._textureId=E._textureBindLocation=r.count,r.ids[E.uid]=r.count,r.textures[r.count++]=E,W._batch=l,y+=W.indexSize,W.packAsQuad?(this.packQuadAttributes(W,f,b,W._attributeStart,W._textureId),this.packQuadIndex(p,W._indexStart,W._attributeStart/this.vertexSize)):(this.packAttributes(W,f,b,W._attributeStart,W._textureId),this.packIndex(W,p,W._indexStart,W._attributeStart/this.vertexSize))}r.count>0&&(this._finishBatch(l,G,y-G,r,u,d,t,g),G=y,++va),this.elementStart=this.elementSize,this._batchIndexStart=G,this._batchIndexSize=y}_finishBatch(t,n,l,r,o,u,d,f){t.gpuBindGroup=null,t.bindGroup=null,t.action=f,t.batcher=this,t.textures=r,t.blendMode=o,t.topology=u,t.start=n,t.size=l,++va,this.batches[this.batchIndex++]=t,d.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const n=Math.max(t,this.attributeBuffer.size*2),l=new Hp(n);Tp(this.attributeBuffer.rawBinaryData,l.rawBinaryData),this.attributeBuffer=l}_resizeIndexBuffer(t){const n=this.indexBuffer;let l=Math.max(t,n.length*1.5);l+=l%2;const r=l>65535?new Uint32Array(l):new Uint16Array(l);if(r.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let o=0;o<n.length;o++)r[o]=n[o];else Tp(n.buffer,r.buffer);this.indexBuffer=r}packQuadIndex(t,n,l){t[n]=l+0,t[n+1]=l+1,t[n+2]=l+2,t[n+3]=l+0,t[n+4]=l+2,t[n+5]=l+3}packIndex(t,n,l,r){const o=t.indices,u=t.indexSize,d=t.indexOffset,f=t.attributeOffset;for(let b=0;b<u;b++)n[l++]=r+o[b+d]-f}destroy(t={}){if(this.batches!==null){for(let n=0;n<this.batchIndex;n++)zp(this.batches[n]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,t.shader&&(this.shader?.destroy(),this.shader=null);for(let n=0;n<this._elements.length;n++)this._elements[n]&&(this._elements[n]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};LX.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let NG=LX;var nn=(s=>(s[s.MAP_READ=1]="MAP_READ",s[s.MAP_WRITE=2]="MAP_WRITE",s[s.COPY_SRC=4]="COPY_SRC",s[s.COPY_DST=8]="COPY_DST",s[s.INDEX=16]="INDEX",s[s.VERTEX=32]="VERTEX",s[s.UNIFORM=64]="UNIFORM",s[s.STORAGE=128]="STORAGE",s[s.INDIRECT=256]="INDIRECT",s[s.QUERY_RESOLVE=512]="QUERY_RESOLVE",s[s.STATIC=1024]="STATIC",s))(nn||{});class Pa extends jn{constructor(t){let{data:n,size:l}=t;const{usage:r,label:o,shrinkToFit:u}=t;super(),this._gpuData=Object.create(null),this._gcLastUsed=-1,this.autoGarbageCollect=!0,this.uid=ue("buffer"),this._resourceType="buffer",this._resourceId=ue("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,l??(l=n?.byteLength);const d=!!n;this.descriptor={size:l,usage:r,mappedAtCreation:d,label:o},this.shrinkToFit=u??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&nn.STATIC)}set static(t){t?this.descriptor.usage|=nn.STATIC:this.descriptor.usage&=~nn.STATIC}setDataWithSize(t,n,l){if(this._updateID++,this._updateSize=n*t.BYTES_PER_ELEMENT,this._data===t){l&&this.emit("update",this);return}const r=this._data;if(this._data=t,this._dataInt32=null,!r||r.length!==t.length){!this.shrinkToFit&&r&&t.byteLength<r.byteLength?l&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=ue("resource"),this.emit("change",this));return}l&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}unload(){this.emit("unload",this);for(const t in this._gpuData)this._gpuData[t]?.destroy();this._gpuData=Object.create(null)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function wX(s,t){if(!(s instanceof Pa)){let n=t?nn.INDEX:nn.VERTEX;s instanceof Array&&(t?(s=new Uint32Array(s),n=nn.INDEX|nn.COPY_DST):(s=new Float32Array(s),n=nn.VERTEX|nn.COPY_DST)),s=new Pa({data:s,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return s}function wG(s,t,n){const l=s.getAttribute(t);if(!l)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const r=l.buffer.data;let o=1/0,u=1/0,d=-1/0,f=-1/0;const b=r.BYTES_PER_ELEMENT,p=(l.offset||0)/b,y=(l.stride||8)/b;for(let G=p;G<r.length;G+=y){const g=r[G],S=r[G+1];g>d&&(d=g),S>f&&(f=S),g<o&&(o=g),S<u&&(u=S)}return n.minX=o,n.minY=u,n.maxX=d,n.maxY=f,n}function HG(s){return(s instanceof Pa||Array.isArray(s)||s.BYTES_PER_ELEMENT)&&(s={buffer:s}),s.buffer=wX(s.buffer,!1),s}class TG extends jn{constructor(t={}){super(),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=ue("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Tn,this._boundsDirty=!0;const{attributes:n,indexBuffer:l,topology:r}=t;if(this.buffers=[],this.attributes={},n)for(const o in n)this.addAttribute(o,n[o]);this.instanceCount=t.instanceCount??1,l&&this.addIndex(l),this.topology=r||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const n=this.attributes[t];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(t,n){const l=HG(n);this.buffers.indexOf(l.buffer)===-1&&(this.buffers.push(l.buffer),l.buffer.on("update",this.onBufferUpdate,this),l.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=l}addIndex(t){this.indexBuffer=wX(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,wG(this,"aPosition",this._bounds)):this._bounds}unload(){this.emit("unload",this);for(const t in this._gpuData)this._gpuData[t]?.destroy();this._gpuData=Object.create(null)}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(n=>n.destroy()),this.unload(),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const FG=new Float32Array(1),_G=new Uint32Array(1);class zG extends TG{constructor(){const n=new Pa({data:FG,label:"attribute-batch-buffer",usage:nn.VERTEX|nn.COPY_DST,shrinkToFit:!1}),l=new Pa({data:_G,label:"index-batch-buffer",usage:nn.INDEX|nn.COPY_DST,shrinkToFit:!1}),r=24;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:r,offset:0},aUV:{buffer:n,format:"float32x2",stride:r,offset:8},aColor:{buffer:n,format:"unorm8x4",stride:r,offset:16},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:r,offset:20}},indexBuffer:l})}}function Bp(s,t,n){if(s)for(const l in s){const r=l.toLocaleLowerCase(),o=t[r];if(o){let u=s[l];l==="header"&&(u=u.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&o.push(`//----${n}----//`),o.push(u)}else Pe(`${l} placement hook does not exist in shader`)}}const BG=/\{\{(.*?)\}\}/g;function Ep(s){const t={};return(s.match(BG)?.map(l=>l.replace(/[{()}]/g,""))??[]).forEach(l=>{t[l]=[]}),t}function kp(s,t){let n;const l=/@in\s+([^;]+);/g;for(;(n=l.exec(s))!==null;)t.push(n[1])}function Up(s,t,n=!1){const l=[];kp(t,l),s.forEach(d=>{d.header&&kp(d.header,l)});const r=l;n&&r.sort();const o=r.map((d,f)=>`       @location(${f}) ${d},`).join(`
`);let u=t.replace(/@in\s+[^;]+;\s*/g,"");return u=u.replace("{{in}}",`
${o}
`),u}function Mp(s,t){let n;const l=/@out\s+([^;]+);/g;for(;(n=l.exec(s))!==null;)t.push(n[1])}function EG(s){const n=/\b(\w+)\s*:/g.exec(s);return n?n[1]:""}function kG(s){const t=/@.*?\s+/g;return s.replace(t,"")}function UG(s,t){const n=[];Mp(t,n),s.forEach(f=>{f.header&&Mp(f.header,n)});let l=0;const r=n.sort().map(f=>f.indexOf("builtin")>-1?f:`@location(${l++}) ${f}`).join(`,
`),o=n.sort().map(f=>`       var ${kG(f)};`).join(`
`),u=`return VSOutput(
            ${n.sort().map(f=>` ${EG(f)}`).join(`,
`)});`;let d=t.replace(/@out\s+[^;]+;\s*/g,"");return d=d.replace("{{struct}}",`
${r}
`),d=d.replace("{{start}}",`
${o}
`),d=d.replace("{{return}}",`
${u}
`),d}function Kp(s,t){let n=s;for(const l in t){const r=t[l];r.join(`
`).length?n=n.replace(`{{${l}}}`,`//-----${l} START-----//
${r.join(`
`)}
//----${l} FINISH----//`):n=n.replace(`{{${l}}}`,"")}return n}const Mi=Object.create(null),Ed=new Map;let MG=0;function KG({template:s,bits:t}){const n=HX(s,t);if(Mi[n])return Mi[n];const{vertex:l,fragment:r}=jG(s,t);return Mi[n]=TX(l,r,t),Mi[n]}function PG({template:s,bits:t}){const n=HX(s,t);return Mi[n]||(Mi[n]=TX(s.vertex,s.fragment,t)),Mi[n]}function jG(s,t){const n=t.map(u=>u.vertex).filter(u=>!!u),l=t.map(u=>u.fragment).filter(u=>!!u);let r=Up(n,s.vertex,!0);r=UG(n,r);const o=Up(l,s.fragment,!0);return{vertex:r,fragment:o}}function HX(s,t){return t.map(n=>(Ed.has(n)||Ed.set(n,MG++),Ed.get(n))).sort((n,l)=>n-l).join("-")+s.vertex+s.fragment}function TX(s,t,n){const l=Ep(s),r=Ep(t);return n.forEach(o=>{Bp(o.vertex,l,o.name),Bp(o.fragment,r,o.name)}),{vertex:Kp(s,l),fragment:Kp(t,r)}}const QG=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,IG=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,AG=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,DG=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,OG={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},qG={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function $G({bits:s,name:t}){const n=KG({template:{fragment:IG,vertex:QG},bits:[OG,...s]});return $c.from({name:t,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function t2({bits:s,name:t}){return new hX({name:t,...PG({template:{vertex:AG,fragment:DG},bits:[qG,...s]})})}const e2={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},n2={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},kd={};function i2(s){const t=[];if(s===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let l=0;l<s;l++)t.push(`@group(1) @binding(${n++}) var textureSource${l+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${n++}) var textureSampler${l+1}: sampler;`)}return t.join(`
`)}function l2(s){const t=[];if(s===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let n=0;n<s;n++)n===s-1?t.push("  default:{"):t.push(`  case ${n}:{`),t.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function s2(s){return kd[s]||(kd[s]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${i2(s)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${l2(s)}
            `}}),kd[s]}const Ud={};function a2(s){const t=[];for(let n=0;n<s;n++)n>0&&t.push("else"),n<s-1&&t.push(`if(vTextureId < ${n}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${n}], vUV);`),t.push("}");return t.join(`
`)}function r2(s){return Ud[s]||(Ud[s]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${s}];

            `,main:`

                ${a2(s)}
            `}}),Ud[s]}const c2={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},o2={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Pp={};function u2(s){let t=Pp[s];if(t)return t;const n=new Int32Array(s);for(let l=0;l<s;l++)n[l]=l;return t=Pp[s]=new pX({uTextures:{value:n,type:"i32",size:s}},{isStatic:!0}),t}class jp extends Lh{constructor(t){const n=t2({name:"batch",bits:[n2,r2(t),o2]}),l=$G({name:"batch",bits:[e2,s2(t),c2]});super({glProgram:n,gpuProgram:l,resources:{batchSamplers:u2(t)}}),this.maxTextures=t}}let Sa=null;const FX=class _X extends NG{constructor(t){super(t),this.geometry=new zG,this.name=_X.extension.name,this.vertexSize=6,Sa??(Sa=new jp(t.maxTextures)),this.shader=Sa}packAttributes(t,n,l,r,o){const u=o<<16|t.roundPixels&65535,d=t.transform,f=d.a,b=d.b,p=d.c,y=d.d,G=d.tx,g=d.ty,{positions:S,uvs:V}=t,W=t.color,T=t.attributeOffset,E=T+t.attributeSize;for(let F=T;F<E;F++){const M=F*2,N=S[M],_=S[M+1];n[r++]=f*N+p*_+G,n[r++]=y*_+b*N+g,n[r++]=V[M],n[r++]=V[M+1],l[r++]=W,l[r++]=u}}packQuadAttributes(t,n,l,r,o){const u=t.texture,d=t.transform,f=d.a,b=d.b,p=d.c,y=d.d,G=d.tx,g=d.ty,S=t.bounds,V=S.maxX,W=S.minX,T=S.maxY,E=S.minY,F=u.uvs,M=t.color,N=o<<16|t.roundPixels&65535;n[r+0]=f*W+p*E+G,n[r+1]=y*E+b*W+g,n[r+2]=F.x0,n[r+3]=F.y0,l[r+4]=M,l[r+5]=N,n[r+6]=f*V+p*E+G,n[r+7]=y*E+b*V+g,n[r+8]=F.x1,n[r+9]=F.y1,l[r+10]=M,l[r+11]=N,n[r+12]=f*V+p*T+G,n[r+13]=y*T+b*V+g,n[r+14]=F.x2,n[r+15]=F.y2,l[r+16]=M,l[r+17]=N,n[r+18]=f*W+p*T+G,n[r+19]=y*T+b*W+g,n[r+20]=F.x3,n[r+21]=F.y3,l[r+22]=M,l[r+23]=N}_updateMaxTextures(t){this.shader.maxTextures!==t&&(Sa=new jp(t),this.shader=Sa)}destroy(){this.shader=null,super.destroy()}};FX.extension={type:[Qt.Batcher],name:"default"};let d2=FX;class h2{constructor(t){this.items=Object.create(null);const{renderer:n,type:l,onUnload:r,priority:o,name:u}=t;this._renderer=n,n.gc.addResourceHash(this,"items",l,o??0),this._onUnload=r,this.name=u}add(t){return this.items[t.uid]?!1:(this.items[t.uid]=t,t.once("unload",this.remove,this),t._gcLastUsed=this._renderer.gc.now,!0)}remove(t,...n){if(!this.items[t.uid])return;const l=t._gpuData[this._renderer.uid];l&&(this._onUnload?.(t,...n),l.destroy(),t._gpuData[this._renderer.uid]=null,this.items[t.uid]=null)}removeAll(...t){Object.values(this.items).forEach(n=>n&&this.remove(n,...t))}destroy(...t){this.removeAll(...t),this.items=Object.create(null),this._renderer=null,this._onUnload=null}}function f2(s,t,n,l,r,o,u,d=null){let f=0;n*=t,r*=o;const b=d.a,p=d.b,y=d.c,G=d.d,g=d.tx,S=d.ty;for(;f<u;){const V=s[n],W=s[n+1];l[r]=b*V+y*W+g,l[r+1]=p*V+G*W+S,r+=o,n+=t,f++}}function m2(s,t,n,l){let r=0;for(t*=n;r<l;)s[t]=0,s[t+1]=0,t+=n,r++}function zX(s,t,n,l,r){const o=t.a,u=t.b,d=t.c,f=t.d,b=t.tx,p=t.ty;n||(n=0),l||(l=2),r||(r=s.length/l-n);let y=n*l;for(let G=0;G<r;G++){const g=s[y],S=s[y+1];s[y]=o*g+d*S+b,s[y+1]=u*g+f*S+p,y+=l}}const b2=new Ht;class BX{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,n=t>>16|t&65280|(t&255)<<16,l=this.renderable;return l?My(n,l.groupColor)+(this.alpha*l.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||b2}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const ja={extension:{type:Qt.ShapeBuilder,name:"circle"},build(s,t){let n,l,r,o,u,d;if(s.type==="circle"){const M=s;if(u=d=M.radius,u<=0)return!1;n=M.x,l=M.y,r=o=0}else if(s.type==="ellipse"){const M=s;if(u=M.halfWidth,d=M.halfHeight,u<=0||d<=0)return!1;n=M.x,l=M.y,r=o=0}else{const M=s,N=M.width/2,_=M.height/2;n=M.x+N,l=M.y+_,u=d=Math.max(0,Math.min(M.radius,Math.min(N,_))),r=N-u,o=_-d}if(r<0||o<0)return!1;const f=Math.ceil(2.3*Math.sqrt(u+d)),b=f*8+(r?4:0)+(o?4:0);if(b===0)return!1;if(f===0)return t[0]=t[6]=n+r,t[1]=t[3]=l+o,t[2]=t[4]=n-r,t[5]=t[7]=l-o,!0;let p=0,y=f*4+(r?2:0)+2,G=y,g=b,S=r+u,V=o,W=n+S,T=n-S,E=l+V;if(t[p++]=W,t[p++]=E,t[--y]=E,t[--y]=T,o){const M=l-V;t[G++]=T,t[G++]=M,t[--g]=M,t[--g]=W}for(let M=1;M<f;M++){const N=Math.PI/2*(M/f),_=r+Math.cos(N)*u,H=o+Math.sin(N)*d,ut=n+_,ot=n-_,ct=l+H,O=l-H;t[p++]=ut,t[p++]=ct,t[--y]=ct,t[--y]=ot,t[G++]=ot,t[G++]=O,t[--g]=O,t[--g]=ut}S=r,V=o+d,W=n+S,T=n-S,E=l+V;const F=l-V;return t[p++]=W,t[p++]=E,t[--g]=F,t[--g]=W,r&&(t[p++]=T,t[p++]=E,t[--g]=F,t[--g]=T),!0},triangulate(s,t,n,l,r,o){if(s.length===0)return;let u=0,d=0;for(let p=0;p<s.length;p+=2)u+=s[p],d+=s[p+1];u/=s.length/2,d/=s.length/2;let f=l;t[f*n]=u,t[f*n+1]=d;const b=f++;for(let p=0;p<s.length;p+=2)t[f*n]=s[p],t[f*n+1]=s[p+1],p>0&&(r[o++]=f,r[o++]=b,r[o++]=f-1),f++;r[o++]=b+1,r[o++]=b,r[o++]=f-1}},p2={...ja,extension:{...ja.extension,name:"ellipse"}},y2={...ja,extension:{...ja.extension,name:"roundedRectangle"}},EX=1e-4,Qp=1e-4;function X2(s){const t=s.length;if(t<6)return 1;let n=0;for(let l=0,r=s[t-2],o=s[t-1];l<t;l+=2){const u=s[l],d=s[l+1];n+=(u-r)*(d+o),r=u,o=d}return n<0?-1:1}function Ip(s,t,n,l,r,o,u,d){const f=s-n*r,b=t-l*r,p=s+n*o,y=t+l*o;let G,g;u?(G=l,g=-n):(G=-l,g=n);const S=f+G,V=b+g,W=p+G,T=y+g;return d.push(S,V),d.push(W,T),2}function dl(s,t,n,l,r,o,u,d){const f=n-s,b=l-t;let p=Math.atan2(f,b),y=Math.atan2(r-s,o-t);d&&p<y?p+=Math.PI*2:!d&&p>y&&(y+=Math.PI*2);let G=p;const g=y-p,S=Math.abs(g),V=Math.sqrt(f*f+b*b),W=(15*S*Math.sqrt(V)/Math.PI>>0)+1,T=g/W;if(G+=T,d){u.push(s,t),u.push(n,l);for(let E=1,F=G;E<W;E++,F+=T)u.push(s,t),u.push(s+Math.sin(F)*V,t+Math.cos(F)*V);u.push(s,t),u.push(r,o)}else{u.push(n,l),u.push(s,t);for(let E=1,F=G;E<W;E++,F+=T)u.push(s+Math.sin(F)*V,t+Math.cos(F)*V),u.push(s,t);u.push(r,o),u.push(s,t)}return W*2}function Z2(s,t,n,l,r,o){const u=EX;if(s.length===0)return;const d=t;let f=d.alignment;if(t.alignment!==.5){let et=X2(s);f=(f-.5)*et+.5}const b=new ze(s[0],s[1]),p=new ze(s[s.length-2],s[s.length-1]),y=l,G=Math.abs(b.x-p.x)<u&&Math.abs(b.y-p.y)<u;if(y){s=s.slice(),G&&(s.pop(),s.pop(),p.set(s[s.length-2],s[s.length-1]));const et=(b.x+p.x)*.5,ht=(p.y+b.y)*.5;s.unshift(et,ht),s.push(et,ht)}const g=r,S=s.length/2;let V=s.length;const W=g.length/2,T=d.width/2,E=T*T,F=d.miterLimit*d.miterLimit;let M=s[0],N=s[1],_=s[2],H=s[3],ut=0,ot=0,ct=-(N-H),O=M-_,j=0,lt=0,q=Math.sqrt(ct*ct+O*O);ct/=q,O/=q,ct*=T,O*=T;const mt=f,w=(1-mt)*2,I=mt*2;y||(d.cap==="round"?V+=dl(M-ct*(w-I)*.5,N-O*(w-I)*.5,M-ct*w,N-O*w,M+ct*I,N+O*I,g,!0)+2:d.cap==="square"&&(V+=Ip(M,N,ct,O,w,I,!0,g))),g.push(M-ct*w,N-O*w),g.push(M+ct*I,N+O*I);for(let et=1;et<S-1;++et){M=s[(et-1)*2],N=s[(et-1)*2+1],_=s[et*2],H=s[et*2+1],ut=s[(et+1)*2],ot=s[(et+1)*2+1],ct=-(N-H),O=M-_,q=Math.sqrt(ct*ct+O*O),ct/=q,O/=q,ct*=T,O*=T,j=-(H-ot),lt=_-ut,q=Math.sqrt(j*j+lt*lt),j/=q,lt/=q,j*=T,lt*=T;const ht=_-M,C=N-H,B=_-ut,rt=ot-H,dt=ht*B+C*rt,bt=C*B-rt*ht,xt=bt<0;if(Math.abs(bt)<.001*Math.abs(dt)){g.push(_-ct*w,H-O*w),g.push(_+ct*I,H+O*I),dt>=0&&(d.join==="round"?V+=dl(_,H,_-ct*w,H-O*w,_-j*w,H-lt*w,g,!1)+4:V+=2,g.push(_-j*I,H-lt*I),g.push(_+j*w,H+lt*w));continue}const vt=(-ct+M)*(-O+H)-(-ct+_)*(-O+N),It=(-j+ut)*(-lt+H)-(-j+_)*(-lt+ot),Tt=(ht*It-B*vt)/bt,ln=(rt*vt-C*It)/bt,zn=(Tt-_)*(Tt-_)+(ln-H)*(ln-H),Qe=_+(Tt-_)*w,Ve=H+(ln-H)*w,de=_-(Tt-_)*I,sn=H-(ln-H)*I,ji=Math.min(ht*ht+C*C,B*B+rt*rt),pi=xt?w:I,Sl=ji+pi*pi*E;zn<=Sl?d.join==="bevel"||zn/E>F?(xt?(g.push(Qe,Ve),g.push(_+ct*I,H+O*I),g.push(Qe,Ve),g.push(_+j*I,H+lt*I)):(g.push(_-ct*w,H-O*w),g.push(de,sn),g.push(_-j*w,H-lt*w),g.push(de,sn)),V+=2):d.join==="round"?xt?(g.push(Qe,Ve),g.push(_+ct*I,H+O*I),V+=dl(_,H,_+ct*I,H+O*I,_+j*I,H+lt*I,g,!0)+4,g.push(Qe,Ve),g.push(_+j*I,H+lt*I)):(g.push(_-ct*w,H-O*w),g.push(de,sn),V+=dl(_,H,_-ct*w,H-O*w,_-j*w,H-lt*w,g,!1)+4,g.push(_-j*w,H-lt*w),g.push(de,sn)):(g.push(Qe,Ve),g.push(de,sn)):(g.push(_-ct*w,H-O*w),g.push(_+ct*I,H+O*I),d.join==="round"?xt?V+=dl(_,H,_+ct*I,H+O*I,_+j*I,H+lt*I,g,!0)+2:V+=dl(_,H,_-ct*w,H-O*w,_-j*w,H-lt*w,g,!1)+2:d.join==="miter"&&zn/E<=F&&(xt?(g.push(de,sn),g.push(de,sn)):(g.push(Qe,Ve),g.push(Qe,Ve)),V+=2),g.push(_-j*w,H-lt*w),g.push(_+j*I,H+lt*I),V+=2)}M=s[(S-2)*2],N=s[(S-2)*2+1],_=s[(S-1)*2],H=s[(S-1)*2+1],ct=-(N-H),O=M-_,q=Math.sqrt(ct*ct+O*O),ct/=q,O/=q,ct*=T,O*=T,g.push(_-ct*w,H-O*w),g.push(_+ct*I,H+O*I),y||(d.cap==="round"?V+=dl(_-ct*(w-I)*.5,H-O*(w-I)*.5,_-ct*w,H-O*w,_+ct*I,H+O*I,g,!1)+2:d.cap==="square"&&(V+=Ip(_,H,ct,O,w,I,!1,g)));const at=Qp*Qp;for(let et=W;et<V+W-2;++et)M=g[et*2],N=g[et*2+1],_=g[(et+1)*2],H=g[(et+1)*2+1],ut=g[(et+2)*2],ot=g[(et+2)*2+1],!(Math.abs(M*(H-ot)+_*(ot-N)+ut*(N-H))<at)&&o.push(et,et+1,et+2)}function x2(s,t,n,l){const r=EX;if(s.length===0)return;const o=s[0],u=s[1],d=s[s.length-2],f=s[s.length-1],b=t||Math.abs(o-d)<r&&Math.abs(u-f)<r,p=n,y=s.length/2,G=p.length/2;for(let g=0;g<y;g++)p.push(s[g*2]),p.push(s[g*2+1]);for(let g=0;g<y-1;g++)l.push(G+g,G+g+1);b&&l.push(G+y-1,G)}function kX(s,t,n,l,r,o,u){const d=lG(s,t,2);if(!d)return;for(let b=0;b<d.length;b+=3)o[u++]=d[b]+r,o[u++]=d[b+1]+r,o[u++]=d[b+2]+r;let f=r*l;for(let b=0;b<s.length;b+=2)n[f]=s[b],n[f+1]=s[b+1],f+=l}const g2=[],G2={extension:{type:Qt.ShapeBuilder,name:"polygon"},build(s,t){for(let n=0;n<s.points.length;n++)t[n]=s.points[n];return!0},triangulate(s,t,n,l,r,o){kX(s,g2,t,n,l,r,o)}},R2={extension:{type:Qt.ShapeBuilder,name:"rectangle"},build(s,t){const n=s,l=n.x,r=n.y,o=n.width,u=n.height;return o>0&&u>0?(t[0]=l,t[1]=r,t[2]=l+o,t[3]=r,t[4]=l+o,t[5]=r+u,t[6]=l,t[7]=r+u,!0):!1},triangulate(s,t,n,l,r,o){let u=0;l*=n,t[l+u]=s[0],t[l+u+1]=s[1],u+=n,t[l+u]=s[2],t[l+u+1]=s[3],u+=n,t[l+u]=s[6],t[l+u+1]=s[7],u+=n,t[l+u]=s[4],t[l+u+1]=s[5],u+=n;const d=l/n;r[o++]=d,r[o++]=d+1,r[o++]=d+2,r[o++]=d+1,r[o++]=d+3,r[o++]=d+2}},v2={extension:{type:Qt.ShapeBuilder,name:"triangle"},build(s,t){return t[0]=s.x,t[1]=s.y,t[2]=s.x2,t[3]=s.y2,t[4]=s.x3,t[5]=s.y3,!0},triangulate(s,t,n,l,r,o){let u=0;l*=n,t[l+u]=s[0],t[l+u+1]=s[1],u+=n,t[l+u]=s[2],t[l+u+1]=s[3],u+=n,t[l+u]=s[4],t[l+u+1]=s[5];const d=l/n;r[o++]=d,r[o++]=d+1,r[o++]=d+2}},S2=new Ht,V2=new me;function W2(s,t,n,l){const r=t.matrix?s.copyFrom(t.matrix).invert():s.identity();if(t.textureSpace==="local"){const u=n.getBounds(V2);t.width&&u.pad(t.width);const{x:d,y:f}=u,b=1/u.width,p=1/u.height,y=-d*b,G=-f*p,g=r.a,S=r.b,V=r.c,W=r.d;r.a*=b,r.b*=b,r.c*=p,r.d*=p,r.tx=y*g+G*V+r.tx,r.ty=y*S+G*W+r.ty}else r.translate(t.texture.frame.x,t.texture.frame.y),r.scale(1/t.texture.source.width,1/t.texture.source.height);const o=t.texture.source.style;return!(t.fill instanceof bi)&&o.addressMode==="clamp-to-edge"&&(o.addressMode="repeat",o.update()),l&&r.append(S2.copyFrom(l).invert()),r}const eo={};Yn.handleByMap(Qt.ShapeBuilder,eo);Yn.add(R2,G2,v2,ja,p2,y2);const Y2=new me,C2=new Ht;function J2(s,t){const{geometryData:n,batches:l}=t;l.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let r=0;r<s.instructions.length;r++){const o=s.instructions[r];if(o.action==="texture")L2(o.data,l,n);else if(o.action==="fill"||o.action==="stroke"){const u=o.action==="stroke",d=o.data.path.shapePath,f=o.data.style,b=o.data.hole;u&&b&&Ap(b.shapePath,f,!0,l,n),b&&(d.shapePrimitives[d.shapePrimitives.length-1].holes=b.shapePath.shapePrimitives),Ap(d,f,u,l,n)}}}function L2(s,t,n){const l=[],r=eo.rectangle,o=Y2;o.x=s.dx,o.y=s.dy,o.width=s.dw,o.height=s.dh;const u=s.transform;if(!r.build(o,l))return;const{vertices:d,uvs:f,indices:b}=n,p=b.length,y=d.length/2;u&&zX(l,u),r.triangulate(l,d,2,y,b,p);const G=s.image,g=G.uvs;f.push(g.x0,g.y0,g.x1,g.y1,g.x3,g.y3,g.x2,g.y2);const S=Wn.get(BX);S.indexOffset=p,S.indexSize=b.length-p,S.attributeOffset=y,S.attributeSize=d.length/2-y,S.baseColor=s.style,S.alpha=s.alpha,S.texture=G,S.geometryData=n,t.push(S)}function Ap(s,t,n,l,r){const{vertices:o,uvs:u,indices:d}=r;s.shapePrimitives.forEach(({shape:f,transform:b,holes:p})=>{const y=[],G=eo[f.type];if(!G.build(f,y))return;const g=d.length,S=o.length/2;let V="triangle-list";if(b&&zX(y,b),n){const F=f.closePath??!0,M=t;M.pixelLine?(x2(y,F,o,d),V="line-list"):Z2(y,M,!1,F,o,d)}else if(p){const F=[],M=y.slice();N2(p).forEach(_=>{F.push(M.length/2),M.push(..._)}),kX(M,F,o,2,S,d,g)}else G.triangulate(y,o,2,S,d,g);const W=u.length/2,T=t.texture;if(T!==Mt.WHITE){const F=W2(C2,t,f,b);f2(o,2,S,u,W,2,o.length/2-S,F)}else m2(u,W,2,o.length/2-S);const E=Wn.get(BX);E.indexOffset=g,E.indexSize=d.length-g,E.attributeOffset=S,E.attributeSize=o.length/2-S,E.baseColor=t.color,E.alpha=t.alpha,E.texture=T,E.geometryData=r,E.topology=V,l.push(E)})}function N2(s){const t=[];for(let n=0;n<s.length;n++){const l=s[n].shape,r=[];eo[l.type].build(l,r)&&t.push(r)}return t}class w2{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}reset(){this.batches&&this.batches.forEach(t=>{Wn.return(t)}),this.graphicsData&&Wn.return(this.graphicsData),this.isBatchable=!1,this.context=null,this.batches.length=0,this.geometryData.indices.length=0,this.geometryData.vertices.length=0,this.geometryData.uvs.length=0,this.graphicsData=null}destroy(){this.reset(),this.batches=null,this.geometryData=null}}class H2{constructor(){this.instructions=new Qy}init(t){const n=t.maxTextures;this.batcher?this.batcher._updateMaxTextures(n):this.batcher=new d2({maxTextures:n}),this.instructions.reset()}get geometry(){return Ut(Wx,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const Fh=class uh{constructor(t){this._renderer=t,this._managedContexts=new h2({renderer:t,type:"resource",name:"graphicsContext"})}init(t){uh.defaultOptions.bezierSmoothness=t?.bezierSmoothness??uh.defaultOptions.bezierSmoothness}getContextRenderData(t){return t._gpuData[this._renderer.uid].graphicsData||this._initContextRenderData(t)}updateGpuContext(t){const n=!!t._gpuData[this._renderer.uid],l=t._gpuData[this._renderer.uid]||this._initContext(t);if(t.dirty||!n){n&&l.reset(),J2(t,l);const r=t.batchMode;t.customShader||r==="no-batch"?l.isBatchable=!1:r==="auto"?l.isBatchable=l.geometryData.vertices.length<400:l.isBatchable=!0,t.dirty=!1}return l}getGpuContext(t){return t._gpuData[this._renderer.uid]||this._initContext(t)}_initContextRenderData(t){const n=Wn.get(H2,{maxTextures:this._renderer.limits.maxBatchableTextures}),l=t._gpuData[this._renderer.uid],{batches:r,geometryData:o}=l;l.graphicsData=n;const u=o.vertices.length,d=o.indices.length;for(let y=0;y<r.length;y++)r[y].applyTransform=!1;const f=n.batcher;f.ensureAttributeBuffer(u),f.ensureIndexBuffer(d),f.begin();for(let y=0;y<r.length;y++){const G=r[y];f.add(G)}f.finish(n.instructions);const b=f.geometry;b.indexBuffer.setDataWithSize(f.indexBuffer,f.indexSize,!0),b.buffers[0].setDataWithSize(f.attributeBuffer.float32View,f.attributeSize,!0);const p=f.batches;for(let y=0;y<p.length;y++){const G=p[y];G.bindGroup=GG(G.textures.textures,G.textures.count,this._renderer.limits.maxBatchableTextures)}return n}_initContext(t){const n=new w2;return n.context=t,t._gpuData[this._renderer.uid]=n,this._managedContexts.add(t),n}destroy(){this._managedContexts.destroy(),this._renderer=null}};Fh.extension={type:[Qt.WebGLSystem,Qt.WebGPUSystem,Qt.CanvasSystem],name:"graphicsContext"};Fh.defaultOptions={bezierSmoothness:.5};let UX=Fh;const T2=8,Yc=11920929e-14,F2=1;function MX(s,t,n,l,r,o,u,d,f,b){const y=Math.min(.99,Math.max(0,b??UX.defaultOptions.bezierSmoothness));let G=(F2-y)/1;return G*=G,_2(t,n,l,r,o,u,d,f,s,G),s}function _2(s,t,n,l,r,o,u,d,f,b){dh(s,t,n,l,r,o,u,d,f,b,0),f.push(u,d)}function dh(s,t,n,l,r,o,u,d,f,b,p){if(p>T2)return;const y=(s+n)/2,G=(t+l)/2,g=(n+r)/2,S=(l+o)/2,V=(r+u)/2,W=(o+d)/2,T=(y+g)/2,E=(G+S)/2,F=(g+V)/2,M=(S+W)/2,N=(T+F)/2,_=(E+M)/2;if(p>0){let H=u-s,ut=d-t;const ot=Math.abs((n-u)*ut-(l-d)*H),ct=Math.abs((r-u)*ut-(o-d)*H);if(ot>Yc&&ct>Yc){if((ot+ct)*(ot+ct)<=b*(H*H+ut*ut)){f.push(N,_);return}}else if(ot>Yc){if(ot*ot<=b*(H*H+ut*ut)){f.push(N,_);return}}else if(ct>Yc){if(ct*ct<=b*(H*H+ut*ut)){f.push(N,_);return}}else if(H=N-(s+u)/2,ut=_-(t+d)/2,H*H+ut*ut<=b){f.push(N,_);return}}dh(s,t,y,G,T,E,N,_,f,b,p+1),dh(N,_,F,M,V,W,u,d,f,b,p+1)}const z2=8,B2=11920929e-14,E2=1;function k2(s,t,n,l,r,o,u,d){const b=Math.min(.99,Math.max(0,d??UX.defaultOptions.bezierSmoothness));let p=(E2-b)/1;return p*=p,U2(t,n,l,r,o,u,s,p),s}function U2(s,t,n,l,r,o,u,d){hh(u,s,t,n,l,r,o,d,0),u.push(r,o)}function hh(s,t,n,l,r,o,u,d,f){if(f>z2)return;const b=(t+l)/2,p=(n+r)/2,y=(l+o)/2,G=(r+u)/2,g=(b+y)/2,S=(p+G)/2;let V=o-t,W=u-n;const T=Math.abs((l-o)*W-(r-u)*V);if(T>B2){if(T*T<=d*(V*V+W*W)){s.push(g,S);return}}else if(V=g-(t+o)/2,W=S-(n+u)/2,V*V+W*W<=d){s.push(g,S);return}hh(s,t,n,b,p,g,S,d,f+1),hh(s,g,S,y,G,o,u,d,f+1)}function KX(s,t,n,l,r,o,u,d){let f=Math.abs(r-o);(!u&&r>o||u&&o>r)&&(f=2*Math.PI-f),d||(d=Math.max(6,Math.floor(6*Math.pow(l,1/3)*(f/Math.PI)))),d=Math.max(d,3);let b=f/d,p=r;b*=u?-1:1;for(let y=0;y<d+1;y++){const G=Math.cos(p),g=Math.sin(p),S=t+G*l,V=n+g*l;s.push(S,V),p+=b}}function M2(s,t,n,l,r,o){const u=s[s.length-2],f=s[s.length-1]-n,b=u-t,p=r-n,y=l-t,G=Math.abs(f*y-b*p);if(G<1e-8||o===0){(s[s.length-2]!==t||s[s.length-1]!==n)&&s.push(t,n);return}const g=f*f+b*b,S=p*p+y*y,V=f*p+b*y,W=o*Math.sqrt(g)/G,T=o*Math.sqrt(S)/G,E=W*V/g,F=T*V/S,M=W*y+T*b,N=W*p+T*f,_=b*(T+E),H=f*(T+E),ut=y*(W+F),ot=p*(W+F),ct=Math.atan2(H-N,_-M),O=Math.atan2(ot-N,ut-M);KX(s,M+t,N+n,o,ct,O,b*p>y*f)}const za=Math.PI*2,Md={centerX:0,centerY:0,ang1:0,ang2:0},Kd=({x:s,y:t},n,l,r,o,u,d,f)=>{s*=n,t*=l;const b=r*s-o*t,p=o*s+r*t;return f.x=b+u,f.y=p+d,f};function K2(s,t){const n=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),l=t===1.5707963267948966?.551915024494:n,r=Math.cos(s),o=Math.sin(s),u=Math.cos(s+t),d=Math.sin(s+t);return[{x:r-o*l,y:o+r*l},{x:u+d*l,y:d-u*l},{x:u,y:d}]}const Dp=(s,t,n,l)=>{const r=s*l-t*n<0?-1:1;let o=s*n+t*l;return o>1&&(o=1),o<-1&&(o=-1),r*Math.acos(o)},P2=(s,t,n,l,r,o,u,d,f,b,p,y,G)=>{const g=Math.pow(r,2),S=Math.pow(o,2),V=Math.pow(p,2),W=Math.pow(y,2);let T=g*S-g*W-S*V;T<0&&(T=0),T/=g*W+S*V,T=Math.sqrt(T)*(u===d?-1:1);const E=T*r/o*y,F=T*-o/r*p,M=b*E-f*F+(s+n)/2,N=f*E+b*F+(t+l)/2,_=(p-E)/r,H=(y-F)/o,ut=(-p-E)/r,ot=(-y-F)/o,ct=Dp(1,0,_,H);let O=Dp(_,H,ut,ot);d===0&&O>0&&(O-=za),d===1&&O<0&&(O+=za),G.centerX=M,G.centerY=N,G.ang1=ct,G.ang2=O};function j2(s,t,n,l,r,o,u,d=0,f=0,b=0){if(o===0||u===0)return;const p=Math.sin(d*za/360),y=Math.cos(d*za/360),G=y*(t-l)/2+p*(n-r)/2,g=-p*(t-l)/2+y*(n-r)/2;if(G===0&&g===0)return;o=Math.abs(o),u=Math.abs(u);const S=Math.pow(G,2)/Math.pow(o,2)+Math.pow(g,2)/Math.pow(u,2);S>1&&(o*=Math.sqrt(S),u*=Math.sqrt(S)),P2(t,n,l,r,o,u,f,b,p,y,G,g,Md);let{ang1:V,ang2:W}=Md;const{centerX:T,centerY:E}=Md;let F=Math.abs(W)/(za/4);Math.abs(1-F)<1e-7&&(F=1);const M=Math.max(Math.ceil(F),1);W/=M;let N=s[s.length-2],_=s[s.length-1];const H={x:0,y:0};for(let ut=0;ut<M;ut++){const ot=K2(V,W),{x:ct,y:O}=Kd(ot[0],o,u,y,p,T,E,H),{x:j,y:lt}=Kd(ot[1],o,u,y,p,T,E,H),{x:q,y:mt}=Kd(ot[2],o,u,y,p,T,E,H);MX(s,N,_,ct,O,j,lt,q,mt),N=q,_=mt,V+=W}}function Q2(s,t,n){const l=(u,d)=>{const f=d.x-u.x,b=d.y-u.y,p=Math.sqrt(f*f+b*b),y=f/p,G=b/p;return{len:p,nx:y,ny:G}},r=(u,d)=>{u===0?s.moveTo(d.x,d.y):s.lineTo(d.x,d.y)};let o=t[t.length-1];for(let u=0;u<t.length;u++){const d=t[u%t.length],f=d.radius??n;if(f<=0){r(u,d),o=d;continue}const b=t[(u+1)%t.length],p=l(d,o),y=l(d,b);if(p.len<1e-4||y.len<1e-4){r(u,d),o=d;continue}let G=Math.asin(p.nx*y.ny-p.ny*y.nx),g=1,S=!1;p.nx*y.nx-p.ny*-y.ny<0?G<0?G=Math.PI+G:(G=Math.PI-G,g=-1,S=!0):G>0&&(g=-1,S=!0);const V=G/2;let W,T=Math.abs(Math.cos(V)*f/Math.sin(V));T>Math.min(p.len/2,y.len/2)?(T=Math.min(p.len/2,y.len/2),W=Math.abs(T*Math.sin(V)/Math.cos(V))):W=f;const E=d.x+y.nx*T+-y.ny*W*g,F=d.y+y.ny*T+y.nx*W*g,M=Math.atan2(p.ny,p.nx)+Math.PI/2*g,N=Math.atan2(y.ny,y.nx)-Math.PI/2*g;u===0&&s.moveTo(E+Math.cos(M)*W,F+Math.sin(M)*W),s.arc(E,F,W,M,N,S),o=d}}function I2(s,t,n,l){const r=(d,f)=>Math.sqrt((d.x-f.x)**2+(d.y-f.y)**2),o=(d,f,b)=>({x:d.x+(f.x-d.x)*b,y:d.y+(f.y-d.y)*b}),u=t.length;for(let d=0;d<u;d++){const f=t[(d+1)%u],b=f.radius??n;if(b<=0){d===0?s.moveTo(f.x,f.y):s.lineTo(f.x,f.y);continue}const p=t[d],y=t[(d+2)%u],G=r(p,f);let g;if(G<1e-4)g=f;else{const W=Math.min(G/2,b);g=o(f,p,W/G)}const S=r(y,f);let V;if(S<1e-4)V=f;else{const W=Math.min(S/2,b);V=o(f,y,W/S)}d===0?s.moveTo(g.x,g.y):s.lineTo(g.x,g.y),s.quadraticCurveTo(f.x,f.y,V.x,V.y,l)}}const A2=new me;class D2{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Tn,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,n){return this.startPoly(t,n),this}lineTo(t,n){this._ensurePoly();const l=this._currentPoly.points,r=l[l.length-2],o=l[l.length-1];return(r!==t||o!==n)&&l.push(t,n),this}arc(t,n,l,r,o,u){this._ensurePoly(!1);const d=this._currentPoly.points;return KX(d,t,n,l,r,o,u),this}arcTo(t,n,l,r,o){this._ensurePoly();const u=this._currentPoly.points;return M2(u,t,n,l,r,o),this}arcToSvg(t,n,l,r,o,u,d){const f=this._currentPoly.points;return j2(f,this._currentPoly.lastX,this._currentPoly.lastY,u,d,t,n,l,r,o),this}bezierCurveTo(t,n,l,r,o,u,d){this._ensurePoly();const f=this._currentPoly;return MX(this._currentPoly.points,f.lastX,f.lastY,t,n,l,r,o,u,d),this}quadraticCurveTo(t,n,l,r,o){this._ensurePoly();const u=this._currentPoly;return k2(this._currentPoly.points,u.lastX,u.lastY,t,n,l,r,o),this}closePath(){return this.endPoly(!0),this}addPath(t,n){this.endPoly(),n&&!n.isIdentity()&&(t=t.clone(!0),t.transform(n));const l=this.shapePrimitives,r=l.length;for(let o=0;o<t.instructions.length;o++){const u=t.instructions[o];this[u.action](...u.data)}if(t.checkForHoles&&l.length-r>1){let o=null;for(let u=r;u<l.length;u++){const d=l[u];if(d.shape.type==="polygon"){const f=d.shape,b=o?.shape;b&&b.containsPolygon(f)?(o.holes||(o.holes=[]),o.holes.push(d),l.copyWithin(u,u+1),l.length--,u--):o=d}}}return this}finish(t=!1){this.endPoly(t)}rect(t,n,l,r,o){return this.drawShape(new me(t,n,l,r),o),this}circle(t,n,l,r){return this.drawShape(new wh(t,n,l),r),this}poly(t,n,l){const r=new Fa(t);return r.closePath=n,this.drawShape(r,l),this}regularPoly(t,n,l,r,o=0,u){r=Math.max(r|0,3);const d=-1*Math.PI/2+o,f=Math.PI*2/r,b=[];for(let p=0;p<r;p++){const y=d-p*f;b.push(t+l*Math.cos(y),n+l*Math.sin(y))}return this.poly(b,!0,u),this}roundPoly(t,n,l,r,o,u=0,d){if(r=Math.max(r|0,3),o<=0)return this.regularPoly(t,n,l,r,u);const f=l*Math.sin(Math.PI/r)-.001;o=Math.min(o,f);const b=-1*Math.PI/2+u,p=Math.PI*2/r,y=(r-2)*Math.PI/r/2;for(let G=0;G<r;G++){const g=G*p+b,S=t+l*Math.cos(g),V=n+l*Math.sin(g),W=g+Math.PI+y,T=g-Math.PI-y,E=S+o*Math.cos(W),F=V+o*Math.sin(W),M=S+o*Math.cos(T),N=V+o*Math.sin(T);G===0?this.moveTo(E,F):this.lineTo(E,F),this.quadraticCurveTo(S,V,M,N,d)}return this.closePath()}roundShape(t,n,l=!1,r){return t.length<3?this:(l?I2(this,t,n,r):Q2(this,t,n),this.closePath())}filletRect(t,n,l,r,o){if(o===0)return this.rect(t,n,l,r);const u=Math.min(l,r)/2,d=Math.min(u,Math.max(-u,o)),f=t+l,b=n+r,p=d<0?-d:0,y=Math.abs(d);return this.moveTo(t,n+y).arcTo(t+p,n+p,t+y,n,y).lineTo(f-y,n).arcTo(f-p,n+p,f,n+y,y).lineTo(f,b-y).arcTo(f-p,b-p,t+l-y,b,y).lineTo(t+y,b).arcTo(t+p,b-p,t,b-y,y).closePath()}chamferRect(t,n,l,r,o,u){if(o<=0)return this.rect(t,n,l,r);const d=Math.min(o,Math.min(l,r)/2),f=t+l,b=n+r,p=[t+d,n,f-d,n,f,n+d,f,b-d,f-d,b,t+d,b,t,b-d,t,n+d];for(let y=p.length-1;y>=2;y-=2)p[y]===p[y-2]&&p[y-1]===p[y-3]&&p.splice(y-1,2);return this.poly(p,!0,u)}ellipse(t,n,l,r,o){return this.drawShape(new Hh(t,n,l,r),o),this}roundRect(t,n,l,r,o,u){return this.drawShape(new Th(t,n,l,r,o),u),this}drawShape(t,n){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:n}),this}startPoly(t,n){let l=this._currentPoly;return l&&this.endPoly(),l=new Fa,l.points.push(t,n),this._currentPoly=l,this}endPoly(t=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=t,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new Fa,t)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let l=n.shape.x,r=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const o=n.transform,u=l;l=o.a*l+o.c*r+o.tx,r=o.b*u+o.d*r+o.ty}this._currentPoly.points.push(l,r)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<t.instructions.length;n++){const l=t.instructions[n];this[l.action](...l.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const n=this.shapePrimitives;for(let l=0;l<n.length;l++){const r=n[l],o=r.shape.getBounds(A2);r.transform?t.addRect(o,r.transform):t.addRect(o)}return t}}class mi{constructor(t,n=!1){this.instructions=[],this.uid=ue("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof t=="string"?XG(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new D2(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,n){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,n]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,n,l,r,o){const u=this.instructions[this.instructions.length-1],d=this.getLastPoint(ze.shared);let f=0,b=0;if(!u||u.action!=="bezierCurveTo")f=d.x,b=d.y;else{f=u.data[2],b=u.data[3];const p=d.x,y=d.y;f=p+(p-f),b=y+(y-b)}return this.instructions.push({action:"bezierCurveTo",data:[f,b,t,n,l,r,o]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,n,l){const r=this.instructions[this.instructions.length-1],o=this.getLastPoint(ze.shared);let u=0,d=0;if(!r||r.action!=="quadraticCurveTo")u=o.x,d=o.y;else{u=r.data[0],d=r.data[1];const f=o.x,b=o.y;u=f+(f-u),d=b+(b-d)}return this.instructions.push({action:"quadraticCurveTo",data:[u,d,t,n,l]}),this._dirty=!0,this}rect(t,n,l,r,o){return this.instructions.push({action:"rect",data:[t,n,l,r,o]}),this._dirty=!0,this}circle(t,n,l,r){return this.instructions.push({action:"circle",data:[t,n,l,r]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,n,l,r,o,u,d){o||(o=r/2);const f=-1*Math.PI/2+u,b=l*2,p=Math.PI*2/b,y=[];for(let G=0;G<b;G++){const g=G%2?o:r,S=G*p+f;y.push(t+g*Math.cos(S),n+g*Math.sin(S))}return this.poly(y,!0,d),this}clone(t=!1){const n=new mi;if(n.checkForHoles=this.checkForHoles,!t)n.instructions=this.instructions.slice();else for(let l=0;l<this.instructions.length;l++){const r=this.instructions[l];n.instructions.push({action:r.action,data:r.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const n=t.a,l=t.b,r=t.c,o=t.d,u=t.tx,d=t.ty;let f=0,b=0,p=0,y=0,G=0,g=0,S=0,V=0;for(let W=0;W<this.instructions.length;W++){const T=this.instructions[W],E=T.data;switch(T.action){case"moveTo":case"lineTo":f=E[0],b=E[1],E[0]=n*f+r*b+u,E[1]=l*f+o*b+d;break;case"bezierCurveTo":p=E[0],y=E[1],G=E[2],g=E[3],f=E[4],b=E[5],E[0]=n*p+r*y+u,E[1]=l*p+o*y+d,E[2]=n*G+r*g+u,E[3]=l*G+o*g+d,E[4]=n*f+r*b+u,E[5]=l*f+o*b+d;break;case"quadraticCurveTo":p=E[0],y=E[1],f=E[2],b=E[3],E[0]=n*p+r*y+u,E[1]=l*p+o*y+d,E[2]=n*f+r*b+u,E[3]=l*f+o*b+d;break;case"arcToSvg":f=E[5],b=E[6],S=E[0],V=E[1],E[0]=n*S+r*V,E[1]=l*S+o*V,E[5]=n*f+r*b+u,E[6]=l*f+o*b+d;break;case"circle":E[4]=Va(E[3],t);break;case"rect":E[4]=Va(E[4],t);break;case"ellipse":E[8]=Va(E[8],t);break;case"roundRect":E[5]=Va(E[5],t);break;case"addPath":E[0].transform(t);break;case"poly":E[2]=Va(E[2],t);break;default:Pe("unknown transform action",T.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let n=this.instructions.length-1,l=this.instructions[n];if(!l)return t.x=0,t.y=0,t;for(;l.action==="closePath";){if(n--,n<0)return t.x=0,t.y=0,t;l=this.instructions[n]}switch(l.action){case"moveTo":case"lineTo":t.x=l.data[0],t.y=l.data[1];break;case"quadraticCurveTo":t.x=l.data[2],t.y=l.data[3];break;case"bezierCurveTo":t.x=l.data[4],t.y=l.data[5];break;case"arc":case"arcToSvg":t.x=l.data[5],t.y=l.data[6];break;case"addPath":l.data[0].getLastPoint(t);break}return t}}function Va(s,t){return s?s.prepend(t):t.clone()}function ce(s,t,n){const l=s.getAttribute(t);return l?Number(l):n}function O2(s,t){const n=s.querySelectorAll("defs");for(let l=0;l<n.length;l++){const r=n[l];for(let o=0;o<r.children.length;o++){const u=r.children[o];switch(u.nodeName.toLowerCase()){case"lineargradient":t.defs[u.id]=q2(u);break;case"radialgradient":t.defs[u.id]=$2();break}}}}function q2(s){const t=ce(s,"x1",0),n=ce(s,"y1",0),l=ce(s,"x2",1),r=ce(s,"y2",0),o=s.getAttribute("gradientUnits")||"objectBoundingBox",u=new bi(t,n,l,r,o==="objectBoundingBox"?"local":"global");for(let d=0;d<s.children.length;d++){const f=s.children[d],b=ce(f,"offset",0),p=Ge.shared.setValue(f.getAttribute("stop-color")).toNumber();u.addColorStop(b,p)}return u}function $2(s){return Pe("[SVG Parser] Radial gradients are not yet supported"),new bi(0,0,1,0)}function Op(s){const t=s.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const qp={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function PX(s,t){const n=s.getAttribute("style"),l={},r={},o={strokeStyle:l,fillStyle:r,useFill:!1,useStroke:!1};for(const u in qp){const d=s.getAttribute(u);d&&$p(t,o,u,d.trim())}if(n){const u=n.split(";");for(let d=0;d<u.length;d++){const f=u[d].trim(),[b,p]=f.split(":");qp[b]&&$p(t,o,b,p.trim())}}return{strokeStyle:o.useStroke?l:null,fillStyle:o.useFill?r:null,useFill:o.useFill,useStroke:o.useStroke}}function $p(s,t,n,l){switch(n){case"stroke":if(l!=="none"){if(l.startsWith("url(")){const r=Op(l);t.strokeStyle.fill=s.defs[r]}else t.strokeStyle.color=Ge.shared.setValue(l).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(l);break;case"fill":if(l!=="none"){if(l.startsWith("url(")){const r=Op(l);t.fillStyle.fill=s.defs[r]}else t.fillStyle.color=Ge.shared.setValue(l).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(l);break;case"stroke-opacity":t.strokeStyle.alpha=Number(l);break;case"opacity":t.fillStyle.alpha=Number(l),t.strokeStyle.alpha=Number(l);break}}function tR(s){if(s.length<=2)return!0;const t=s.map(d=>d.area).sort((d,f)=>f-d),[n,l]=t,r=t[t.length-1],o=n/l,u=l/r;return!(o>3&&u<2)}function eR(s){return s.split(/(?=[Mm])/).filter(l=>l.trim().length>0)}function nR(s){const t=s.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!t||t.length<4)return 0;const n=t.map(Number),l=[],r=[];for(let p=0;p<n.length;p+=2)p+1<n.length&&(l.push(n[p]),r.push(n[p+1]));if(l.length===0||r.length===0)return 0;const o=Math.min(...l),u=Math.max(...l),d=Math.min(...r),f=Math.max(...r);return(u-o)*(f-d)}function ty(s,t){const n=new mi(s,!1);for(const l of n.instructions)t.instructions.push(l)}function iR(s,t){if(typeof s=="string"){const u=document.createElement("div");u.innerHTML=s.trim(),s=u.querySelector("svg")}const n={context:t,defs:{},path:new mi};O2(s,n);const l=s.children,{fillStyle:r,strokeStyle:o}=PX(s,n);for(let u=0;u<l.length;u++){const d=l[u];d.nodeName.toLowerCase()!=="defs"&&jX(d,n,r,o)}return t}function jX(s,t,n,l){const r=s.children,{fillStyle:o,strokeStyle:u}=PX(s,t);o&&n?n={...n,...o}:o&&(n=o),u&&l?l={...l,...u}:u&&(l=u);const d=!n&&!l;d&&(n={color:0});let f,b,p,y,G,g,S,V,W,T,E,F,M,N,_,H,ut;switch(s.nodeName.toLowerCase()){case"path":{N=s.getAttribute("d");const ot=s.getAttribute("fill-rule"),ct=eR(N),O=ot==="evenodd",j=ct.length>1;if(O&&j){const q=ct.map(w=>({path:w,area:nR(w)}));if(q.sort((w,I)=>I.area-w.area),ct.length>3||!tR(q))for(let w=0;w<q.length;w++){const I=q[w],at=w===0;t.context.beginPath();const et=new mi(void 0,!0);ty(I.path,et),t.context.path(et),at?(n&&t.context.fill(n),l&&t.context.stroke(l)):t.context.cut()}else for(let w=0;w<q.length;w++){const I=q[w],at=w%2===1;t.context.beginPath();const et=new mi(void 0,!0);ty(I.path,et),t.context.path(et),at?t.context.cut():(n&&t.context.fill(n),l&&t.context.stroke(l))}}else{const q=ot?ot==="evenodd":!0;_=new mi(N,q),t.context.path(_),n&&t.context.fill(n),l&&t.context.stroke(l)}break}case"circle":S=ce(s,"cx",0),V=ce(s,"cy",0),W=ce(s,"r",0),t.context.ellipse(S,V,W,W),n&&t.context.fill(n),l&&t.context.stroke(l);break;case"rect":f=ce(s,"x",0),b=ce(s,"y",0),H=ce(s,"width",0),ut=ce(s,"height",0),T=ce(s,"rx",0),E=ce(s,"ry",0),T||E?t.context.roundRect(f,b,H,ut,T||E):t.context.rect(f,b,H,ut),n&&t.context.fill(n),l&&t.context.stroke(l);break;case"ellipse":S=ce(s,"cx",0),V=ce(s,"cy",0),T=ce(s,"rx",0),E=ce(s,"ry",0),t.context.beginPath(),t.context.ellipse(S,V,T,E),n&&t.context.fill(n),l&&t.context.stroke(l);break;case"line":p=ce(s,"x1",0),y=ce(s,"y1",0),G=ce(s,"x2",0),g=ce(s,"y2",0),t.context.beginPath(),t.context.moveTo(p,y),t.context.lineTo(G,g),l&&t.context.stroke(l);break;case"polygon":M=s.getAttribute("points"),F=M.match(/-?\d+/g).map(ot=>parseInt(ot,10)),t.context.poly(F,!0),n&&t.context.fill(n),l&&t.context.stroke(l);break;case"polyline":M=s.getAttribute("points"),F=M.match(/-?\d+/g).map(ot=>parseInt(ot,10)),t.context.poly(F,!1),l&&t.context.stroke(l);break;case"g":case"svg":break;default:{Pe(`[SVG parser] <${s.nodeName}> elements unsupported`);break}}d&&(n=null);for(let ot=0;ot<r.length;ot++)jX(r[ot],t,n,l)}function lR(s){return Ge.isColorLike(s)}function ey(s){return s instanceof to}function ny(s){return s instanceof bi}function sR(s){return s instanceof Mt}function aR(s,t,n){const l=Ge.shared.setValue(t??0);return s.color=l.toNumber(),s.alpha=l.alpha===1?n.alpha:l.alpha,s.texture=Mt.WHITE,{...n,...s}}function rR(s,t,n){return s.texture=t,{...n,...s}}function iy(s,t,n){return s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,{...n,...s}}function ly(s,t,n){return t.buildGradient(),s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,s.textureSpace=t.textureSpace,{...n,...s}}function cR(s,t){const n={...t,...s},l=Ge.shared.setValue(n.color);return n.alpha*=l.alpha,n.color=l.toNumber(),n}function Xl(s,t){if(s==null)return null;const n={},l=s;return lR(s)?aR(n,s,t):sR(s)?rR(n,s,t):ey(s)?iy(n,s,t):ny(s)?ly(n,s,t):l.fill&&ey(l.fill)?iy(l,l.fill,t):l.fill&&ny(l.fill)?ly(l,l.fill,t):cR(l,t)}function Pc(s,t){const{width:n,alignment:l,miterLimit:r,cap:o,join:u,pixelLine:d,...f}=t,b=Xl(s,f);return b?{width:n,alignment:l,miterLimit:r,cap:o,join:u,pixelLine:d,...b}:null}const oR=new ze,sy=new Ht,_h=class Pn extends jn{constructor(){super(...arguments),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=ue("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this.destroyed=!1,this._activePath=new mi,this._transform=new Ht,this._fillStyle={...Pn.defaultFillStyle},this._strokeStyle={...Pn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Tn,this._boundsDirty=!0}clone(){const t=new Pn;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=Xl(t,Pn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=Pc(t,Pn.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=Xl(t,Pn.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=Xl(t,Pn.defaultStrokeStyle),this}texture(t,n,l,r,o,u){return this.instructions.push({action:"texture",data:{image:t,dx:l||0,dy:r||0,dw:o||t.frame.width,dh:u||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?Ge.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new mi,this}fill(t,n){let l;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r?.action==="stroke"?l=r.data.path:l=this._activePath.clone(),l?(t!=null&&(n!==void 0&&typeof t=="number"&&(Ut(oe,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:n}),this._fillStyle=Xl(t,Pn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:l}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:n}=this._activePath.getLastPoint(ze.shared);this._activePath.clear(),this._activePath.moveTo(t,n)}stroke(t){let n;const l=this.instructions[this.instructions.length-1];return this._tick===0&&l?.action==="fill"?n=l.data.path:n=this._activePath.clone(),n?(t!=null&&(this._strokeStyle=Pc(t,Pn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const n=this.instructions[this.instructions.length-1-t],l=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(l);else{n.data.hole=l;break}}return this._initNextPathLocation(),this}arc(t,n,l,r,o,u){this._tick++;const d=this._transform;return this._activePath.arc(d.a*t+d.c*n+d.tx,d.b*t+d.d*n+d.ty,l,r,o,u),this}arcTo(t,n,l,r,o){this._tick++;const u=this._transform;return this._activePath.arcTo(u.a*t+u.c*n+u.tx,u.b*t+u.d*n+u.ty,u.a*l+u.c*r+u.tx,u.b*l+u.d*r+u.ty,o),this}arcToSvg(t,n,l,r,o,u,d){this._tick++;const f=this._transform;return this._activePath.arcToSvg(t,n,l,r,o,f.a*u+f.c*d+f.tx,f.b*u+f.d*d+f.ty),this}bezierCurveTo(t,n,l,r,o,u,d){this._tick++;const f=this._transform;return this._activePath.bezierCurveTo(f.a*t+f.c*n+f.tx,f.b*t+f.d*n+f.ty,f.a*l+f.c*r+f.tx,f.b*l+f.d*r+f.ty,f.a*o+f.c*u+f.tx,f.b*o+f.d*u+f.ty,d),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,n,l,r){return this._tick++,this._activePath.ellipse(t,n,l,r,this._transform.clone()),this}circle(t,n,l){return this._tick++,this._activePath.circle(t,n,l,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,n){this._tick++;const l=this._transform;return this._activePath.lineTo(l.a*t+l.c*n+l.tx,l.b*t+l.d*n+l.ty),this}moveTo(t,n){this._tick++;const l=this._transform,r=this._activePath.instructions,o=l.a*t+l.c*n+l.tx,u=l.b*t+l.d*n+l.ty;return r.length===1&&r[0].action==="moveTo"?(r[0].data[0]=o,r[0].data[1]=u,this):(this._activePath.moveTo(o,u),this)}quadraticCurveTo(t,n,l,r,o){this._tick++;const u=this._transform;return this._activePath.quadraticCurveTo(u.a*t+u.c*n+u.tx,u.b*t+u.d*n+u.ty,u.a*l+u.c*r+u.tx,u.b*l+u.d*r+u.ty,o),this}rect(t,n,l,r){return this._tick++,this._activePath.rect(t,n,l,r,this._transform.clone()),this}roundRect(t,n,l,r,o){return this._tick++,this._activePath.roundRect(t,n,l,r,o,this._transform.clone()),this}poly(t,n){return this._tick++,this._activePath.poly(t,n,this._transform.clone()),this}regularPoly(t,n,l,r,o=0,u){return this._tick++,this._activePath.regularPoly(t,n,l,r,o,u),this}roundPoly(t,n,l,r,o,u){return this._tick++,this._activePath.roundPoly(t,n,l,r,o,u),this}roundShape(t,n,l,r){return this._tick++,this._activePath.roundShape(t,n,l,r),this}filletRect(t,n,l,r,o){return this._tick++,this._activePath.filletRect(t,n,l,r,o),this}chamferRect(t,n,l,r,o,u){return this._tick++,this._activePath.chamferRect(t,n,l,r,o,u),this}star(t,n,l,r,o=0,u=0){return this._tick++,this._activePath.star(t,n,l,r,o,u,this._transform.clone()),this}svg(t){return this._tick++,iR(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,n=t){return this._transform.scale(t,n),this}setTransform(t,n,l,r,o,u){return t instanceof Ht?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,n,l,r,o,u),this)}transform(t,n,l,r,o,u){return t instanceof Ht?(this._transform.append(t),this):(sy.set(t,n,l,r,o,u),this._transform.append(sy),this)}translate(t,n=t){return this._transform.translate(t,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const t=this._bounds;t.clear();for(let n=0;n<this.instructions.length;n++){const l=this.instructions[n],r=l.action;if(r==="fill"){const o=l.data;t.addBounds(o.path.bounds)}else if(r==="texture"){const o=l.data;t.addFrame(o.dx,o.dy,o.dx+o.dw,o.dy+o.dh,o.transform)}if(r==="stroke"){const o=l.data,u=o.style.alignment,d=o.style.width*(1-u),f=o.path.bounds;t.addFrame(f.minX-d,f.minY-d,f.maxX+d,f.maxY+d)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const n=this.instructions;let l=!1;for(let r=0;r<n.length;r++){const o=n[r],u=o.data,d=u.path;if(!o.action||!d)continue;const f=u.style,b=d.shapePath.shapePrimitives;for(let p=0;p<b.length;p++){const y=b[p].shape;if(!f||!y)continue;const G=b[p].transform,g=G?G.applyInverse(t,oR):t;if(o.action==="fill")l=y.contains(g.x,g.y);else{const V=f;l=y.strokeContains(g.x,g.y,V.width,V.alignment)}const S=u.hole;if(S){const V=S.shapePath?.shapePrimitives;if(V)for(let W=0;W<V.length;W++)V[W].shape.contains(g.x,g.y)&&(l=!1)}if(l)return!0}}return l}unload(){this.emit("unload",this);for(const t in this._gpuData)this._gpuData[t]?.destroy();this._gpuData=Object.create(null)}destroy(t=!1){if(this.destroyed)return;if(this.destroyed=!0,this._stateStack.length=0,this._transform=null,this.unload(),this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const l=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(l)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(l))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};_h.defaultFillStyle={color:16777215,alpha:1,texture:Mt.WHITE,matrix:null,fill:null,textureSpace:"local"};_h.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Mt.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Hn=_h;const zh=class ys extends jn{constructor(t={}){super(),this.uid=ue("textStyle"),this._tick=0,uR(t);const n={...ys.defaultTextStyle,...t};for(const l in n){const r=l;this[r]=n[l]}this.update(),this._tick=0}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.update())}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...ys.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...ys.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily!==t&&(this._fontFamily=t,this.update())}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.update())}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.update())}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.update())}get filters(){return this._filters}set filters(t){this._filters!==t&&(this._filters=Object.freeze(t),this.update())}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.update())}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...Hn.defaultFillStyle,...t},()=>{this._fill=Xl({...this._originalFill},Hn.defaultFillStyle)})),this._fill=Xl(t===0?"black":t,Hn.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...Hn.defaultStrokeStyle,...t},()=>{this._stroke=Pc({...this._originalStroke},Hn.defaultStrokeStyle)})),this._stroke=Pc(t,Hn.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const t=ys.defaultTextStyle;for(const n in t)this[n]=t[n]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new ys({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let t=0;if(this._filters)for(let n=0;n<this._filters.length;n++)t+=this._filters[n].padding;return Math.max(this._padding,t)}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const l=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(l),this._originalFill?.texture&&this._originalFill.texture.destroy(l),this._stroke?.texture&&this._stroke.texture.destroy(l),this._originalStroke?.texture&&this._originalStroke.texture.destroy(l)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,n){return new Proxy(t,{set:(l,r,o)=>(l[r]===o||(l[r]=o,n?.(r,o),this.update()),!0)})}_isFillStyle(t){return(t??null)!==null&&!(Ge.isColorLike(t)||t instanceof bi||t instanceof to)}};zh.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};zh.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let jc=zh;function uR(s){const t=s;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const n=jc.defaultDropShadow;s.dropShadow={alpha:t.dropShadowAlpha??n.alpha,angle:t.dropShadowAngle??n.angle,blur:t.dropShadowBlur??n.blur,color:t.dropShadowColor??n.color,distance:t.dropShadowDistance??n.distance}}if(t.strokeThickness!==void 0){Ut(oe,"strokeThickness is now a part of stroke");const n=t.stroke;let l={};if(Ge.isColorLike(n))l.color=n;else if(n instanceof bi||n instanceof to)l.fill=n;else if(Object.hasOwnProperty.call(n,"color")||Object.hasOwnProperty.call(n,"fill"))l=n;else throw new Error("Invalid stroke value.");s.stroke={...l,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){if(Ut(oe,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(t.fill)||t.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");t.fill.length!==t.fillGradientStops.length&&Pe("The number of fill colors must match the number of fill gradient stops.");const n=new bi({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),l=t.fillGradientStops.slice(),r=t.fill.map(o=>Ge.shared.setValue(o).toNumber());l.forEach((o,u)=>{n.addColorStop(o,r[u])}),s.fill={fill:n}}}class dR{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,n){const l=mn.get().createCanvas();l.width=t,l.height=n;const r=l.getContext("2d");return{canvas:l,context:r}}getOptimalCanvasAndContext(t,n,l=1){t=Math.ceil(t*l-1e-6),n=Math.ceil(n*l-1e-6),t=Gs(t),n=Gs(n);const r=(t<<17)+(n<<1);this._canvasPool[r]||(this._canvasPool[r]=[]);let o=this._canvasPool[r].pop();return o||(o=this._createCanvasAndContext(t,n)),o}returnCanvasAndContext(t){const n=t.canvas,{width:l,height:r}=n,o=(l<<17)+(r<<1);t.context.resetTransform(),t.context.clearRect(0,0,l,r),this._canvasPool[o].push(t)}clear(){this._canvasPool={}}}const fh=new dR;Aa.register(fh);const ay=1e5;function ry(s,t,n,l=0){if(s.texture===Mt.WHITE&&!s.fill)return Ge.shared.setValue(s.color).setAlpha(s.alpha??1).toHexa();if(s.fill){if(s.fill instanceof to){const r=s.fill,o=t.createPattern(r.texture.source.resource,"repeat"),u=r.transform.copyTo(Ht.shared);return u.scale(r.texture.frame.width,r.texture.frame.height),o.setTransform(u),o}else if(s.fill instanceof bi){const r=s.fill,o=r.type==="linear",u=r.textureSpace==="local";let d=1,f=1;u&&n&&(d=n.width+l,f=n.height+l);let b,p=!1;if(o){const{start:y,end:G}=r;b=t.createLinearGradient(y.x*d,y.y*f,G.x*d,G.y*f),p=Math.abs(G.x-y.x)<Math.abs((G.y-y.y)*.1)}else{const{center:y,innerRadius:G,outerCenter:g,outerRadius:S}=r;b=t.createRadialGradient(y.x*d,y.y*f,G*d,g.x*d,g.y*f,S*d)}if(p&&u&&n){const y=n.lineHeight/f;for(let G=0;G<n.lines.length;G++){const g=(G*n.lineHeight+l/2)/f;r.colorStops.forEach(S=>{const V=g+S.offset*y;b.addColorStop(Math.floor(V*ay)/ay,Ge.shared.setValue(S.color).toHex())})}}else r.colorStops.forEach(y=>{b.addColorStop(y.offset,Ge.shared.setValue(y.color).toHex())});return b}}else{const r=t.createPattern(s.texture.source.resource,"repeat"),o=s.matrix.copyTo(Ht.shared);return o.scale(s.texture.frame.width,s.texture.frame.height),r.setTransform(o),r}return Pe("FillStyle not recognised",s),"red"}class re extends Ch{constructor(t){t instanceof Hn&&(t={context:t});const{context:n,roundPixels:l,...r}=t||{};super({label:"Graphics",...r}),this.renderPipeId="graphics",n?this.context=n:(this.context=this._ownedContext=new Hn,this.context.autoGarbageCollect=this.autoGarbageCollect),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=l??!1}set context(t){t!==this._context&&(this._context&&(this._context.off("update",this.onViewUpdate,this),this._context.off("unload",this.unload,this)),this._context=t,this._context.on("update",this.onViewUpdate,this),this._context.on("unload",this.unload,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||t?.context===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_onTouch(t){this._gcLastUsed=t,this._context._gcLastUsed=t}_callContextMethod(t,n){return this.context[t](...n),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new re(this._context.clone()):(this._ownedContext=null,new re(this._context))}lineStyle(t,n,l){Ut(oe,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const r={};return t&&(r.width=t),n&&(r.color=n),l&&(r.alpha=l),this.context.strokeStyle=r,this}beginFill(t,n){Ut(oe,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const l={};return t!==void 0&&(l.color=t),n!==void 0&&(l.alpha=n),this.context.fillStyle=l,this}endFill(){Ut(oe,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==Hn.defaultStrokeStyle.width||t.color!==Hn.defaultStrokeStyle.color||t.alpha!==Hn.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return Ut(oe,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return Ut(oe,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return Ut(oe,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return Ut(oe,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return Ut(oe,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return Ut(oe,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}class hR extends Ch{constructor(t,n){const{text:l,resolution:r,style:o,anchor:u,width:d,height:f,roundPixels:b,...p}=t;super({...p}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=n,this.text=l??"",this.style=o,this.resolution=r??null,this.allowChildren=!1,this._anchor=new we({_onUpdate:()=>{this.onViewUpdate()}}),u&&(this.anchor=u),this.roundPixels=b??!1,d!==void 0&&(this.width=d),f!==void 0&&(this.height=f)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}set text(t){t=t.toString(),this._text!==t&&(this._text=t,this.onViewUpdate())}get text(){return this._text}set resolution(t){this._autoResolution=t===null,this._resolution=t,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(t){t||(t={}),this._style?.off("update",this.onViewUpdate,this),t instanceof this._styleClass?this._style=t:this._style=new this._styleClass(t),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(t){this._setWidth(t,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(t){this._setHeight(t,this.bounds.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this.bounds.width,t.height=Math.abs(this.scale.y)*this.bounds.height,t}setSize(t,n){typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,this.bounds.width),n!==void 0&&this._setHeight(n,this.bounds.height)}containsPoint(t){const n=this.bounds.width,l=this.bounds.height,r=-n*this.anchor.x;let o=0;return t.x>=r&&t.x<=r+n&&(o=-l*this.anchor.y,t.y>=o&&t.y<=o+l)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(t=!1){super.destroy(t),this.owner=null,this._bounds=null,this._anchor=null,(typeof t=="boolean"?t:t?.style)&&this._style.destroy(t),this._style=null,this._text=null}get styleKey(){return`${this._text}:${this._style.styleKey}:${this._resolution}`}}function fR(s,t){let n=s[0]??{};return(typeof n=="string"||s[1])&&(Ut(oe,`use new ${t}({ text: "hi!", style }) instead`),n={text:n,style:s[1]}),n}let hl=null,hi=null;function mR(s,t){hl||(hl=mn.get().createCanvas(256,128),hi=hl.getContext("2d",{willReadFrequently:!0}),hi.globalCompositeOperation="copy",hi.globalAlpha=1),(hl.width<s||hl.height<t)&&(hl.width=Gs(s),hl.height=Gs(t))}function cy(s,t,n){for(let l=0,r=4*n*t;l<t;++l,r+=4)if(s[r+3]!==0)return!1;return!0}function oy(s,t,n,l,r){const o=4*t;for(let u=l,d=l*o+4*n;u<=r;++u,d+=o)if(s[d+3]!==0)return!1;return!0}function bR(...s){let t=s[0];t.canvas||(t={canvas:s[0],resolution:s[1]});const{canvas:n}=t,l=Math.min(t.resolution??1,1),r=t.width??n.width,o=t.height??n.height;let u=t.output;if(mR(r,o),!hi)throw new TypeError("Failed to get canvas 2D context");hi.drawImage(n,0,0,r,o,0,0,r*l,o*l);const f=hi.getImageData(0,0,r,o).data;let b=0,p=0,y=r-1,G=o-1;for(;p<o&&cy(f,r,p);)++p;if(p===o)return me.EMPTY;for(;cy(f,r,G);)--G;for(;oy(f,r,b,p,G);)++b;for(;oy(f,r,y,p,G);)--y;return++y,++G,hi.globalCompositeOperation="source-over",hi.strokeRect(b,p,y-b,G-p),hi.globalCompositeOperation="copy",u??(u=new me),u.set(b/l,p/l,(y-b)/l,(G-p)/l),u}const uy=new me;class pR{getCanvasAndContext(t){const{text:n,style:l,resolution:r=1}=t,o=l._getFinalPadding(),u=ps.measureText(n||" ",l),d=Math.ceil(Math.ceil(Math.max(1,u.width)+o*2)*r),f=Math.ceil(Math.ceil(Math.max(1,u.height)+o*2)*r),b=fh.getOptimalCanvasAndContext(d,f);this._renderTextToCanvas(n,l,o,r,b);const p=l.trim?bR({canvas:b.canvas,width:d,height:f,resolution:1,output:uy}):uy.set(0,0,d,f);return{canvasAndContext:b,frame:p}}returnCanvasAndContext(t){fh.returnCanvasAndContext(t)}_renderTextToCanvas(t,n,l,r,o){const{canvas:u,context:d}=o,f=CX(n),b=ps.measureText(t||" ",n),p=b.lines,y=b.lineHeight,G=b.lineWidths,g=b.maxLineWidth,S=b.fontProperties,V=u.height;if(d.resetTransform(),d.scale(r,r),d.textBaseline=n.textBaseline,n._stroke?.width){const F=n._stroke;d.lineWidth=F.width,d.miterLimit=F.miterLimit,d.lineJoin=F.join,d.lineCap=F.cap}d.font=f;let W,T;const E=n.dropShadow?2:1;for(let F=0;F<E;++F){const M=n.dropShadow&&F===0,N=M?Math.ceil(Math.max(1,V)+l*2):0,_=N*r;if(M){d.fillStyle="black",d.strokeStyle="black";const ot=n.dropShadow,ct=ot.color,O=ot.alpha;d.shadowColor=Ge.shared.setValue(ct).setAlpha(O).toRgbaString();const j=ot.blur*r,lt=ot.distance*r;d.shadowBlur=j,d.shadowOffsetX=Math.cos(ot.angle)*lt,d.shadowOffsetY=Math.sin(ot.angle)*lt+_}else{if(d.fillStyle=n._fill?ry(n._fill,d,b,l*2):null,n._stroke?.width){const ot=n._stroke.width*.5+l*2;d.strokeStyle=ry(n._stroke,d,b,ot)}d.shadowColor="black"}let H=(y-S.fontSize)/2;y-S.fontSize<0&&(H=0);const ut=n._stroke?.width??0;for(let ot=0;ot<p.length;ot++)W=ut/2,T=ut/2+ot*y+S.ascent+H,n.align==="right"?W+=g-G[ot]:n.align==="center"&&(W+=(g-G[ot])/2),n._stroke?.width&&this._drawLetterSpacing(p[ot],n,o,W+l,T+l-N,!0),n._fill!==void 0&&this._drawLetterSpacing(p[ot],n,o,W+l,T+l-N)}}_drawLetterSpacing(t,n,l,r,o,u=!1){const{context:d}=l,f=n.letterSpacing;let b=!1;if(ps.experimentalLetterSpacingSupported&&(ps.experimentalLetterSpacing?(d.letterSpacing=`${f}px`,d.textLetterSpacing=`${f}px`,b=!0):(d.letterSpacing="0px",d.textLetterSpacing="0px")),f===0||b){u?d.strokeText(t,r,o):d.fillText(t,r,o);return}let p=r;const y=ps.graphemeSegmenter(t);let G=d.measureText(t).width,g=0;for(let S=0;S<y.length;++S){const V=y[S];u?d.strokeText(V,p,o):d.fillText(V,p,o);let W="";for(let T=S+1;T<y.length;++T)W+=y[T];g=d.measureText(W).width,p+=G-g+f,G=g}}}const dy=new pR;class hy extends hR{constructor(...t){const n=fR(t,"Text");super(n,jc),this.renderPipeId="text",n.textureStyle&&(this.textureStyle=n.textureStyle instanceof Uc?n.textureStyle:new Uc(n.textureStyle))}updateBounds(){const t=this._bounds,n=this._anchor;let l=0,r=0;if(this._style.trim){const{frame:o,canvasAndContext:u}=dy.getCanvasAndContext({text:this.text,style:this._style,resolution:1});dy.returnCanvasAndContext(u),l=o.width,r=o.height}else{const o=ps.measureText(this._text,this._style);l=o.width,r=o.height}t.minX=-n._x*l,t.maxX=t.minX+l,t.minY=-n._y*r,t.maxY=t.minY+r}}Yn.add(yx,Xx);const fy=s=>{let t;const n=new Set,l=(b,p)=>{const y=typeof b=="function"?b(t):b;if(!Object.is(y,t)){const G=t;t=p??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(g=>g(t,G))}},r=()=>t,d={setState:l,getState:r,getInitialState:()=>f,subscribe:b=>(n.add(b),()=>n.delete(b))},f=t=s(l,r,d);return d},yR=(s=>s?fy(s):fy),XR=s=>s;function ZR(s,t=XR){const n=Ya.useSyncExternalStore(s.subscribe,Ya.useCallback(()=>t(s.getState()),[s,t]),Ya.useCallback(()=>t(s.getInitialState()),[s,t]));return Ya.useDebugValue(n),n}const my=s=>{const t=yR(s),n=l=>ZR(t,l);return Object.assign(n,t),n},xR=(s=>s?my(s):my),$=xR(s=>({myId:"",isHost:!1,username:`Player ${Math.floor(Math.random()*1e3)}`,activeTool:"pan",toolColor:"#ff0000",toolThickness:3,tokens:[],map:{url:null,scale:50,offsetX:0,offsetY:0,fogEnabled:!1,revealedAreas:[],dynamicLightingEnabled:!1},chat:[],turnOrder:[],macros:[],audio:{url:null,isPlaying:!1},handout:null,drawings:[],walls:[],texts:[],pings:[],scenes:[],activeSceneId:"default",savedAssets:[],setIdentity:(t,n)=>s({myId:t,isHost:n}),setUsername:t=>s({username:t}),setActiveTool:t=>s({activeTool:t}),setToolColor:t=>s({toolColor:t}),setToolThickness:t=>s({toolThickness:t}),addToken:t=>s(n=>({tokens:[...n.tokens,t]})),updateToken:(t,n)=>s(l=>({tokens:l.tokens.map(o=>{if(o.id!==t)return o;const u={...o,...n};if(u.stats&&u.stats.hp<=0&&(!o.stats||o.stats.hp>0)){const d=new Set(u.conditions||[]);d.add("Dead"),d.add("Prone"),u.conditions=Array.from(d)}return u})})),removeToken:t=>s(n=>({tokens:n.tokens.filter(l=>l.id!==t)})),updateMap:t=>s(n=>({map:{...n.map,...t}})),toggleFog:t=>s(n=>({map:{...n.map,fogEnabled:t}})),revealArea:(t,n,l)=>s(r=>({map:{...r.map,revealedAreas:[...r.map.revealedAreas,{x:t,y:n,radius:l}]}})),resetFog:()=>s(t=>({map:{...t.map,revealedAreas:[]}})),addChatMessage:t=>s(n=>({chat:[...n.chat,t]})),addPing:t=>s(n=>({pings:[...n.pings,t]})),removePing:t=>s(n=>({pings:n.pings.filter(l=>l.id!==t)})),setTurnOrder:t=>s({turnOrder:t}),addToInitiative:(t,n)=>s(l=>{const r={id:Date.now().toString(),name:t,initiative:n};return{turnOrder:[...l.turnOrder,r].sort((u,d)=>d.initiative-u.initiative)}}),nextTurn:()=>s(t=>{if(t.turnOrder.length<=1)return t;const[n,...l]=t.turnOrder;return{turnOrder:[...l,n]}}),clearInitiative:()=>s({turnOrder:[]}),removeFromInitiative:t=>s(n=>({turnOrder:n.turnOrder.filter(l=>l.id!==t)})),addMacro:t=>s(n=>({macros:[...n.macros,t]})),removeMacro:t=>s(n=>({macros:n.macros.filter(l=>l.id!==t)})),setAudio:(t,n)=>s({audio:{url:t,isPlaying:n}}),setHandout:t=>s({handout:t}),addDrawing:t=>s(n=>({drawings:[...n.drawings,t]})),removeDrawing:t=>s(n=>({drawings:n.drawings.filter(l=>l.id!==t)})),clearDrawings:()=>s({drawings:[]}),addText:t=>s(n=>({texts:[...n.texts,t]})),removeText:t=>s(n=>({texts:n.texts.filter(l=>l.id!==t)})),clearTexts:()=>s({texts:[]}),addWall:t=>s(n=>({walls:[...n.walls,t]})),removeWall:t=>s(n=>({walls:n.walls.filter(l=>l.id!==t)})),clearWalls:()=>s({walls:[]}),toggleWallDoor:t=>s(n=>({walls:n.walls.map(l=>l.id===t?{...l,isOpen:!l.isOpen}:l)})),toggleDynamicLighting:t=>s(n=>({map:{...n.map,dynamicLightingEnabled:t}})),saveScene:t=>s(n=>{const l=Date.now().toString(),r={id:l,name:t,map:n.map,tokens:n.tokens,drawings:n.drawings,walls:n.walls,texts:n.texts};return{scenes:[...n.scenes,r],activeSceneId:l}}),loadScene:t=>s(n=>{const l=n.scenes.find(r=>r.id===t);return l?{activeSceneId:t,map:l.map,tokens:l.tokens,drawings:l.drawings,walls:l.walls,texts:l.texts||[]}:n}),addSavedAsset:t=>s(n=>({savedAssets:[...n.savedAssets,t]})),removeSavedAsset:t=>s(n=>({savedAssets:n.savedAssets.filter(l=>l.id!==t)})),syncState:t=>s(n=>({...n,...t}))}));class gR{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return GR(t).buffer}}function GR(s){let t=0;for(const r of s)t+=r.byteLength;const n=new Uint8Array(t);let l=0;for(const r of s){const o=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);n.set(o,l),l+=r.byteLength}return n}function QX(s){return new RR(s).unpack()}function IX(s){const t=new vR,n=t.pack(s);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class RR{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let l=0,r="",o,u;for(;l<t;)o=n[l],o<160?(u=o,l++):(o^192)<32?(u=(o&31)<<6|n[l+1]&63,l+=2):(o^224)<16?(u=(o&15)<<12|(n[l+1]&63)<<6|n[l+2]&63,l+=3):(u=(o&7)<<18|(n[l+1]&63)<<12|(n[l+2]&63)<<6|n[l+3]&63,l+=4),r+=String.fromCodePoint(u);return this.index+=t,r}unpack_array(t){const n=new Array(t);for(let l=0;l<t;l++)n[l]=this.unpack();return n}unpack_map(t){const n={};for(let l=0;l<t;l++){const r=this.unpack();n[r]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,l=(t>>23&255)-127,r=t&8388607|8388608;return(n===0?1:-1)*r*2**(l-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),l=t>>31,r=(t>>20&2047)-1023,u=(t&1048575|1048576)*2**(r-20)+n*2**(r-52);return(l===0?1:-1)*u}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class vR{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const l=this.pack_array(t);if(l instanceof Promise)return l.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const l=t;this.pack_bin(new Uint8Array(l.buffer,l.byteOffset,l.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(l=>{this.pack_bin(new Uint8Array(l)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const l=this.pack_object(t);if(l instanceof Promise)return l.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),l=n.length;if(l<=15)this.pack_uint8(176+l);else if(l<=65535)this._bufferBuilder.append(216),this.pack_uint16(l);else if(l<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(l);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const l=r=>{if(r<n){const o=this.pack(t[r]);return o instanceof Promise?o.then(()=>l(r+1)):l(r+1)}};return l(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const l=Math.floor(Math.log(t)/Math.LN2),r=t/2**l-1,o=Math.floor(r*2**52),u=2**32,d=n<<31|l+1023<<20|o/u&1048575,f=o%u;this._bufferBuilder.append(203),this.pack_int32(d),this.pack_int32(f)}pack_object(t){const n=Object.keys(t),l=n.length;if(l<=15)this.pack_uint8(128+l);else if(l<=65535)this._bufferBuilder.append(222),this.pack_uint16(l);else if(l<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(l);else throw new Error("Invalid length");const r=o=>{if(o<n.length){const u=n[o];if(t.hasOwnProperty(u)){this.pack(u);const d=this.pack(t[u]);if(d instanceof Promise)return d.then(()=>r(o+1))}return r(o+1)}};return r(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,l=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((l&4278190080)>>>24),this._bufferBuilder.append((l&16711680)>>>16),this._bufferBuilder.append((l&65280)>>>8),this._bufferBuilder.append(l&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),l=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((l&4278190080)>>>24),this._bufferBuilder.append((l&16711680)>>>16),this._bufferBuilder.append((l&65280)>>>8),this._bufferBuilder.append(l&255)}constructor(){this._bufferBuilder=new gR,this._textEncoder=new TextEncoder}}let AX=!0,DX=!0;function wa(s,t,n){const l=s.match(t);return l&&l.length>=n&&parseFloat(l[n],10)}function Gl(s,t,n){if(!s.RTCPeerConnection)return;const l=s.RTCPeerConnection.prototype,r=l.addEventListener;l.addEventListener=function(u,d){if(u!==t)return r.apply(this,arguments);const f=b=>{const p=n(b);p&&(d.handleEvent?d.handleEvent(p):d(p))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(d,f),r.apply(this,[u,f])};const o=l.removeEventListener;l.removeEventListener=function(u,d){if(u!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(d))return o.apply(this,arguments);const f=this._eventMap[t].get(d);return this._eventMap[t].delete(d),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[u,f])},Object.defineProperty(l,"on"+t,{get(){return this["_on"+t]},set(u){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),u&&this.addEventListener(t,this["_on"+t]=u)},enumerable:!0,configurable:!0})}function SR(s){return typeof s!="boolean"?new Error("Argument type: "+typeof s+". Please use a boolean."):(AX=s,s?"adapter.js logging disabled":"adapter.js logging enabled")}function VR(s){return typeof s!="boolean"?new Error("Argument type: "+typeof s+". Please use a boolean."):(DX=!s,"adapter.js deprecation warnings "+(s?"disabled":"enabled"))}function OX(){if(typeof window=="object"){if(AX)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Bh(s,t){DX&&console.warn(s+" is deprecated, please use "+t+" instead.")}function WR(s){const t={browser:null,version:null};if(typeof s>"u"||!s.navigator||!s.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=s;if(n.userAgentData&&n.userAgentData.brands){const l=n.userAgentData.brands.find(r=>r.brand==="Chromium");if(l)return{browser:"chrome",version:parseInt(l.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(wa(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||s.isSecureContext===!1&&s.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(wa(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(s.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(wa(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=s.RTCRtpTransceiver&&"currentDirection"in s.RTCRtpTransceiver.prototype,t._safariVersion=wa(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function by(s){return Object.prototype.toString.call(s)==="[object Object]"}function qX(s){return by(s)?Object.keys(s).reduce(function(t,n){const l=by(s[n]),r=l?qX(s[n]):s[n],o=l&&!Object.keys(r).length;return r===void 0||o?t:Object.assign(t,{[n]:r})},{}):s}function mh(s,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(l=>{l.endsWith("Id")?mh(s,s.get(t[l]),n):l.endsWith("Ids")&&t[l].forEach(r=>{mh(s,s.get(r),n)})}))}function py(s,t,n){const l=n?"outbound-rtp":"inbound-rtp",r=new Map;if(t===null)return r;const o=[];return s.forEach(u=>{u.type==="track"&&u.trackIdentifier===t.id&&o.push(u)}),o.forEach(u=>{s.forEach(d=>{d.type===l&&d.trackId===u.id&&mh(s,d,r)})}),r}const yy=OX;function $X(s,t){const n=s&&s.navigator;if(!n.mediaDevices)return;const l=function(d){if(typeof d!="object"||d.mandatory||d.optional)return d;const f={};return Object.keys(d).forEach(b=>{if(b==="require"||b==="advanced"||b==="mediaSource")return;const p=typeof d[b]=="object"?d[b]:{ideal:d[b]};p.exact!==void 0&&typeof p.exact=="number"&&(p.min=p.max=p.exact);const y=function(G,g){return G?G+g.charAt(0).toUpperCase()+g.slice(1):g==="deviceId"?"sourceId":g};if(p.ideal!==void 0){f.optional=f.optional||[];let G={};typeof p.ideal=="number"?(G[y("min",b)]=p.ideal,f.optional.push(G),G={},G[y("max",b)]=p.ideal,f.optional.push(G)):(G[y("",b)]=p.ideal,f.optional.push(G))}p.exact!==void 0&&typeof p.exact!="number"?(f.mandatory=f.mandatory||{},f.mandatory[y("",b)]=p.exact):["min","max"].forEach(G=>{p[G]!==void 0&&(f.mandatory=f.mandatory||{},f.mandatory[y(G,b)]=p[G])})}),d.advanced&&(f.optional=(f.optional||[]).concat(d.advanced)),f},r=function(d,f){if(t.version>=61)return f(d);if(d=JSON.parse(JSON.stringify(d)),d&&typeof d.audio=="object"){const b=function(p,y,G){y in p&&!(G in p)&&(p[G]=p[y],delete p[y])};d=JSON.parse(JSON.stringify(d)),b(d.audio,"autoGainControl","googAutoGainControl"),b(d.audio,"noiseSuppression","googNoiseSuppression"),d.audio=l(d.audio)}if(d&&typeof d.video=="object"){let b=d.video.facingMode;b=b&&(typeof b=="object"?b:{ideal:b});const p=t.version<66;if(b&&(b.exact==="user"||b.exact==="environment"||b.ideal==="user"||b.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!p)){delete d.video.facingMode;let y;if(b.exact==="environment"||b.ideal==="environment"?y=["back","rear"]:(b.exact==="user"||b.ideal==="user")&&(y=["front"]),y)return n.mediaDevices.enumerateDevices().then(G=>{G=G.filter(S=>S.kind==="videoinput");let g=G.find(S=>y.some(V=>S.label.toLowerCase().includes(V)));return!g&&G.length&&y.includes("back")&&(g=G[G.length-1]),g&&(d.video.deviceId=b.exact?{exact:g.deviceId}:{ideal:g.deviceId}),d.video=l(d.video),yy("chrome: "+JSON.stringify(d)),f(d)})}d.video=l(d.video)}return yy("chrome: "+JSON.stringify(d)),f(d)},o=function(d){return t.version>=64?d:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[d.name]||d.name,message:d.message,constraint:d.constraint||d.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(d,f,b){r(d,p=>{n.webkitGetUserMedia(p,f,y=>{b&&b(o(y))})})};if(n.getUserMedia=u.bind(n),n.mediaDevices.getUserMedia){const d=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(f){return r(f,b=>d(b).then(p=>{if(b.audio&&!p.getAudioTracks().length||b.video&&!p.getVideoTracks().length)throw p.getTracks().forEach(y=>{y.stop()}),new DOMException("","NotFoundError");return p},p=>Promise.reject(o(p))))}}}function t9(s){s.MediaStream=s.MediaStream||s.webkitMediaStream}function e9(s){if(typeof s=="object"&&s.RTCPeerConnection&&!("ontrack"in s.RTCPeerConnection.prototype)){Object.defineProperty(s.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=l=>{l.stream.addEventListener("addtrack",r=>{let o;s.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(d=>d.track&&d.track.id===r.track.id):o={track:r.track};const u=new Event("track");u.track=r.track,u.receiver=o,u.transceiver={receiver:o},u.streams=[l.stream],this.dispatchEvent(u)}),l.stream.getTracks().forEach(r=>{let o;s.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(d=>d.track&&d.track.id===r.id):o={track:r};const u=new Event("track");u.track=r,u.receiver=o,u.transceiver={receiver:o},u.streams=[l.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Gl(s,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function n9(s){if(typeof s=="object"&&s.RTCPeerConnection&&!("getSenders"in s.RTCPeerConnection.prototype)&&"createDTMFSender"in s.RTCPeerConnection.prototype){const t=function(r,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=r.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:r}};if(!s.RTCPeerConnection.prototype.getSenders){s.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(d,f){let b=r.apply(this,arguments);return b||(b=t(this,d),this._senders.push(b)),b};const o=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(d){o.apply(this,arguments);const f=this._senders.indexOf(d);f!==-1&&this._senders.splice(f,1)}}const n=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(u=>{this._senders.push(t(this,u))})};const l=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],l.apply(this,[o]),o.getTracks().forEach(u=>{const d=this._senders.find(f=>f.track===u);d&&this._senders.splice(this._senders.indexOf(d),1)})}}else if(typeof s=="object"&&s.RTCPeerConnection&&"getSenders"in s.RTCPeerConnection.prototype&&"createDTMFSender"in s.RTCPeerConnection.prototype&&s.RTCRtpSender&&!("dtmf"in s.RTCRtpSender.prototype)){const t=s.RTCPeerConnection.prototype.getSenders;s.RTCPeerConnection.prototype.getSenders=function(){const l=t.apply(this,[]);return l.forEach(r=>r._pc=this),l},Object.defineProperty(s.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function i9(s){if(!(typeof s=="object"&&s.RTCPeerConnection&&s.RTCRtpSender&&s.RTCRtpReceiver))return;if(!("getStats"in s.RTCRtpSender.prototype)){const n=s.RTCPeerConnection.prototype.getSenders;n&&(s.RTCPeerConnection.prototype.getSenders=function(){const o=n.apply(this,[]);return o.forEach(u=>u._pc=this),o});const l=s.RTCPeerConnection.prototype.addTrack;l&&(s.RTCPeerConnection.prototype.addTrack=function(){const o=l.apply(this,arguments);return o._pc=this,o}),s.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(u=>py(u,o.track,!0))}}if(!("getStats"in s.RTCRtpReceiver.prototype)){const n=s.RTCPeerConnection.prototype.getReceivers;n&&(s.RTCPeerConnection.prototype.getReceivers=function(){const r=n.apply(this,[]);return r.forEach(o=>o._pc=this),r}),Gl(s,"track",l=>(l.receiver._pc=l.srcElement,l)),s.RTCRtpReceiver.prototype.getStats=function(){const r=this;return this._pc.getStats().then(o=>py(o,r.track,!1))}}if(!("getStats"in s.RTCRtpSender.prototype&&"getStats"in s.RTCRtpReceiver.prototype))return;const t=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof s.MediaStreamTrack){const l=arguments[0];let r,o,u;return this.getSenders().forEach(d=>{d.track===l&&(r?u=!0:r=d)}),this.getReceivers().forEach(d=>(d.track===l&&(o?u=!0:o=d),d.track===l)),u||r&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function l9(s){s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const t=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(u,d){if(!d)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const f=t.apply(this,arguments);return this._shimmedLocalStreams[d.id]?this._shimmedLocalStreams[d.id].indexOf(f)===-1&&this._shimmedLocalStreams[d.id].push(f):this._shimmedLocalStreams[d.id]=[d,f],f};const n=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(b=>{if(this.getSenders().find(y=>y.track===b))throw new DOMException("Track already exists.","InvalidAccessError")});const d=this.getSenders();n.apply(this,arguments);const f=this.getSenders().filter(b=>d.indexOf(b)===-1);this._shimmedLocalStreams[u.id]=[u].concat(f)};const l=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],l.apply(this,arguments)};const r=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(d=>{const f=this._shimmedLocalStreams[d].indexOf(u);f!==-1&&this._shimmedLocalStreams[d].splice(f,1),this._shimmedLocalStreams[d].length===1&&delete this._shimmedLocalStreams[d]}),r.apply(this,arguments)}}function s9(s,t){if(!s.RTCPeerConnection)return;if(s.RTCPeerConnection.prototype.addTrack&&t.version>=65)return l9(s);const n=s.RTCPeerConnection.prototype.getLocalStreams;s.RTCPeerConnection.prototype.getLocalStreams=function(){const p=n.apply(this);return this._reverseStreams=this._reverseStreams||{},p.map(y=>this._reverseStreams[y.id])};const l=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(p){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},p.getTracks().forEach(y=>{if(this.getSenders().find(g=>g.track===y))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[p.id]){const y=new s.MediaStream(p.getTracks());this._streams[p.id]=y,this._reverseStreams[y.id]=p,p=y}l.apply(this,[p])};const r=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(p){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[p.id]||p]),delete this._reverseStreams[this._streams[p.id]?this._streams[p.id].id:p.id],delete this._streams[p.id]},s.RTCPeerConnection.prototype.addTrack=function(p,y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const G=[].slice.call(arguments,1);if(G.length!==1||!G[0].getTracks().find(V=>V===p))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(V=>V.track===p))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const S=this._streams[y.id];if(S)S.addTrack(p),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const V=new s.MediaStream([p]);this._streams[y.id]=V,this._reverseStreams[V.id]=y,this.addStream(V)}return this.getSenders().find(V=>V.track===p)};function o(b,p){let y=p.sdp;return Object.keys(b._reverseStreams||[]).forEach(G=>{const g=b._reverseStreams[G],S=b._streams[g.id];y=y.replace(new RegExp(S.id,"g"),g.id)}),new RTCSessionDescription({type:p.type,sdp:y})}function u(b,p){let y=p.sdp;return Object.keys(b._reverseStreams||[]).forEach(G=>{const g=b._reverseStreams[G],S=b._streams[g.id];y=y.replace(new RegExp(g.id,"g"),S.id)}),new RTCSessionDescription({type:p.type,sdp:y})}["createOffer","createAnswer"].forEach(function(b){const p=s.RTCPeerConnection.prototype[b],y={[b](){const G=arguments;return arguments.length&&typeof arguments[0]=="function"?p.apply(this,[S=>{const V=o(this,S);G[0].apply(null,[V])},S=>{G[1]&&G[1].apply(null,S)},arguments[2]]):p.apply(this,arguments).then(S=>o(this,S))}};s.RTCPeerConnection.prototype[b]=y[b]});const d=s.RTCPeerConnection.prototype.setLocalDescription;s.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?d.apply(this,arguments):(arguments[0]=u(this,arguments[0]),d.apply(this,arguments))};const f=Object.getOwnPropertyDescriptor(s.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(s.RTCPeerConnection.prototype,"localDescription",{get(){const b=f.get.apply(this);return b.type===""?b:o(this,b)}}),s.RTCPeerConnection.prototype.removeTrack=function(p){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!p._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(p._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let G;Object.keys(this._streams).forEach(g=>{this._streams[g].getTracks().find(V=>p.track===V)&&(G=this._streams[g])}),G&&(G.getTracks().length===1?this.removeStream(this._reverseStreams[G.id]):G.removeTrack(p.track),this.dispatchEvent(new Event("negotiationneeded")))}}function bh(s,t){!s.RTCPeerConnection&&s.webkitRTCPeerConnection&&(s.RTCPeerConnection=s.webkitRTCPeerConnection),s.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const l=s.RTCPeerConnection.prototype[n],r={[n](){return arguments[0]=new(n==="addIceCandidate"?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),l.apply(this,arguments)}};s.RTCPeerConnection.prototype[n]=r[n]})}function a9(s,t){Gl(s,"negotiationneeded",n=>{const l=n.target;if(!((t.version<72||l.getConfiguration&&l.getConfiguration().sdpSemantics==="plan-b")&&l.signalingState!=="stable"))return n})}const Xy=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:a9,shimAddTrackRemoveTrack:s9,shimAddTrackRemoveTrackWithNative:l9,shimGetSendersWithDtmf:n9,shimGetUserMedia:$X,shimMediaStream:t9,shimOnTrack:e9,shimPeerConnection:bh,shimSenderReceiverGetStats:i9},Symbol.toStringTag,{value:"Module"}));function r9(s,t){const n=s&&s.navigator,l=s&&s.MediaStreamTrack;if(n.getUserMedia=function(r,o,u){Bh("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(r).then(o,u)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const r=function(u,d,f){d in u&&!(f in u)&&(u[f]=u[d],delete u[d])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),r(u.audio,"autoGainControl","mozAutoGainControl"),r(u.audio,"noiseSuppression","mozNoiseSuppression")),o(u)},l&&l.prototype.getSettings){const u=l.prototype.getSettings;l.prototype.getSettings=function(){const d=u.apply(this,arguments);return r(d,"mozAutoGainControl","autoGainControl"),r(d,"mozNoiseSuppression","noiseSuppression"),d}}if(l&&l.prototype.applyConstraints){const u=l.prototype.applyConstraints;l.prototype.applyConstraints=function(d){return this.kind==="audio"&&typeof d=="object"&&(d=JSON.parse(JSON.stringify(d)),r(d,"autoGainControl","mozAutoGainControl"),r(d,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[d])}}}}function YR(s,t){s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices||s.navigator.mediaDevices&&(s.navigator.mediaDevices.getDisplayMedia=function(l){if(!(l&&l.video)){const r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return l.video===!0?l.video={mediaSource:t}:l.video.mediaSource=t,s.navigator.mediaDevices.getUserMedia(l)})}function c9(s){typeof s=="object"&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ph(s,t){if(typeof s!="object"||!(s.RTCPeerConnection||s.mozRTCPeerConnection))return;!s.RTCPeerConnection&&s.mozRTCPeerConnection&&(s.RTCPeerConnection=s.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const o=s.RTCPeerConnection.prototype[r],u={[r](){return arguments[0]=new(r==="addIceCandidate"?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};s.RTCPeerConnection.prototype[r]=u[r]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},l=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[o,u,d]=arguments;return l.apply(this,[o||null]).then(f=>{if(t.version<53&&!u)try{f.forEach(b=>{b.type=n[b.type]||b.type})}catch(b){if(b.name!=="TypeError")throw b;f.forEach((p,y)=>{f.set(y,Object.assign({},p,{type:n[p.type]||p.type}))})}return f}).then(u,d)}}function o9(s){if(!(typeof s=="object"&&s.RTCPeerConnection&&s.RTCRtpSender)||s.RTCRtpSender&&"getStats"in s.RTCRtpSender.prototype)return;const t=s.RTCPeerConnection.prototype.getSenders;t&&(s.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(o=>o._pc=this),r});const n=s.RTCPeerConnection.prototype.addTrack;n&&(s.RTCPeerConnection.prototype.addTrack=function(){const r=n.apply(this,arguments);return r._pc=this,r}),s.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function u9(s){if(!(typeof s=="object"&&s.RTCPeerConnection&&s.RTCRtpSender)||s.RTCRtpSender&&"getStats"in s.RTCRtpReceiver.prototype)return;const t=s.RTCPeerConnection.prototype.getReceivers;t&&(s.RTCPeerConnection.prototype.getReceivers=function(){const l=t.apply(this,[]);return l.forEach(r=>r._pc=this),l}),Gl(s,"track",n=>(n.receiver._pc=n.srcElement,n)),s.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function d9(s){!s.RTCPeerConnection||"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(n){Bh("removeStream","removeTrack"),this.getSenders().forEach(l=>{l.track&&n.getTracks().includes(l.track)&&this.removeTrack(l)})})}function h9(s){s.DataChannel&&!s.RTCDataChannel&&(s.RTCDataChannel=s.DataChannel)}function f9(s){if(!(typeof s=="object"&&s.RTCPeerConnection))return;const t=s.RTCPeerConnection.prototype.addTransceiver;t&&(s.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let l=arguments[1]&&arguments[1].sendEncodings;l===void 0&&(l=[]),l=[...l];const r=l.length>0;r&&l.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(r){const{sender:u}=o,d=u.getParameters();(!("encodings"in d)||d.encodings.length===1&&Object.keys(d.encodings[0]).length===0)&&(d.encodings=l,u.sendEncodings=l,this.setParametersPromises.push(u.setParameters(d).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return o})}function m9(s){if(!(typeof s=="object"&&s.RTCRtpSender))return;const t=s.RTCRtpSender.prototype.getParameters;t&&(s.RTCRtpSender.prototype.getParameters=function(){const l=t.apply(this,arguments);return"encodings"in l||(l.encodings=[].concat(this.sendEncodings||[{}])),l})}function b9(s){if(!(typeof s=="object"&&s.RTCPeerConnection))return;const t=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function p9(s){if(!(typeof s=="object"&&s.RTCPeerConnection))return;const t=s.RTCPeerConnection.prototype.createAnswer;s.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const Zy=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:f9,shimCreateAnswer:p9,shimCreateOffer:b9,shimGetDisplayMedia:YR,shimGetParameters:m9,shimGetUserMedia:r9,shimOnTrack:c9,shimPeerConnection:ph,shimRTCDataChannel:h9,shimReceiverGetStats:u9,shimRemoveStream:d9,shimSenderGetStats:o9},Symbol.toStringTag,{value:"Module"}));function y9(s){if(!(typeof s!="object"||!s.RTCPeerConnection)){if("getLocalStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in s.RTCPeerConnection.prototype)){const t=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addStream=function(l){this._localStreams||(this._localStreams=[]),this._localStreams.includes(l)||this._localStreams.push(l),l.getAudioTracks().forEach(r=>t.call(this,r,l)),l.getVideoTracks().forEach(r=>t.call(this,r,l))},s.RTCPeerConnection.prototype.addTrack=function(l,...r){return r&&r.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),t.apply(this,arguments)}}"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const l=this._localStreams.indexOf(n);if(l===-1)return;this._localStreams.splice(l,1);const r=n.getTracks();this.getSenders().forEach(o=>{r.includes(o.track)&&this.removeTrack(o)})})}}function X9(s){if(!(typeof s!="object"||!s.RTCPeerConnection)&&("getRemoteStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in s.RTCPeerConnection.prototype))){Object.defineProperty(s.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=l=>{l.streams.forEach(r=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(r))return;this._remoteStreams.push(r);const o=new Event("addstream");o.stream=r,this.dispatchEvent(o)})})}});const t=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){const l=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(o=>{if(l._remoteStreams||(l._remoteStreams=[]),l._remoteStreams.indexOf(o)>=0)return;l._remoteStreams.push(o);const u=new Event("addstream");u.stream=o,l.dispatchEvent(u)})}),t.apply(l,arguments)}}}function Z9(s){if(typeof s!="object"||!s.RTCPeerConnection)return;const t=s.RTCPeerConnection.prototype,n=t.createOffer,l=t.createAnswer,r=t.setLocalDescription,o=t.setRemoteDescription,u=t.addIceCandidate;t.createOffer=function(b,p){const y=arguments.length>=2?arguments[2]:arguments[0],G=n.apply(this,[y]);return p?(G.then(b,p),Promise.resolve()):G},t.createAnswer=function(b,p){const y=arguments.length>=2?arguments[2]:arguments[0],G=l.apply(this,[y]);return p?(G.then(b,p),Promise.resolve()):G};let d=function(f,b,p){const y=r.apply(this,[f]);return p?(y.then(b,p),Promise.resolve()):y};t.setLocalDescription=d,d=function(f,b,p){const y=o.apply(this,[f]);return p?(y.then(b,p),Promise.resolve()):y},t.setRemoteDescription=d,d=function(f,b,p){const y=u.apply(this,[f]);return p?(y.then(b,p),Promise.resolve()):y},t.addIceCandidate=d}function x9(s){const t=s&&s.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,l=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=r=>l(g9(r))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(l,r,o){t.mediaDevices.getUserMedia(l).then(r,o)}).bind(t))}function g9(s){return s&&s.video!==void 0?Object.assign({},s,{video:qX(s.video)}):s}function G9(s){if(!s.RTCPeerConnection)return;const t=s.RTCPeerConnection;s.RTCPeerConnection=function(l,r){if(l&&l.iceServers){const o=[];for(let u=0;u<l.iceServers.length;u++){let d=l.iceServers[u];d.urls===void 0&&d.url?(Bh("RTCIceServer.url","RTCIceServer.urls"),d=JSON.parse(JSON.stringify(d)),d.urls=d.url,delete d.url,o.push(d)):o.push(l.iceServers[u])}l.iceServers=o}return new t(l,r)},s.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(s.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function R9(s){typeof s=="object"&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function v9(s){const t=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(l){if(l){typeof l.offerToReceiveAudio<"u"&&(l.offerToReceiveAudio=!!l.offerToReceiveAudio);const r=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");l.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):l.offerToReceiveAudio===!0&&!r&&this.addTransceiver("audio",{direction:"recvonly"}),typeof l.offerToReceiveVideo<"u"&&(l.offerToReceiveVideo=!!l.offerToReceiveVideo);const o=this.getTransceivers().find(u=>u.receiver.track.kind==="video");l.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):l.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function S9(s){typeof s!="object"||s.AudioContext||(s.AudioContext=s.webkitAudioContext)}const xy=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:S9,shimCallbacksAPI:Z9,shimConstraints:g9,shimCreateOfferLegacy:v9,shimGetUserMedia:x9,shimLocalStreamsAPI:y9,shimRTCIceServerUrls:G9,shimRemoteStreamsAPI:X9,shimTrackEventTransceiver:R9},Symbol.toStringTag,{value:"Module"}));var Pd={exports:{}},gy;function CR(){return gy||(gy=1,(function(s){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(l=>l.trim())},t.splitSections=function(n){return n.split(`
m=`).map((r,o)=>(o>0?"m="+r:r).trim()+`\r
`)},t.getDescription=function(n){const l=t.splitSections(n);return l&&l[0]},t.getMediaSections=function(n){const l=t.splitSections(n);return l.shift(),l},t.matchPrefix=function(n,l){return t.splitLines(n).filter(r=>r.indexOf(l)===0)},t.parseCandidate=function(n){let l;n.indexOf("a=candidate:")===0?l=n.substring(12).split(" "):l=n.substring(10).split(" ");const r={foundation:l[0],component:{1:"rtp",2:"rtcp"}[l[1]]||l[1],protocol:l[2].toLowerCase(),priority:parseInt(l[3],10),ip:l[4],address:l[4],port:parseInt(l[5],10),type:l[7]};for(let o=8;o<l.length;o+=2)switch(l[o]){case"raddr":r.relatedAddress=l[o+1];break;case"rport":r.relatedPort=parseInt(l[o+1],10);break;case"tcptype":r.tcpType=l[o+1];break;case"ufrag":r.ufrag=l[o+1],r.usernameFragment=l[o+1];break;default:r[l[o]]===void 0&&(r[l[o]]=l[o+1]);break}return r},t.writeCandidate=function(n){const l=[];l.push(n.foundation);const r=n.component;r==="rtp"?l.push(1):r==="rtcp"?l.push(2):l.push(r),l.push(n.protocol.toUpperCase()),l.push(n.priority),l.push(n.address||n.ip),l.push(n.port);const o=n.type;return l.push("typ"),l.push(o),o!=="host"&&n.relatedAddress&&n.relatedPort&&(l.push("raddr"),l.push(n.relatedAddress),l.push("rport"),l.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(l.push("tcptype"),l.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(l.push("ufrag"),l.push(n.usernameFragment||n.ufrag)),"candidate:"+l.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let l=n.substring(9).split(" ");const r={payloadType:parseInt(l.shift(),10)};return l=l[0].split("/"),r.name=l[0],r.clockRate=parseInt(l[1],10),r.channels=l.length===3?parseInt(l[2],10):1,r.numChannels=r.channels,r},t.writeRtpMap=function(n){let l=n.payloadType;n.preferredPayloadType!==void 0&&(l=n.preferredPayloadType);const r=n.channels||n.numChannels||1;return"a=rtpmap:"+l+" "+n.name+"/"+n.clockRate+(r!==1?"/"+r:"")+`\r
`},t.parseExtmap=function(n){const l=n.substring(9).split(" ");return{id:parseInt(l[0],10),direction:l[0].indexOf("/")>0?l[0].split("/")[1]:"sendrecv",uri:l[1],attributes:l.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const l={};let r;const o=n.substring(n.indexOf(" ")+1).split(";");for(let u=0;u<o.length;u++)r=o[u].trim().split("="),l[r[0].trim()]=r[1];return l},t.writeFmtp=function(n){let l="",r=n.payloadType;if(n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const o=[];Object.keys(n.parameters).forEach(u=>{n.parameters[u]!==void 0?o.push(u+"="+n.parameters[u]):o.push(u)}),l+="a=fmtp:"+r+" "+o.join(";")+`\r
`}return l},t.parseRtcpFb=function(n){const l=n.substring(n.indexOf(" ")+1).split(" ");return{type:l.shift(),parameter:l.join(" ")}},t.writeRtcpFb=function(n){let l="",r=n.payloadType;return n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(o=>{l+="a=rtcp-fb:"+r+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),l},t.parseSsrcMedia=function(n){const l=n.indexOf(" "),r={ssrc:parseInt(n.substring(7,l),10)},o=n.indexOf(":",l);return o>-1?(r.attribute=n.substring(l+1,o),r.value=n.substring(o+1)):r.attribute=n.substring(l+1),r},t.parseSsrcGroup=function(n){const l=n.substring(13).split(" ");return{semantics:l.shift(),ssrcs:l.map(r=>parseInt(r,10))}},t.getMid=function(n){const l=t.matchPrefix(n,"a=mid:")[0];if(l)return l.substring(6)},t.parseFingerprint=function(n){const l=n.substring(14).split(" ");return{algorithm:l[0].toLowerCase(),value:l[1].toUpperCase()}},t.getDtlsParameters=function(n,l){return{role:"auto",fingerprints:t.matchPrefix(n+l,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,l){let r="a=setup:"+l+`\r
`;return n.fingerprints.forEach(o=>{r+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),r},t.parseCryptoLine=function(n){const l=n.substring(9).split(" ");return{tag:parseInt(l[0],10),cryptoSuite:l[1],keyParams:l[2],sessionParams:l.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const l=n.substring(7).split("|");return{keyMethod:"inline",keySalt:l[0],lifeTime:l[1],mkiValue:l[2]?l[2].split(":")[0]:void 0,mkiLength:l[2]?l[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,l){return t.matchPrefix(n+l,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,l){const r=t.matchPrefix(n+l,"a=ice-ufrag:")[0],o=t.matchPrefix(n+l,"a=ice-pwd:")[0];return r&&o?{usernameFragment:r.substring(12),password:o.substring(10)}:null},t.writeIceParameters=function(n){let l="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(l+=`a=ice-lite\r
`),l},t.parseRtpParameters=function(n){const l={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=t.splitLines(n)[0].split(" ");l.profile=o[2];for(let d=3;d<o.length;d++){const f=o[d],b=t.matchPrefix(n,"a=rtpmap:"+f+" ")[0];if(b){const p=t.parseRtpMap(b),y=t.matchPrefix(n,"a=fmtp:"+f+" ");switch(p.parameters=y.length?t.parseFmtp(y[0]):{},p.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+f+" ").map(t.parseRtcpFb),l.codecs.push(p),p.name.toUpperCase()){case"RED":case"ULPFEC":l.fecMechanisms.push(p.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(d=>{l.headerExtensions.push(t.parseExtmap(d))});const u=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return l.codecs.forEach(d=>{u.forEach(f=>{d.rtcpFeedback.find(p=>p.type===f.type&&p.parameter===f.parameter)||d.rtcpFeedback.push(f)})}),l},t.writeRtpDescription=function(n,l){let r="";r+="m="+n+" ",r+=l.codecs.length>0?"9":"0",r+=" "+(l.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=l.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,r+=`c=IN IP4 0.0.0.0\r
`,r+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,l.codecs.forEach(u=>{r+=t.writeRtpMap(u),r+=t.writeFmtp(u),r+=t.writeRtcpFb(u)});let o=0;return l.codecs.forEach(u=>{u.maxptime>o&&(o=u.maxptime)}),o>0&&(r+="a=maxptime:"+o+`\r
`),l.headerExtensions&&l.headerExtensions.forEach(u=>{r+=t.writeExtmap(u)}),r},t.parseRtpEncodingParameters=function(n){const l=[],r=t.parseRtpParameters(n),o=r.fecMechanisms.indexOf("RED")!==-1,u=r.fecMechanisms.indexOf("ULPFEC")!==-1,d=t.matchPrefix(n,"a=ssrc:").map(G=>t.parseSsrcMedia(G)).filter(G=>G.attribute==="cname"),f=d.length>0&&d[0].ssrc;let b;const p=t.matchPrefix(n,"a=ssrc-group:FID").map(G=>G.substring(17).split(" ").map(S=>parseInt(S,10)));p.length>0&&p[0].length>1&&p[0][0]===f&&(b=p[0][1]),r.codecs.forEach(G=>{if(G.name.toUpperCase()==="RTX"&&G.parameters.apt){let g={ssrc:f,codecPayloadType:parseInt(G.parameters.apt,10)};f&&b&&(g.rtx={ssrc:b}),l.push(g),o&&(g=JSON.parse(JSON.stringify(g)),g.fec={ssrc:f,mechanism:u?"red+ulpfec":"red"},l.push(g))}}),l.length===0&&f&&l.push({ssrc:f});let y=t.matchPrefix(n,"b=");return y.length&&(y[0].indexOf("b=TIAS:")===0?y=parseInt(y[0].substring(7),10):y[0].indexOf("b=AS:")===0?y=parseInt(y[0].substring(5),10)*1e3*.95-2e3*8:y=void 0,l.forEach(G=>{G.maxBitrate=y})),l},t.parseRtcpParameters=function(n){const l={},r=t.matchPrefix(n,"a=ssrc:").map(d=>t.parseSsrcMedia(d)).filter(d=>d.attribute==="cname")[0];r&&(l.cname=r.value,l.ssrc=r.ssrc);const o=t.matchPrefix(n,"a=rtcp-rsize");l.reducedSize=o.length>0,l.compound=o.length===0;const u=t.matchPrefix(n,"a=rtcp-mux");return l.mux=u.length>0,l},t.writeRtcpParameters=function(n){let l="";return n.reducedSize&&(l+=`a=rtcp-rsize\r
`),n.mux&&(l+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(l+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),l},t.parseMsid=function(n){let l;const r=t.matchPrefix(n,"a=msid:");if(r.length===1)return l=r[0].substring(7).split(" "),{stream:l[0],track:l[1]};const o=t.matchPrefix(n,"a=ssrc:").map(u=>t.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(o.length>0)return l=o[0].value.split(" "),{stream:l[0],track:l[1]}},t.parseSctpDescription=function(n){const l=t.parseMLine(n),r=t.matchPrefix(n,"a=max-message-size:");let o;r.length>0&&(o=parseInt(r[0].substring(19),10)),isNaN(o)&&(o=65536);const u=t.matchPrefix(n,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:l.fmt,maxMessageSize:o};const d=t.matchPrefix(n,"a=sctpmap:");if(d.length>0){const f=d[0].substring(10).split(" ");return{port:parseInt(f[0],10),protocol:f[1],maxMessageSize:o}}},t.writeSctpDescription=function(n,l){let r=[];return n.protocol!=="DTLS/SCTP"?r=["m="+n.kind+" 9 "+n.protocol+" "+l.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+l.port+`\r
`]:r=["m="+n.kind+" 9 "+n.protocol+" "+l.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+l.port+" "+l.protocol+` 65535\r
`],l.maxMessageSize!==void 0&&r.push("a=max-message-size:"+l.maxMessageSize+`\r
`),r.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,l,r){let o;const u=l!==void 0?l:2;return n?o=n:o=t.generateSessionId(),`v=0\r
o=`+(r||"thisisadapterortc")+" "+o+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,l){const r=t.splitLines(n);for(let o=0;o<r.length;o++)switch(r[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[o].substring(2)}return l?t.getDirection(l):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const r=t.splitLines(n)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(n){const r=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const l=t.splitLines(n);for(let r=0;r<l.length;r++)if(l[r].length<2||l[r].charAt(1)!=="=")return!1;return!0},s.exports=t})(Pd)),Pd.exports}var V9=CR();const xs=Ia(V9),JR=$1({__proto__:null,default:xs},[V9]);function Lc(s){if(!s.RTCIceCandidate||s.RTCIceCandidate&&"foundation"in s.RTCIceCandidate.prototype)return;const t=s.RTCIceCandidate;s.RTCIceCandidate=function(l){if(typeof l=="object"&&l.candidate&&l.candidate.indexOf("a=")===0&&(l=JSON.parse(JSON.stringify(l)),l.candidate=l.candidate.substring(2)),l.candidate&&l.candidate.length){const r=new t(l),o=xs.parseCandidate(l.candidate);for(const u in o)u in r||Object.defineProperty(r,u,{value:o[u]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(l)},s.RTCIceCandidate.prototype=t.prototype,Gl(s,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new s.RTCIceCandidate(n.candidate),writable:"false"}),n))}function yh(s){!s.RTCIceCandidate||s.RTCIceCandidate&&"relayProtocol"in s.RTCIceCandidate.prototype||Gl(s,"icecandidate",t=>{if(t.candidate){const n=xs.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Nc(s,t){if(!s.RTCPeerConnection)return;"sctp"in s.RTCPeerConnection.prototype||Object.defineProperty(s.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(d){if(!d||!d.sdp)return!1;const f=xs.splitSections(d.sdp);return f.shift(),f.some(b=>{const p=xs.parseMLine(b);return p&&p.kind==="application"&&p.protocol.indexOf("SCTP")!==-1})},l=function(d){const f=d.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(f===null||f.length<2)return-1;const b=parseInt(f[1],10);return b!==b?-1:b},r=function(d){let f=65536;return t.browser==="firefox"&&(t.version<57?d===-1?f=16384:f=2147483637:t.version<60?f=t.version===57?65535:65536:f=2147483637),f},o=function(d,f){let b=65536;t.browser==="firefox"&&t.version===57&&(b=65535);const p=xs.matchPrefix(d.sdp,"a=max-message-size:");return p.length>0?b=parseInt(p[0].substring(19),10):t.browser==="firefox"&&f!==-1&&(b=2147483637),b},u=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:f}=this.getConfiguration();f==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const f=l(arguments[0]),b=r(f),p=o(arguments[0],f);let y;b===0&&p===0?y=Number.POSITIVE_INFINITY:b===0||p===0?y=Math.max(b,p):y=Math.min(b,p);const G={};Object.defineProperty(G,"maxMessageSize",{get(){return y}}),this._sctp=G}return u.apply(this,arguments)}}function wc(s){if(!(s.RTCPeerConnection&&"createDataChannel"in s.RTCPeerConnection.prototype))return;function t(l,r){const o=l.send;l.send=function(){const d=arguments[0],f=d.length||d.size||d.byteLength;if(l.readyState==="open"&&r.sctp&&f>r.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+r.sctp.maxMessageSize+" bytes)");return o.apply(l,arguments)}}const n=s.RTCPeerConnection.prototype.createDataChannel;s.RTCPeerConnection.prototype.createDataChannel=function(){const r=n.apply(this,arguments);return t(r,this),r},Gl(s,"datachannel",l=>(t(l.channel,l.target),l))}function Xh(s){if(!s.RTCPeerConnection||"connectionState"in s.RTCPeerConnection.prototype)return;const t=s.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const l=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=r=>{const o=r.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const u=new Event("connectionstatechange",r);o.dispatchEvent(u)}return r},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),l.apply(this,arguments)}})}function Zh(s,t){if(!s.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&r.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=r.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);s.RTCSessionDescription&&r instanceof s.RTCSessionDescription?arguments[0]=new s.RTCSessionDescription({type:r.type,sdp:o}):r.sdp=o}return n.apply(this,arguments)}}function Hc(s,t){if(!(s.RTCPeerConnection&&s.RTCPeerConnection.prototype))return;const n=s.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(s.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Tc(s,t){if(!(s.RTCPeerConnection&&s.RTCPeerConnection.prototype))return;const n=s.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(s.RTCPeerConnection.prototype.setLocalDescription=function(){let r=arguments[0]||{};if(typeof r!="object"||r.type&&r.sdp)return n.apply(this,arguments);if(r={type:r.type,sdp:r.sdp},!r.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":r.type="offer";break;default:r.type="answer";break}return r.sdp||r.type!=="offer"&&r.type!=="answer"?n.apply(this,[r]):(r.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>n.apply(this,[u]))})}const LR=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Zh,shimAddIceCandidateNullOrEmpty:Hc,shimConnectionState:Xh,shimMaxMessageSize:Nc,shimParameterlessSetLocalDescription:Tc,shimRTCIceCandidate:Lc,shimRTCIceCandidateRelayProtocol:yh,shimSendThrowTypeError:wc},Symbol.toStringTag,{value:"Module"}));function NR({window:s}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=OX,l=WR(s),r={browserDetails:l,commonShim:LR,extractVersion:wa,disableLog:SR,disableWarnings:VR,sdp:JR};switch(l.browser){case"chrome":if(!Xy||!bh||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),r;if(l.version===null)return n("Chrome shim can not determine version, not shimming."),r;n("adapter.js shimming chrome."),r.browserShim=Xy,Hc(s,l),Tc(s),$X(s,l),t9(s),bh(s,l),e9(s),s9(s,l),n9(s),i9(s),a9(s,l),Lc(s),yh(s),Xh(s),Nc(s,l),wc(s),Zh(s,l);break;case"firefox":if(!Zy||!ph||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),r;n("adapter.js shimming firefox."),r.browserShim=Zy,Hc(s,l),Tc(s),r9(s,l),ph(s,l),c9(s),d9(s),o9(s),u9(s),h9(s),f9(s),m9(s),b9(s),p9(s),Lc(s),Xh(s),Nc(s,l),wc(s);break;case"safari":if(!xy||!t.shimSafari)return n("Safari shim is not included in this adapter release."),r;n("adapter.js shimming safari."),r.browserShim=xy,Hc(s,l),Tc(s),G9(s),v9(s),Z9(s),y9(s),X9(s),R9(s),x9(s),S9(s),Lc(s),yh(s),Nc(s,l),wc(s),Zh(s,l);break;default:n("Unsupported browser!");break}return r}const Gy=NR({window:typeof window>"u"?void 0:window});function Rl(s,t,n,l){Object.defineProperty(s,t,{get:n,set:l,enumerable:!0,configurable:!0})}class W9{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],l=t.byteLength,r=Math.ceil(l/this.chunkedMTU);let o=0,u=0;for(;u<l;){const d=Math.min(l,u+this.chunkedMTU),f=t.slice(u,d),b={__peerData:this._dataCount,n:o,data:f,total:r};n.push(b),u=d,o++}return this._dataCount++,n}}}function wR(s){let t=0;for(const r of s)t+=r.byteLength;const n=new Uint8Array(t);let l=0;for(const r of s)n.set(r,l),l+=r.byteLength;return n}const jd=Gy.default||Gy,Wa=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const s=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(s)?s==="chrome"?t>=this.minChromeVersion:s==="firefox"?t>=this.minFirefoxVersion:s==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return jd.browserDetails.browser}getVersion(){return jd.browserDetails.version||0}isUnifiedPlanSupported(){const s=this.getBrowser(),t=jd.browserDetails.version||0;if(s==="chrome"&&t<this.minChromeVersion)return!1;if(s==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,l=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),l=!0}catch{}finally{n&&n.close()}return l}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},HR=s=>!s||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(s),Y9=()=>Math.random().toString(36).slice(2),Ry={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class TR extends W9{noop(){}blobToArrayBuffer(t,n){const l=new FileReader;return l.onload=function(r){r.target&&n(r.target.result)},l.readAsArrayBuffer(t),l}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let l=0;l<t.length;l++)n[l]=t.charCodeAt(l)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Ry,this.browser=Wa.getBrowser(),this.browserVersion=Wa.getVersion(),this.pack=IX,this.unpack=QX,this.supports=(function(){const n={browser:Wa.isBrowserSupported(),webRTC:Wa.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let l;try{l=new RTCPeerConnection(Ry),n.audioVideo=!0;let r;try{r=l.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!r.ordered;try{r.binaryType="blob",n.binaryBlob=!Wa.isIOS}catch{}}catch{}finally{r&&r.close()}}catch{}finally{l&&l.close()}return n})(),this.validateId=HR,this.randomToken=Y9}}const en=new TR,FR="PeerJS: ";class _R{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const l=[FR,...n];for(const r in l)l[r]instanceof Error&&(l[r]="("+l[r].name+") "+l[r].message);t>=3?console.log(...l):t>=2?console.warn("WARNING",...l):t>=1&&console.error("ERROR",...l)}constructor(){this._logLevel=0}}var pt=new _R,Eh={},zR=Object.prototype.hasOwnProperty,je="~";function Qa(){}Object.create&&(Qa.prototype=Object.create(null),new Qa().__proto__||(je=!1));function BR(s,t,n){this.fn=s,this.context=t,this.once=n||!1}function C9(s,t,n,l,r){if(typeof n!="function")throw new TypeError("The listener must be a function");var o=new BR(n,l||s,r),u=je?je+t:t;return s._events[u]?s._events[u].fn?s._events[u]=[s._events[u],o]:s._events[u].push(o):(s._events[u]=o,s._eventsCount++),s}function Fc(s,t){--s._eventsCount===0?s._events=new Qa:delete s._events[t]}function Be(){this._events=new Qa,this._eventsCount=0}Be.prototype.eventNames=function(){var t=[],n,l;if(this._eventsCount===0)return t;for(l in n=this._events)zR.call(n,l)&&t.push(je?l.slice(1):l);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};Be.prototype.listeners=function(t){var n=je?je+t:t,l=this._events[n];if(!l)return[];if(l.fn)return[l.fn];for(var r=0,o=l.length,u=new Array(o);r<o;r++)u[r]=l[r].fn;return u};Be.prototype.listenerCount=function(t){var n=je?je+t:t,l=this._events[n];return l?l.fn?1:l.length:0};Be.prototype.emit=function(t,n,l,r,o,u){var d=je?je+t:t;if(!this._events[d])return!1;var f=this._events[d],b=arguments.length,p,y;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),b){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,n),!0;case 3:return f.fn.call(f.context,n,l),!0;case 4:return f.fn.call(f.context,n,l,r),!0;case 5:return f.fn.call(f.context,n,l,r,o),!0;case 6:return f.fn.call(f.context,n,l,r,o,u),!0}for(y=1,p=new Array(b-1);y<b;y++)p[y-1]=arguments[y];f.fn.apply(f.context,p)}else{var G=f.length,g;for(y=0;y<G;y++)switch(f[y].once&&this.removeListener(t,f[y].fn,void 0,!0),b){case 1:f[y].fn.call(f[y].context);break;case 2:f[y].fn.call(f[y].context,n);break;case 3:f[y].fn.call(f[y].context,n,l);break;case 4:f[y].fn.call(f[y].context,n,l,r);break;default:if(!p)for(g=1,p=new Array(b-1);g<b;g++)p[g-1]=arguments[g];f[y].fn.apply(f[y].context,p)}}return!0};Be.prototype.on=function(t,n,l){return C9(this,t,n,l,!1)};Be.prototype.once=function(t,n,l){return C9(this,t,n,l,!0)};Be.prototype.removeListener=function(t,n,l,r){var o=je?je+t:t;if(!this._events[o])return this;if(!n)return Fc(this,o),this;var u=this._events[o];if(u.fn)u.fn===n&&(!r||u.once)&&(!l||u.context===l)&&Fc(this,o);else{for(var d=0,f=[],b=u.length;d<b;d++)(u[d].fn!==n||r&&!u[d].once||l&&u[d].context!==l)&&f.push(u[d]);f.length?this._events[o]=f.length===1?f[0]:f:Fc(this,o)}return this};Be.prototype.removeAllListeners=function(t){var n;return t?(n=je?je+t:t,this._events[n]&&Fc(this,n)):(this._events=new Qa,this._eventsCount=0),this};Be.prototype.off=Be.prototype.removeListener;Be.prototype.addListener=Be.prototype.on;Be.prefixed=je;Be.EventEmitter=Be;Eh=Be;var vl={};Rl(vl,"ConnectionType",()=>Pi);Rl(vl,"PeerErrorType",()=>Ze);Rl(vl,"BaseConnectionErrorType",()=>xh);Rl(vl,"DataConnectionErrorType",()=>kh);Rl(vl,"SerializationType",()=>no);Rl(vl,"SocketEventType",()=>Ki);Rl(vl,"ServerMessageType",()=>_e);var Pi=(function(s){return s.Data="data",s.Media="media",s})({}),Ze=(function(s){return s.BrowserIncompatible="browser-incompatible",s.Disconnected="disconnected",s.InvalidID="invalid-id",s.InvalidKey="invalid-key",s.Network="network",s.PeerUnavailable="peer-unavailable",s.SslUnavailable="ssl-unavailable",s.ServerError="server-error",s.SocketError="socket-error",s.SocketClosed="socket-closed",s.UnavailableID="unavailable-id",s.WebRTC="webrtc",s})({}),xh=(function(s){return s.NegotiationFailed="negotiation-failed",s.ConnectionClosed="connection-closed",s})({}),kh=(function(s){return s.NotOpenYet="not-open-yet",s.MessageToBig="message-too-big",s})({}),no=(function(s){return s.Binary="binary",s.BinaryUTF8="binary-utf8",s.JSON="json",s.None="raw",s})({}),Ki=(function(s){return s.Message="message",s.Disconnected="disconnected",s.Error="error",s.Close="close",s})({}),_e=(function(s){return s.Heartbeat="HEARTBEAT",s.Candidate="CANDIDATE",s.Offer="OFFER",s.Answer="ANSWER",s.Open="OPEN",s.Error="ERROR",s.IdTaken="ID-TAKEN",s.InvalidKey="INVALID-KEY",s.Leave="LEAVE",s.Expire="EXPIRE",s})({});const J9="1.5.5";class ER extends Eh.EventEmitter{constructor(t,n,l,r,o,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const d=t?"wss://":"ws://";this._baseUrl=d+n+":"+l+r+"peerjs?key="+o}start(t,n){this._id=t;const l=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(l+"&version="+J9),this._disconnected=!1,this._socket.onmessage=r=>{let o;try{o=JSON.parse(r.data),pt.log("Server message received:",o)}catch{pt.log("Invalid server message",r.data);return}this.emit(Ki.Message,o)},this._socket.onclose=r=>{this._disconnected||(pt.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit(Ki.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),pt.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){pt.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:_e.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(Ki.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class L9{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Pi.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const l=this.connection,r={ordered:!!t.reliable},o=n.createDataChannel(l.label,r);l._initializeDataChannel(o),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){pt.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,l=this.connection.connectionId,r=this.connection.type,o=this.connection.provider;pt.log("Listening for ICE candidates."),t.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(pt.log(`Received ICE candidates for ${n}:`,u.candidate),o.socket.send({type:_e.Candidate,payload:{candidate:u.candidate,type:r,connectionId:l},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":pt.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(xh.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":pt.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(xh.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":pt.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},pt.log("Listening for data channel"),t.ondatachannel=u=>{pt.log("Received data channel");const d=u.channel;o.getConnection(n,l)._initializeDataChannel(d)},pt.log("Listening for remote stream"),t.ontrack=u=>{pt.log("Received remote stream");const d=u.streams[0],f=o.getConnection(n,l);if(f.type===Pi.Media){const b=f;this._addStreamToMediaConnection(d,b)}}}cleanup(){pt.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let l=!1;const r=this.connection.dataChannel;r&&(l=!!r.readyState&&r.readyState!=="closed"),(n||l)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const l=await t.createOffer(this.connection.options.constraints);pt.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(l.sdp=this.connection.options.sdpTransform(l.sdp)||l.sdp);try{await t.setLocalDescription(l),pt.log("Set localDescription:",l,`for:${this.connection.peer}`);let r={sdp:l,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Pi.Data){const o=this.connection;r={...r,label:o.label,reliable:o.reliable,serialization:o.serialization}}n.socket.send({type:_e.Offer,payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(Ze.WebRTC,r),pt.log("Failed to setLocalDescription, ",r))}}catch(l){n.emitError(Ze.WebRTC,l),pt.log("Failed to createOffer, ",l)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const l=await t.createAnswer();pt.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(l.sdp=this.connection.options.sdpTransform(l.sdp)||l.sdp);try{await t.setLocalDescription(l),pt.log("Set localDescription:",l,`for:${this.connection.peer}`),n.socket.send({type:_e.Answer,payload:{sdp:l,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){n.emitError(Ze.WebRTC,r),pt.log("Failed to setLocalDescription, ",r)}}catch(l){n.emitError(Ze.WebRTC,l),pt.log("Failed to create answer, ",l)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const l=this.connection.peerConnection,r=this.connection.provider;pt.log("Setting remote description",n);const o=this;try{await l.setRemoteDescription(n),pt.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await o._makeAnswer()}catch(u){r.emitError(Ze.WebRTC,u),pt.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(t){pt.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),pt.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(Ze.WebRTC,n),pt.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(pt.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return pt.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(l=>{n.addTrack(l,t)})}_addStreamToMediaConnection(t,n){pt.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class N9 extends Eh.EventEmitter{emitError(t,n){pt.error("Error:",n),this.emit("error",new kR(`${t}`,n))}}class kR extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class w9 extends N9{get open(){return this._open}constructor(t,n,l){super(),this.peer=t,this.provider=n,this.options=l,this._open=!1,this.metadata=l.metadata}}class Qc extends w9{static#t=this.ID_PREFIX="mc_";get type(){return Pi.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,l){super(t,n,l),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Qc.ID_PREFIX+en.randomToken(),this._negotiator=new L9(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{pt.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{pt.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){pt.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,l=t.payload;switch(t.type){case _e.Answer:this._negotiator.handleSDP(n,l.sdp),this._open=!0;break;case _e.Candidate:this._negotiator.handleCandidate(l.candidate);break;default:pt.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){pt.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const l=this.provider._getMessages(this.connectionId);for(const r of l)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class UR{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:l,port:r,path:o,key:u}=this._options,d=new URL(`${n}://${l}:${r}${o}${u}/${t}`);return d.searchParams.set("ts",`${Date.now()}${Math.random()}`),d.searchParams.set("version",J9),fetch(d.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){pt.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==en.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===en.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw pt.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}class Ic extends w9{static#t=this.ID_PREFIX="dc_";static#e=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Pi.Data}constructor(t,n,l){super(t,n,l),this.connectionId=this.options.connectionId||Ic.ID_PREFIX+Y9(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new L9(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{pt.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{pt.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{pt.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(kh.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case _e.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case _e.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:pt.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}}class Uh extends Ic{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Ic.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return pt.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Qd extends Uh{close(t){super.close(t),this._chunkedData={}}constructor(t,n,l){super(t,n,l),this.chunker=new W9,this.serialization=no.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=QX(t),l=n.__peerData;if(l){if(l.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,l=this._chunkedData[n]||{data:[],count:0,total:t.total};if(l.data[t.n]=new Uint8Array(t.data),l.count++,this._chunkedData[n]=l,l.total===l.count){delete this._chunkedData[n];const r=wR(l.data);this._handleDataMessage({data:r})}}_send(t,n){const l=IX(t);if(l instanceof Promise)return this._send_blob(l);if(!n&&l.byteLength>this.chunker.chunkedMTU){this._sendChunks(l);return}this._bufferedSend(l)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);pt.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const l of n)this.send(l,!0)}}class MR extends Uh{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=no.None}}class KR extends Uh{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),l=n.__peerData;if(l&&l.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const l=this.encoder.encode(this.stringify(t));if(l.byteLength>=en.chunkedMTU){this.emitError(kh.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(l)}constructor(...t){super(...t),this.serialization=no.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Mh extends N9{static#t=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,l]of this._connections)t[n]=l;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:MR,json:KR,binary:Qd,"binary-utf8":Qd,default:Qd},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let l;if(t&&t.constructor==Object?n=t:t&&(l=t.toString()),n={debug:0,host:en.CLOUD_HOST,port:en.CLOUD_PORT,path:"/",key:Mh.DEFAULT_KEY,token:en.randomToken(),config:en.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==en.CLOUD_HOST?this._options.secure=en.isSecure():this._options.host==en.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&pt.setLogFunction(this._options.logFunction),pt.logLevel=this._options.debug||0,this._api=new UR(n),this._socket=this._createServerConnection(),!en.supports.audioVideo&&!en.supports.data){this._delayedAbort(Ze.BrowserIncompatible,"The current browser does not support WebRTC");return}if(l&&!en.validateId(l)){this._delayedAbort(Ze.InvalidID,`ID "${l}" is invalid`);return}l?this._initialize(l):this._api.retrieveId().then(r=>this._initialize(r)).catch(r=>this._abort(Ze.ServerError,r))}_createServerConnection(){const t=new ER(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(Ki.Message,n=>{this._handleMessage(n)}),t.on(Ki.Error,n=>{this._abort(Ze.SocketError,n)}),t.on(Ki.Disconnected,()=>{this.disconnected||(this.emitError(Ze.Network,"Lost connection to server."),this.disconnect())}),t.on(Ki.Close,()=>{this.disconnected||this._abort(Ze.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,l=t.payload,r=t.src;switch(n){case _e.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case _e.Error:this._abort(Ze.ServerError,l.msg);break;case _e.IdTaken:this._abort(Ze.UnavailableID,`ID "${this.id}" is taken`);break;case _e.InvalidKey:this._abort(Ze.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case _e.Leave:pt.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case _e.Expire:this.emitError(Ze.PeerUnavailable,`Could not connect to peer ${r}`);break;case _e.Offer:{const o=l.connectionId;let u=this.getConnection(r,o);if(u&&(u.close(),pt.warn(`Offer received for existing Connection ID:${o}`)),l.type===Pi.Media){const f=new Qc(r,this,{connectionId:o,_payload:l,metadata:l.metadata});u=f,this._addConnection(r,u),this.emit("call",f)}else if(l.type===Pi.Data){const f=new this._serializers[l.serialization](r,this,{connectionId:o,_payload:l,metadata:l.metadata,label:l.label,serialization:l.serialization,reliable:l.reliable});u=f,this._addConnection(r,u),this.emit("connection",f)}else{pt.warn(`Received malformed connection type:${l.type}`);return}const d=this._getMessages(o);for(const f of d)u.handleMessage(f);break}default:{if(!l){pt.warn(`You received a malformed message from ${r} of type ${n}`);return}const o=l.connectionId,u=this.getConnection(r,o);u&&u.peerConnection?u.handleMessage(t):o?this._storeMessage(o,t):pt.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){pt.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Ze.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const l=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,l),l}call(t,n,l={}){if(this.disconnected){pt.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Ze.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){pt.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const r=new Qc(t,this,{...l,_stream:n});return this._addConnection(t,r),r}_addConnection(t,n){pt.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const l=n.indexOf(t);l!==-1&&n.splice(l,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const l=this._connections.get(t);if(!l)return null;for(const r of l)if(r.connectionId===n)return r;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){pt.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(pt.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const l of n)l.close()}disconnect(){if(this.disconnected)return;const t=this.id;pt.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)pt.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)pt.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(Ze.ServerError,n))}}class PR{peer=null;connections=[];hostConnection=null;onPeerConnect;constructor(){}initialize(t){return new Promise((n,l)=>{this.peer=new Mh(t),this.peer.on("open",r=>{console.log("My Peer ID is: "+r),n(r)}),this.peer.on("connection",r=>{this.handleConnection(r)}),this.peer.on("error",r=>{console.error(r),l(r)})})}connectToHost(t){if(!this.peer)return;const n=this.peer.connect(t);this.hostConnection=n,n.on("open",()=>{console.log("Connected to host"),n.send({type:"REQUEST_STATE"}),this.onPeerConnect?.(n.peer)}),n.on("data",l=>{this.handleData(l,n)})}handleConnection(t){this.connections.push(t),t.on("open",()=>{this.onPeerConnect?.(t.peer)}),t.on("data",n=>{this.handleData(n,t)}),t.on("close",()=>{this.connections=this.connections.filter(n=>n!==t)})}handleData(t,n){const l=$.getState();switch(console.log("Received data:",t),t.type){case"SYNC_STATE":l.syncState(t.payload);break;case"REQUEST_STATE":l.isHost&&n.send({type:"SYNC_STATE",payload:{tokens:l.tokens,map:l.map,chat:l.chat}});break;case"ACTION":this.applyAction(t.action,t.payload),l.isHost&&this.broadcast({type:"ACTION",action:t.action,payload:t.payload},n.peer);break}}applyAction(t,n){const l=$.getState();switch(t){case"ADD_TOKEN":l.addToken(n);break;case"UPDATE_TOKEN":l.updateToken(n.id,n.data);break;case"ADD_CHAT":l.addChatMessage(n);break;case"UPDATE_MAP":l.updateMap({url:n.url});break;case"ADD_TEXT":l.addText(n);break;case"REMOVE_TEXT":l.removeText(n);break}}broadcast(t,n){this.connections.forEach(l=>{l.peer!==n&&l.send(t)})}sendAction(t,n){this.applyAction(t,n);const l={type:"ACTION",action:t,payload:n};this.hostConnection?this.hostConnection.send(l):this.broadcast(l)}}const St=new PR;function jR(s,t,n,l){const r=s.x,o=s.y,u=t.x-s.x,d=t.y-s.y,f=n.x,b=n.y,p=l.x-n.x,y=l.y-n.y,G=u*y-d*p;if(G===0)return null;const S=((f-r)*y-(b-o)*p)/G,W=((f-r)*d-(b-o)*u)/G;return S>0&&W>=0&&W<=1?{x:r+u*S,y:o+d*S,param:S}:null}const QR=({onEditToken:s})=>{const t=Xt.useRef(null),n=Xt.useRef(null),l=$(N=>N.map),r=$(N=>N.drawings),o=$(N=>N.walls),u=$(N=>N.tokens),d=$(N=>N.pings),f=$(N=>N.texts),b=$(N=>N.myId),p=$(N=>N.isHost),y=Xt.useRef(new ge),G=Xt.useRef(new ge),g=Xt.useRef(new ge),S=Xt.useRef(new ge),V=Xt.useRef(new ge),W=Xt.useRef(new ge),T=Xt.useRef(new ge),E=Xt.useRef(new ge),F=Xt.useRef(new ge),M=Xt.useRef(null);return Xt.useEffect(()=>t.current?((async()=>{const _=new YX;await _.init({resizeTo:t.current,backgroundColor:1710618,antialias:!0}),t.current.appendChild(_.canvas),n.current=_,_.stage.addChild(V.current),_.stage.addChild(g.current),_.stage.addChild(E.current),_.stage.addChild(G.current),_.stage.addChild(S.current),y.current.addChild(g.current),y.current.addChild(V.current),y.current.addChild(T.current),y.current.addChild(F.current);let H=!1,ut=!1,ot=!1,ct={x:0,y:0},O={x:0,y:0},j=[],lt=[];_.canvas.addEventListener("mousedown",q=>{const mt=_.canvas.getBoundingClientRect(),w=q.clientX-mt.left,I=q.clientY-mt.top,at=(w-y.current.position.x)/y.current.scale.x,et=(I-y.current.position.y)/y.current.scale.y;if(q.shiftKey&&$.getState().isHost)ut=!0,O={x:at,y:et};else if(q.altKey)q.button===0?lt=[{x:at,y:et},{x:at,y:et}]:q.button===2&&lt.length>0&&(lt[lt.length-1]={x:at,y:et},lt.push({x:at,y:et}));else if(q.button===1||q.button===0&&q.ctrlKey){const ht=Date.now().toString(),C={id:ht,x:at,y:et,color:$.getState().toolColor||"#ffff00"};$.getState().addPing(C),St.sendAction("SYNC_STATE",{pings:$.getState().pings}),setTimeout(()=>{$.getState().removePing(ht),St.sendAction("SYNC_STATE",{pings:$.getState().pings})},3e3),H=!0,ct={x:q.clientX,y:q.clientY}}else if(q.button===0&&$.getState().activeTool==="draw")ot=!0,j=[{x:at,y:et}];else if(q.button===0&&["circle","cone","cube"].includes($.getState().activeTool)){ot=!0;const ht=Math.round(at/$.getState().map.scale)*$.getState().map.scale,C=Math.round(et/$.getState().map.scale)*$.getState().map.scale;j=[{x:ht,y:C},{x:at,y:et}]}else if(q.button===0&&($.getState().activeTool==="wall"||$.getState().activeTool==="door"))ot=!0,j=[{x:at,y:et},{x:at,y:et}];else if(q.button===0&&$.getState().activeTool==="text"){const ht=window.prompt("Enter text for map:");if(ht?.trim()){const C={id:Date.now().toString(),x:at,y:et,text:ht.trim(),color:$.getState().toolColor||"#ffffff",fontSize:32/y.current.scale.x};$.getState().addText(C),St.sendAction("ADD_TEXT",C)}}else if(q.button===0&&$.getState().activeTool==="pan"&&$.getState().isHost){let ht=!1;const C=$.getState().walls;for(const B of C)if(B.isDoor){const rt=Math.pow(B.p1.x-B.p2.x,2)+Math.pow(B.p1.y-B.p2.y,2);if(rt===0)continue;const dt=Math.max(0,Math.min(1,((at-B.p1.x)*(B.p2.x-B.p1.x)+(et-B.p1.y)*(B.p2.y-B.p1.y))/rt)),bt={x:B.p1.x+dt*(B.p2.x-B.p1.x),y:B.p1.y+dt*(B.p2.y-B.p1.y)};if(Math.sqrt(Math.pow(at-bt.x,2)+Math.pow(et-bt.y,2))<15/$.getState().map.scale){$.getState().toggleWallDoor(B.id),St.sendAction("SYNC_STATE",{walls:$.getState().walls}),ht=!0;break}}ht||(H=!0,ct={x:q.clientX,y:q.clientY})}else q.button===0&&$.getState().activeTool==="pan"&&(H=!0,ct={x:q.clientX,y:q.clientY})}),window.addEventListener("mouseup",q=>{H=!1;const mt=_.canvas.getBoundingClientRect(),w=(q.clientX-mt.left-y.current.position.x)/y.current.scale.x,I=(q.clientY-mt.top-y.current.position.y)/y.current.scale.y;if(ut){ut=!1,F.current.removeChildren();const at=w-O.x,et=I-O.y,ht=Math.sqrt(at*at+et*et);ht>5&&(St.sendAction("SYNC_STATE",{map:{...$.getState().map,revealedAreas:[...$.getState().map.revealedAreas,{x:O.x,y:O.y,radius:ht}]}}),$.getState().revealArea(O.x,O.y,ht))}else if(lt.length>0&&!q.altKey)lt=[],F.current.removeChildren();else if(ot){ot=!1;const at=$.getState().activeTool;if((at==="wall"||at==="door")&&j.length>1){const et=j[0],ht=j[1];if(Math.sqrt(Math.pow(ht.x-et.x,2)+Math.pow(ht.y-et.y,2))>5){const B={id:Date.now().toString(),p1:et,p2:ht,isDoor:at==="door",isOpen:!1};$.getState().addWall(B),St.sendAction("SYNC_STATE",{walls:$.getState().walls})}}else if(j.length>1){const et={id:Date.now().toString(),type:at==="draw"?"freehand":at,color:$.getState().toolColor||"#ffffff",thickness:$.getState().toolThickness||3,points:j};$.getState().addDrawing(et),St.sendAction("SYNC_STATE",{drawings:$.getState().drawings})}j=[]}}),window.addEventListener("mousemove",q=>{const mt=_.canvas.getBoundingClientRect(),w=(q.clientX-mt.left-y.current.position.x)/y.current.scale.x,I=(q.clientY-mt.top-y.current.position.y)/y.current.scale.y;if(H){const at=q.clientX-ct.x,et=q.clientY-ct.y;y.current.position.x+=at,y.current.position.y+=et,ct={x:q.clientX,y:q.clientY}}else if(ut){const at=w-O.x,et=I-O.y,ht=Math.sqrt(at*at+et*et);F.current.removeChildren();const C=new re;C.circle(O.x,O.y,ht),C.fill({color:16777215,alpha:.3}),C.stroke({width:2,color:16776960}),F.current.addChild(C)}else if(lt.length>0){lt[lt.length-1]={x:w,y:I},F.current.removeChildren();const at=new re;at.stroke({width:4,color:16755200,alpha:.8});let et=0;at.moveTo(lt[0].x,lt[0].y);for(let ht=1;ht<lt.length;ht++){const C=lt[ht-1],B=lt[ht];at.lineTo(B.x,B.y);const rt=B.x-C.x,dt=B.y-C.y,bt=Math.sqrt(rt*rt+dt*dt),xt=Math.round(bt/$.getState().map.scale*5);if(et+=xt,ht===lt.length-1){const vt=new hy({text:`${et} ft`,style:new jc({fontFamily:"Arial",fontSize:24,fill:16777215,stroke:{color:0,width:4}})});vt.anchor.set(.5),vt.x=B.x+20,vt.y=B.y-20,F.current.addChild(vt)}else at.circle(B.x,B.y,4).fill(16777215)}F.current.addChild(at)}else if(ot&&j.length>0){const at=$.getState().activeTool;if(at==="draw"){j.push({x:w,y:I});const et=new re;et.moveTo(j[0].x,j[0].y);for(let ht=1;ht<j.length;ht++)et.lineTo(j[ht].x,j[ht].y);et.stroke({width:$.getState().toolThickness||3,color:$.getState().toolColor||"#ffffff"}),F.current.removeChildren(),F.current.addChild(et)}else if(["circle","cone","cube"].includes(at)){j[1]={x:w,y:I};const et=j[0],ht=w-et.x,C=I-et.y,B=Math.sqrt(ht*ht+C*C),rt=new re;if(rt.fill({color:$.getState().toolColor,alpha:.3}),rt.stroke({width:$.getState().toolThickness,color:$.getState().toolColor}),at==="circle")rt.circle(et.x,et.y,B);else if(at==="cube")rt.rect(et.x-B,et.y-B,B*2,B*2);else if(at==="cone"){const dt=Math.atan2(C,ht),bt=53.1/2*(Math.PI/180),xt={x:et.x+Math.cos(dt-bt)*B,y:et.y+Math.sin(dt-bt)*B},vt={x:et.x+Math.cos(dt+bt)*B,y:et.y+Math.sin(dt+bt)*B};rt.moveTo(et.x,et.y),rt.lineTo(xt.x,xt.y),rt.lineTo(vt.x,vt.y),rt.lineTo(et.x,et.y)}F.current.removeChildren(),F.current.addChild(rt)}else if(at==="wall"||at==="door"){j[1]={x:w,y:I};const et=new re;et.moveTo(j[0].x,j[0].y),et.lineTo(j[1].x,j[1].y),et.stroke({width:5,color:at==="door"?16755200:65535,alpha:.8}),F.current.removeChildren(),F.current.addChild(et)}}}),_.canvas.addEventListener("contextmenu",q=>{q.preventDefault()}),window.addEventListener("keyup",q=>{q.key==="Alt"&&lt.length>0&&(lt=[],F.current.removeChildren())}),_.canvas.addEventListener("wheel",q=>{q.preventDefault();const mt=1.1,w=q.deltaY<0?y.current.scale.x*mt:y.current.scale.x/mt;w>.1&&w<5&&y.current.scale.set(w)})})(),()=>{n.current?.destroy({removeView:!0})}):void 0,[]),Xt.useEffect(()=>{(async()=>{if(!(!l.url||!n.current))try{const _=new Image;_.crossOrigin="anonymous",await new Promise((ot,ct)=>{_.onload=ot,_.onerror=ct,_.src=l.url});const H=Mt.from(_);M.current&&y.current.removeChild(M.current);const ut=new xl(H);M.current=ut,y.current.addChildAt(ut,0)}catch(_){console.error("Failed to load map bg",_)}})()},[l.url]),Xt.useEffect(()=>{G.current.removeChildren(),u.forEach(N=>{const _=new ge,H=new re;if(N.auras&&N.auras.length>0&&N.auras.forEach(O=>{const j=O.radius/5*l.scale,lt=new re;lt.circle(0,0,j);const q=parseInt((O.color||"#ffffff").replace("#",""),16);lt.fill({color:q,alpha:.2}),lt.stroke({color:q,width:2,alpha:.5}),_.addChild(lt)}),N.image){const O=new Image;O.crossOrigin="anonymous",O.onload=()=>{if(!_.destroyed)try{const j=Mt.from(O),lt=new xl(j);lt.anchor.set(.5);const q=l.scale-4,mt=Math.max(q/lt.texture.width,q/lt.texture.height);lt.scale.set(mt);const w=new re;w.circle(0,0,l.scale/2-2),w.fill(16777215);const I=new ge;I.addChild(lt),I.addChild(w),lt.mask=w;const at=new re;at.circle(0,0,l.scale/2-2),at.stroke({width:3,color:13421772}),I.addChild(at),_.addChildAt(I,N.auras&&N.auras.length>0?N.auras.length:0)}catch(j){console.error("Failed to create token texture",j)}},O.src=N.image}else H.circle(0,0,l.scale/2-2),H.fill(16711680),H.stroke({width:2,color:16777215}),_.addChild(H);if(N.hidden&&(_.alpha=.5),_.position.set(N.x*l.scale+l.scale/2,N.y*l.scale+l.scale/2),N.stats&&N.stats.maxHp>0){const O=l.scale*.8,j=4,lt=Math.max(0,Math.min(1,N.stats.hp/N.stats.maxHp)),q=new re;q.rect(-O/2,-l.scale/2-8,O,j),q.fill(16711680);const mt=new re;mt.rect(-O/2,-l.scale/2-8,O*lt,j),mt.fill(65280),_.addChild(q),_.addChild(mt)}if(N.conditions&&N.conditions.length>0){const j=-Math.PI/4,lt={poisoned:65280,prone:16776960,stunned:65535,invisible:11189196};if(N.conditions.forEach((q,mt)=>{if(q.toLowerCase()==="dead")return;const w=j+mt*Math.PI/4,I=l.scale/2-2,at=Math.cos(w)*I,et=Math.sin(w)*I,ht=new re;ht.circle(at,et,4),ht.fill(lt[q.toLowerCase()]||16777215),ht.stroke({width:1,color:0}),_.addChild(ht)}),N.conditions.includes("Dead")){const q=new re,mt=l.scale/2-4;q.moveTo(-mt,-mt),q.lineTo(mt,mt),q.moveTo(mt,-mt),q.lineTo(-mt,mt),q.stroke({width:6,color:11141120,alpha:.8}),_.addChild(q)}}_.eventMode="static",_.cursor="pointer";let ut=null,ot={x:0,y:0},ct=0;(p||N.ownerId===b)&&(_.on("pointerdown",O=>{if(O.button===0){const j=Date.now();j-ct<300&&s&&s(N.id),ct=j,ut=O,_.alpha=N.hidden?.3:.5,ot={x:_.x,y:_.y},O.stopPropagation()}}),_.on("rightclick",O=>{p&&(O.stopPropagation(),setTimeout(()=>{confirm(`Manage Token?
OK: Toggle Visibility (Current: ${N.hidden?"Hidden":"Visible"})
Cancel: Delete Token`)&&St.sendAction("UPDATE_TOKEN",{id:N.id,data:{hidden:!N.hidden}})},10))}),_.on("rightclick",O=>{p&&(O.stopPropagation(),O.preventDefault(),St.sendAction("UPDATE_TOKEN",{id:N.id,data:{hidden:!N.hidden}}))}),_.on("pointermove",O=>{if(ut){const j=O.getLocalPosition(_.parent);_.position.set(j.x,j.y)}}),_.on("pointerup",()=>{if(ut){ut=null,_.alpha=N.hidden?.5:1;const O=Math.floor(_.x/l.scale),j=Math.floor(_.y/l.scale);St.sendAction("UPDATE_TOKEN",{id:N.id,data:{x:O,y:j}})}}),_.on("pointerupoutside",()=>{ut=null,_.alpha=N.hidden?.5:1,_.position.set(ot.x,ot.y)})),G.current.addChild(_)})},[u,l.scale,p,b,l.url]),Xt.useEffect(()=>{if(g.current.removeChildren(),!l.fogEnabled){g.current.visible=!1;return}g.current.visible=!0;const N=new re;N.rect(-1e4,-1e4,2e4,2e4),l.revealedAreas.forEach(_=>{N.circle(_.x,_.y,_.radius),N.cut()}),N.fill({color:0,alpha:.95}),g.current.addChild(N)},[l.fogEnabled,l.revealedAreas]),Xt.useEffect(()=>{E.current.removeChildren(),f.forEach(N=>{const _=N.color.replace("#","0x"),H=new hy({text:N.text,style:new jc({fontFamily:"Arial",fontSize:N.fontSize||24,fill:parseInt(_,16),stroke:{color:0,width:4},align:"center"})});H.x=N.x,H.y=N.y,H.anchor.set(.5),p&&(H.eventMode="static",H.cursor="pointer",H.on("rightclick",ut=>{ut.stopPropagation(),ut.preventDefault(),confirm("Delete this text?")&&($.getState().removeText(N.id),St.sendAction("REMOVE_TEXT",N.id))})),E.current.addChild(H)})},[f,p]),Xt.useEffect(()=>{V.current.removeChildren(),p&&o.forEach(N=>{const _=new re;_.moveTo(N.p1.x,N.p1.y),_.lineTo(N.p2.x,N.p2.y);let H=65535;const ut=.5;let ot=4;N.isDoor&&(H=N.isOpen?65280:16755200,ot=N.isOpen?2:6),_.stroke({width:ot,color:H,alpha:ut}),V.current.addChild(_)})},[o,p]),Xt.useEffect(()=>{if(S.current.removeChildren(),!l.dynamicLightingEnabled){S.current.visible=!1;return}S.current.visible=!0;const N=new re;N.rect(-1e4,-1e4,2e4,2e4);const _=p?u:u.filter(H=>H.ownerId===b);if(_.length>0){const H={minX:-5e3,minY:-5e3,maxX:5e3,maxY:5e3},ut=[{id:"b1",p1:{x:H.minX,y:H.minY},p2:{x:H.maxX,y:H.minY}},{id:"b2",p1:{x:H.maxX,y:H.minY},p2:{x:H.maxX,y:H.maxY}},{id:"b3",p1:{x:H.maxX,y:H.maxY},p2:{x:H.minX,y:H.maxY}},{id:"b4",p1:{x:H.minX,y:H.maxY},p2:{x:H.minX,y:H.minY}}],ct=[...o.filter(O=>!O.isDoor||!O.isOpen),...ut];_.forEach(O=>{const j=O.x*l.scale+l.scale/2,lt=O.y*l.scale+l.scale/2;let q=[...ct];const w=(O.lightRadius&&O.lightRadius>0?O.lightRadius:1e3)/5*l.scale,I=[],at=16;for(let B=0;B<at;B++){const rt=B*2*Math.PI/at;I.push({x:j+Math.cos(rt)*w,y:lt+Math.sin(rt)*w})}for(let B=0;B<at;B++){const rt=I[B],dt=I[(B+1)%at];q.push({id:`light_${B}`,p1:rt,p2:dt})}const et=[];q.forEach(B=>{et.push(B.p1,B.p2)});const ht=[];et.forEach(B=>{const rt=Math.atan2(B.y-lt,B.x-j);ht.push(rt-1e-5,rt,rt+1e-5)});const C=[];if(ht.forEach(B=>{const rt=Math.cos(B),dt=Math.sin(B),bt={p1:{x:j,y:lt},p2:{x:j+rt*(w+100),y:lt+dt*(w+100)}};let xt=null,vt=1/0;q.forEach(It=>{const Tt=jR(bt.p1,bt.p2,It.p1,It.p2);Tt&&Tt.param<vt&&(vt=Tt.param,xt=Tt)}),xt&&C.push({x:xt.x,y:xt.y,angle:B})}),C.sort((B,rt)=>B.angle-rt.angle),C.length>0){N.moveTo(C[0].x,C[0].y);for(let B=1;B<C.length;B++)N.lineTo(C[B].x,C[B].y);N.lineTo(C[0].x,C[0].y),N.cut()}})}N.fill({color:0,alpha:.95}),S.current.addChild(N)},[u,o,l.dynamicLightingEnabled,l.scale,p,b]),Xt.useEffect(()=>{W.current.removeChildren(),r.forEach(N=>{if(N.points.length<2)return;const _=new re;if(N.type==="freehand"){_.moveTo(N.points[0].x,N.points[0].y);for(let H=1;H<N.points.length;H++)_.lineTo(N.points[H].x,N.points[H].y);_.stroke({color:N.color,width:N.thickness})}else{const H=N.points[0],ut=N.points[1],ot=ut.x-H.x,ct=ut.y-H.y,O=Math.sqrt(ot*ot+ct*ct);if(_.fill({color:N.color,alpha:.3}),_.stroke({width:N.thickness,color:N.color}),N.type==="circle")_.circle(H.x,H.y,O);else if(N.type==="cube")_.rect(H.x-O,H.y-O,O*2,O*2);else if(N.type==="cone"){const j=Math.atan2(ct,ot),lt=53.1/2*(Math.PI/180),q={x:H.x+Math.cos(j-lt)*O,y:H.y+Math.sin(j-lt)*O},mt={x:H.x+Math.cos(j+lt)*O,y:H.y+Math.sin(j+lt)*O};_.moveTo(H.x,H.y),_.lineTo(q.x,q.y),_.lineTo(mt.x,mt.y),_.lineTo(H.x,H.y)}}W.current.addChild(_)})},[r]),Xt.useEffect(()=>{T.current.removeChildren(),d.forEach(N=>{const _=new re;_.circle(N.x,N.y,10),_.fill({color:N.color,alpha:.8}),_.stroke({width:3,color:16777215});const H=new re;if(H.circle(N.x,N.y,l.scale),H.stroke({width:2,color:N.color,alpha:.5}),T.current.addChild(_),T.current.addChild(H),n.current){let ut=1,ot=1;const ct=O=>{ut+=.05*O.deltaTime,ot-=.02*O.deltaTime,ot<=0&&(ot=0,n.current&&n.current.ticker.remove(ct)),H.scale.set(ut),H.alpha=ot};return n.current.ticker.add(ct),()=>{n.current&&n.current.ticker.remove(ct)}}})},[d,l.scale]),J.jsx("div",{ref:t,className:"w-full h-full"})},Ne=[];for(let s=0;s<256;++s)Ne.push((s+256).toString(16).slice(1));function IR(s,t=0){return(Ne[s[t+0]]+Ne[s[t+1]]+Ne[s[t+2]]+Ne[s[t+3]]+"-"+Ne[s[t+4]]+Ne[s[t+5]]+"-"+Ne[s[t+6]]+Ne[s[t+7]]+"-"+Ne[s[t+8]]+Ne[s[t+9]]+"-"+Ne[s[t+10]]+Ne[s[t+11]]+Ne[s[t+12]]+Ne[s[t+13]]+Ne[s[t+14]]+Ne[s[t+15]]).toLowerCase()}let Id;const AR=new Uint8Array(16);function DR(){if(!Id){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Id=crypto.getRandomValues.bind(crypto)}return Id(AR)}const OR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vy={randomUUID:OR};function qR(s,t,n){s=s||{};const l=s.random??s.rng?.()??DR();if(l.length<16)throw new Error("Random bytes length must be >= 16");return l[6]=l[6]&15|64,l[8]=l[8]&63|128,IR(l)}function Ha(s,t,n){return vy.randomUUID&&!s?vy.randomUUID():qR(s)}const H9=(...s)=>s.filter((t,n,l)=>!!t&&t.trim()!==""&&l.indexOf(t)===n).join(" ").trim();const $R=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const tv=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,l)=>l?l.toUpperCase():n.toLowerCase());const Sy=s=>{const t=tv(s);return t.charAt(0).toUpperCase()+t.slice(1)};var ev={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nv=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const iv=Xt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:r="",children:o,iconNode:u,...d},f)=>Xt.createElement("svg",{ref:f,...ev,width:t,height:t,stroke:s,strokeWidth:l?Number(n)*24/Number(t):n,className:H9("lucide",r),...!o&&!nv(d)&&{"aria-hidden":"true"},...d},[...u.map(([b,p])=>Xt.createElement(b,p)),...Array.isArray(o)?o:[o]]));const Cn=(s,t)=>{const n=Xt.forwardRef(({className:l,...r},o)=>Xt.createElement(iv,{ref:o,iconNode:t,className:H9(`lucide-${$R(Sy(s))}`,`lucide-${s}`,l),...r}));return n.displayName=Sy(s),n};const lv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],sv=Cn("download",lv);const av=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],rv=Cn("eraser",av);const cv=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vy=Cn("loader-circle",cv);const ov=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],uv=Cn("mic-off",ov);const dv=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],hv=Cn("mic",dv);const fv=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],mv=Cn("scroll",fv);const bv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wy=Cn("search",bv);const pv=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yv=Cn("send",pv);const Xv=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zv=Cn("trash",Xv);const xv=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gv=Cn("video-off",xv);const Gv=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Rv=Cn("video",Gv);const vv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sv=Cn("x",vv),Yy=s=>{const t=s.match(/(\d+)d(\d+)([+-]\d+)?/);if(!t)return null;const n=parseInt(t[1]),l=parseInt(t[2]),r=t[3]?parseInt(t[3]):0;let o=0;const u=[];for(let d=0;d<n;d++){const f=Math.floor(Math.random()*l)+1;u.push(f),o+=f}return o+=r,{total:o,rolls:u,mod:r}};var Vv=Object.defineProperty,Wv=(s,t,n)=>t in s?Vv(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n,fs=(s,t,n)=>(Wv(s,typeof t!="symbol"?t+"":t,n),n),Kh=(s,t,n)=>{if(!t.has(s))throw TypeError("Cannot "+n)},_t=(s,t,n)=>(Kh(s,t,"read from private field"),t.get(s)),Fe=(s,t,n)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,n)},Me=(s,t,n,l)=>(Kh(s,t,"write to private field"),t.set(s,n),n),gs=(s,t,n,l)=>({set _(r){Me(s,t,r)},get _(){return _t(s,t)}}),fl=(s,t,n)=>(Kh(s,t,"access private method"),n);function Yv(s){const{selector:t,id:n}=s;let l=document.body,r=document.createElement("canvas");if(r.id=n,r.classList.add("dice-box-canvas"),t){if(typeof t!="string")throw new Error("You must provide a DOM selector as the first argument in order to render the Dice Box");if(l=document.querySelector(t),!(l!=null&&l.nodeName))throw new Error(`DiceBox target DOM node: '${t}' not found or not available yet. Try invoking inside a DOMContentLoaded event`)}return l.appendChild(r),r}const T9="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGR0KF8sdCxmKXtyZXR1cm4gXyooMS1mKSt0KmZ9dmFyIEt0PXR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQ/ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM6dm9pZCAwO3R5cGVvZiBfX2ZpbGVuYW1lPCJ1IiYmKEt0PUt0fHxfX2ZpbGVuYW1lKTtmdW5jdGlvbiB2bChfKXtfPV98fHt9O3ZhciB0O3R8fCh0PXR5cGVvZiBfPCJ1Ij9fOnt9KTt2YXIgZjt0LnJlYWR5PW5ldyBQcm9taXNlKGZ1bmN0aW9uKGUpe2Y9ZX0pO3ZhciBnPXt9LGo7Zm9yKGogaW4gdCl0Lmhhc093blByb3BlcnR5KGopJiYoZ1tqXT10W2pdKTt2YXIgVj0hMSxYPSExLFU9ITEsRz0hMTtWPXR5cGVvZiB3aW5kb3c9PSJvYmplY3QiLFg9dHlwZW9mIGltcG9ydFNjcmlwdHM9PSJmdW5jdGlvbiIsVT10eXBlb2YgcHJvY2Vzcz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zPT0ib2JqZWN0IiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZT09InN0cmluZyIsRz0hViYmIVUmJiFYO3ZhciB2PSIiLFEsdHQsa3QsejtVPyh2PVg/cmVxdWlyZSgicGF0aCIpLmRpcm5hbWUodikrIi8iOl9fZGlybmFtZSsiLyIsUT1mdW5jdGlvbihlLG8pe3JldHVybiBrdHx8KGt0PXJlcXVpcmUoImZzIikpLHp8fCh6PXJlcXVpcmUoInBhdGgiKSksZT16Lm5vcm1hbGl6ZShlKSxrdC5yZWFkRmlsZVN5bmMoZSxvP251bGw6InV0ZjgiKX0sdHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9UShlLCEwKSxlLmJ1ZmZlcnx8KGU9bmV3IFVpbnQ4QXJyYXkoZSkpLEh0KGUuYnVmZmVyKSxlfSwxPHByb2Nlc3MuYXJndi5sZW5ndGgmJnByb2Nlc3MuYXJndlsxXS5yZXBsYWNlKC9cXC9nLCIvIikscHJvY2Vzcy5hcmd2LnNsaWNlKDIpLHByb2Nlc3Mub24oInVuY2F1Z2h0RXhjZXB0aW9uIixmdW5jdGlvbihlKXt0aHJvdyBlfSkscHJvY2Vzcy5vbigidW5oYW5kbGVkUmVqZWN0aW9uIixOdCksdC5pbnNwZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIltFbXNjcmlwdGVuIE1vZHVsZSBvYmplY3RdIn0pOkc/KHR5cGVvZiByZWFkPCJ1IiYmKFE9ZnVuY3Rpb24oZSl7cmV0dXJuIHJlYWQoZSl9KSx0dD1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIHJlYWRidWZmZXI9PSJmdW5jdGlvbiI/bmV3IFVpbnQ4QXJyYXkocmVhZGJ1ZmZlcihlKSk6KGU9cmVhZChlLCJiaW5hcnkiKSxIdCh0eXBlb2YgZT09Im9iamVjdCIpLGUpfSx0eXBlb2YgcHJpbnQ8InUiJiYodHlwZW9mIGNvbnNvbGU+InUiJiYoY29uc29sZT17fSksY29uc29sZS5sb2c9cHJpbnQsY29uc29sZS53YXJuPWNvbnNvbGUuZXJyb3I9dHlwZW9mIHByaW50RXJyPCJ1Ij9wcmludEVycjpwcmludCkpOihWfHxYKSYmKFg/dj1zZWxmLmxvY2F0aW9uLmhyZWY6ZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKHY9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLEt0JiYodj1LdCksdj12LmluZGV4T2YoImJsb2I6IikhPT0wP3Yuc3Vic3RyKDAsdi5sYXN0SW5kZXhPZigiLyIpKzEpOiIiLFE9ZnVuY3Rpb24oZSl7dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBvLm9wZW4oIkdFVCIsZSwhMSksby5zZW5kKG51bGwpLG8ucmVzcG9uc2VUZXh0fSxYJiYodHQ9ZnVuY3Rpb24oZSl7dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBvLm9wZW4oIkdFVCIsZSwhMSksby5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixvLnNlbmQobnVsbCksbmV3IFVpbnQ4QXJyYXkoby5yZXNwb25zZSl9KSk7dmFyIHF0PXQucHJpbnR8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksQnQ9dC5wcmludEVycnx8Y29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7Zm9yKGogaW4gZylnLmhhc093blByb3BlcnR5KGopJiYodFtqXT1nW2pdKTtnPW51bGw7dmFyIG9lPVtdLFB0LGh0O3Qud2FzbUJpbmFyeSYmKGh0PXQud2FzbUJpbmFyeSksdC5ub0V4aXRSdW50aW1lJiZ0Lm5vRXhpdFJ1bnRpbWUsdHlwZW9mIFdlYkFzc2VtYmx5IT0ib2JqZWN0IiYmQnQoIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQiKTt2YXIgTHQsQ3Q9bmV3IFdlYkFzc2VtYmx5LlRhYmxlKHtpbml0aWFsOjQ3NSxlbGVtZW50OiJhbnlmdW5jIn0pLG5lPSExO2Z1bmN0aW9uIEh0KGUsbyl7ZXx8TnQoIkFzc2VydGlvbiBmYWlsZWQ6ICIrbyl9dmFyIGp0LFl0LFZ0LFV0LHJlLHh0PXQuSU5JVElBTF9NRU1PUll8fDY3MTA4ODY0OyhMdD10Lndhc21NZW1vcnk/dC53YXNtTWVtb3J5Om5ldyBXZWJBc3NlbWJseS5NZW1vcnkoe2luaXRpYWw6eHQvNjU1MzYsbWF4aW11bTp4dC82NTUzNn0pKSYmKGp0PUx0LmJ1ZmZlcikseHQ9anQuYnl0ZUxlbmd0aDt2YXIgZXQ9anQ7anQ9ZXQsdC5IRUFQOD1uZXcgSW50OEFycmF5KGV0KSx0LkhFQVAxNj1uZXcgSW50MTZBcnJheShldCksdC5IRUFQMzI9VnQ9bmV3IEludDMyQXJyYXkoZXQpLHQuSEVBUFU4PVl0PW5ldyBVaW50OEFycmF5KGV0KSx0LkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KGV0KSx0LkhFQVBVMzI9bmV3IFVpbnQzMkFycmF5KGV0KSx0LkhFQVBGMzI9VXQ9bmV3IEZsb2F0MzJBcnJheShldCksdC5IRUFQRjY0PXJlPW5ldyBGbG9hdDY0QXJyYXkoZXQpLFZ0WzQ0OTJdPTUyNjEwMDg7ZnVuY3Rpb24gR3QoZSl7Zm9yKDswPGUubGVuZ3RoOyl7dmFyIG89ZS5zaGlmdCgpO2lmKHR5cGVvZiBvPT0iZnVuY3Rpb24iKW8odCk7ZWxzZXt2YXIgbj1vLmhpO3R5cGVvZiBuPT0ibnVtYmVyIj9vLmNpPT09dm9pZCAwP3QuZHluQ2FsbF92KG4pOnQuZHluQ2FsbF92aShuLG8uY2kpOm4oby5jaT09PXZvaWQgMD9udWxsOm8uY2kpfX19dmFyIF9lPVtdLGllPVtdLFF0PVtdLFRlPVtdLEZlPSExO2Z1bmN0aW9uIEZsKCl7dmFyIGU9dC5wcmVSdW4uc2hpZnQoKTtfZS51bnNoaWZ0KGUpfXZhciBFdD0wLFp0PW51bGw7dC5wcmVsb2FkZWRJbWFnZXM9e30sdC5wcmVsb2FkZWRBdWRpb3M9e307ZnVuY3Rpb24gTnQoZSl7dGhyb3cgdC5vbkFib3J0JiZ0Lm9uQWJvcnQoZSksZSs9IiIscXQoZSksQnQoZSksbmU9ITAsbmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcigiYWJvcnQoIitlKyIpLiBCdWlsZCB3aXRoIC1zIEFTU0VSVElPTlM9MSBmb3IgbW9yZSBpbmZvLiIpfWZ1bmN0aW9uIGRlKGUpe3ZhciBvPVR0O3JldHVybiBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGg/by5zdGFydHNXaXRoKGUpOm8uaW5kZXhPZihlKT09PTB9ZnVuY3Rpb24gTWUoKXtyZXR1cm4gZGUoImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiKX12YXIgVHQ9ImFtbW8ud2FzbS53YXNtIjtpZighTWUoKSl7dmFyIEFlPVR0O1R0PXQubG9jYXRlRmlsZT90LmxvY2F0ZUZpbGUoQWUsdik6ditBZX1mdW5jdGlvbiB3ZSgpe3RyeXtpZihodClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaHQpO2lmKHR0KXJldHVybiB0dChUdCk7dGhyb3ciYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifWNhdGNoKGUpe050KGUpfX1mdW5jdGlvbiBNbCgpe3JldHVybiBodHx8IVYmJiFYfHx0eXBlb2YgZmV0Y2ghPSJmdW5jdGlvbiJ8fGRlKCJmaWxlOi8vIik/bmV3IFByb21pc2UoZnVuY3Rpb24oZSl7ZSh3ZSgpKX0pOmZldGNoKFR0LHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihmdW5jdGlvbihlKXtpZighZS5vayl0aHJvdyJmYWlsZWQgdG8gbG9hZCB3YXNtIGJpbmFyeSBmaWxlIGF0ICciK1R0KyInIjtyZXR1cm4gZS5hcnJheUJ1ZmZlcigpfSkuY2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gd2UoKX0pfXZhciBBbD17MTM3NjpmdW5jdGlvbihlLG8sbixyLGMsRCxOLGN0KXtpZihlPXQuZ2V0Q2FjaGUodC5Db25jcmV0ZUNvbnRhY3RSZXN1bHRDYWxsYmFjaylbZV0sIWUuaGFzT3duUHJvcGVydHkoImFkZFNpbmdsZVJlc3VsdCIpKXRocm93ImEgSlNJbXBsZW1lbnRhdGlvbiBtdXN0IGltcGxlbWVudCBhbGwgZnVuY3Rpb25zLCB5b3UgZm9yZ290IENvbmNyZXRlQ29udGFjdFJlc3VsdENhbGxiYWNrOjphZGRTaW5nbGVSZXN1bHQuIjtyZXR1cm4gZS5hZGRTaW5nbGVSZXN1bHQobyxuLHIsYyxELE4sY3QpfX07aWUucHVzaCh7aGk6ZnVuY3Rpb24oKXtrZSgpfX0pO3ZhciBXZT1bXSx3bD17ZTpmdW5jdGlvbigpe050KCl9LGI6ZnVuY3Rpb24oZSxvLG4pe1dlLmxlbmd0aD0wO3ZhciByO2ZvcihuPj49MjtyPVl0W28rK107KVdlLnB1c2goMTA1PnI/cmVbKytuPj4xXTpWdFtuXSksKytuO3JldHVybiBBbFtlXS5hcHBseShudWxsLFdlKX0sYzpmdW5jdGlvbihlLG8sbil7WXQuY29weVdpdGhpbihlLG8sbytuKX0sZDpmdW5jdGlvbigpe050KCJPT00iKX0sYTpmdW5jdGlvbihlKXt2YXIgbz1EYXRlLm5vdygpO3JldHVybiBWdFtlPj4yXT1vLzFlM3wwLFZ0W2UrND4+Ml09byUxZTMqMWUzfDAsMH0sbWVtb3J5Okx0LHRhYmxlOkN0fTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGMpe3QuYXNtPWMuZXhwb3J0cyxFdC0tLHQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmdC5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKEV0KSxFdD09MCYmWnQmJihjPVp0LFp0PW51bGwsYygpKX1mdW5jdGlvbiBvKGMpe2UoYy5pbnN0YW5jZSl9ZnVuY3Rpb24gbihjKXtyZXR1cm4gTWwoKS50aGVuKGZ1bmN0aW9uKEQpe3JldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShELHIpfSkudGhlbihjLGZ1bmN0aW9uKEQpe0J0KCJmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAiK0QpLE50KEQpfSkuY2F0Y2goRD0+e2NvbnNvbGUuZXJyb3IoImVycm9yIixEKSxjb25zb2xlLmVycm9yKGBBbW1vIGZpbGUgJyR7VHR9JyBub3QgZm91bmQuIFRoaXMgaXMgcmVxdWlyZWQgdG8gcnVuIHRoZSBwaHlzaWNzIHNpbXVsYXRpb24uIElzIHlvdXIgJ2Fzc2V0UGF0aCcgY29uZmlnIG9wdGlvbiBjb3JyZWN0IGFuZCBpcyB0aGVyZSBhbiAnYW1tbycgZm9sZGVyIHdpdGggdGhlICdhbW1vLndhc20ud2FzbScgZmlsZT8gRW5zdXJlIHlvdXIgc2VydmVyIGhhcyB0aGUgcHJvcGVyIG1pbWUgdHlwZSBmb3IgJy53YXNtJyBmaWxlcy5gKX0pfXZhciByPXthOndsfTtpZihFdCsrLHQubW9uaXRvclJ1bkRlcGVuZGVuY2llcyYmdC5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKEV0KSx0Lmluc3RhbnRpYXRlV2FzbSl0cnl7cmV0dXJuIHQuaW5zdGFudGlhdGVXYXNtKHIsZSl9Y2F0Y2goYyl7cmV0dXJuIEJ0KCJNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiAiK2MpLCExfXJldHVybiBmdW5jdGlvbigpe2lmKGh0fHx0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmchPSJmdW5jdGlvbiJ8fE1lKCl8fGRlKCJmaWxlOi8vIil8fHR5cGVvZiBmZXRjaCE9ImZ1bmN0aW9uIilyZXR1cm4gbihvKTtmZXRjaChUdCx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oZnVuY3Rpb24oYyl7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKGMscikudGhlbihvLGZ1bmN0aW9uKEQpe3JldHVybiBCdCgid2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICIrRCksQnQoImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIiksbihvKX0pfSl9KCkse319KSgpO3ZhciBrZT10Ll9fX3dhc21fY2FsbF9jdG9ycz1mdW5jdGlvbigpe3JldHVybihrZT10Ll9fX3dhc21fY2FsbF9jdG9ycz10LmFzbS5mKS5hcHBseShudWxsLGFyZ3VtZW50cyl9O3QuX19fZW1fanNfX2FycmF5X2JvdW5kc19jaGVja19lcnJvcj1mdW5jdGlvbigpe3JldHVybih0Ll9fX2VtX2pzX19hcnJheV9ib3VuZHNfY2hlY2tfZXJyb3I9dC5hc20uZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt2YXIgTGU9dC5fZWJfYnRDb2xsaXNpb25Xb3JsZF9nZXREaXNwYXRjaGVyXzA9ZnVuY3Rpb24oKXtyZXR1cm4oTGU9dC5fZWJfYnRDb2xsaXNpb25Xb3JsZF9nZXREaXNwYXRjaGVyXzA9dC5hc20uaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxIZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2dldFBhaXJDYWNoZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKEhlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfZ2V0UGFpckNhY2hlXzA9dC5hc20uaSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxZZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2dldERpc3BhdGNoSW5mb18wPWZ1bmN0aW9uKCl7cmV0dXJuKFllPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfZ2V0RGlzcGF0Y2hJbmZvXzA9dC5hc20uaikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxWZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2FkZENvbGxpc2lvbk9iamVjdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFZlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzE9dC5hc20uaykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxRZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2FkZENvbGxpc2lvbk9iamVjdF8yPWZ1bmN0aW9uKCl7cmV0dXJuKFFlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzI9dC5hc20ubCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxFZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2FkZENvbGxpc2lvbk9iamVjdF8zPWZ1bmN0aW9uKCl7cmV0dXJuKEVlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzM9dC5hc20ubSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxYZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX3JlbW92ZUNvbGxpc2lvbk9iamVjdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFhlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfcmVtb3ZlQ29sbGlzaW9uT2JqZWN0XzE9dC5hc20ubikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxVZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2dldEJyb2FkcGhhc2VfMD1mdW5jdGlvbigpe3JldHVybihVZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2dldEJyb2FkcGhhc2VfMD10LmFzbS5vKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEdlPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfY29udmV4U3dlZXBUZXN0XzU9ZnVuY3Rpb24oKXtyZXR1cm4oR2U9dC5fZWJfYnRDb2xsaXNpb25Xb3JsZF9jb252ZXhTd2VlcFRlc3RfNT10LmFzbS5wKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE5lPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfY29udGFjdFBhaXJUZXN0XzM9ZnVuY3Rpb24oKXtyZXR1cm4oTmU9dC5fZWJfYnRDb2xsaXNpb25Xb3JsZF9jb250YWN0UGFpclRlc3RfMz10LmFzbS5xKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHplPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfY29udGFjdFRlc3RfMj1mdW5jdGlvbigpe3JldHVybih6ZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX2NvbnRhY3RUZXN0XzI9dC5hc20ucikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxxZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX3VwZGF0ZVNpbmdsZUFhYmJfMT1mdW5jdGlvbigpe3JldHVybihxZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX3VwZGF0ZVNpbmdsZUFhYmJfMT10LmFzbS5zKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFplPXQuX2ViX2J0Q29sbGlzaW9uV29ybGRfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihaZT10Ll9lYl9idENvbGxpc2lvbldvcmxkX19fZGVzdHJveV9fXzA9dC5hc20udCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxLZT10Ll9lYl9idFF1YWRXb3JkX3hfMD1mdW5jdGlvbigpe3JldHVybihLZT10Ll9lYl9idFF1YWRXb3JkX3hfMD10LmFzbS51KS5hcHBseShudWxsLGFyZ3VtZW50cyl9LCRlPXQuX2ViX2J0UXVhZFdvcmRfeV8wPWZ1bmN0aW9uKCl7cmV0dXJuKCRlPXQuX2ViX2J0UXVhZFdvcmRfeV8wPXQuYXNtLnYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSmU9dC5fZWJfYnRRdWFkV29yZF96XzA9ZnVuY3Rpb24oKXtyZXR1cm4oSmU9dC5fZWJfYnRRdWFkV29yZF96XzA9dC5hc20udykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0bz10Ll9lYl9idFF1YWRXb3JkX3dfMD1mdW5jdGlvbigpe3JldHVybih0bz10Ll9lYl9idFF1YWRXb3JkX3dfMD10LmFzbS54KS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGVvPXQuX2ViX2J0UXVhZFdvcmRfc2V0WF8xPWZ1bmN0aW9uKCl7cmV0dXJuKGVvPXQuX2ViX2J0UXVhZFdvcmRfc2V0WF8xPXQuYXNtLnkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sb289dC5fZWJfYnRRdWFkV29yZF9zZXRZXzE9ZnVuY3Rpb24oKXtyZXR1cm4ob289dC5fZWJfYnRRdWFkV29yZF9zZXRZXzE9dC5hc20ueikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxubz10Ll9lYl9idFF1YWRXb3JkX3NldFpfMT1mdW5jdGlvbigpe3JldHVybihubz10Ll9lYl9idFF1YWRXb3JkX3NldFpfMT10LmFzbS5BKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHJvPXQuX2ViX2J0UXVhZFdvcmRfc2V0V18xPWZ1bmN0aW9uKCl7cmV0dXJuKHJvPXQuX2ViX2J0UXVhZFdvcmRfc2V0V18xPXQuYXNtLkIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sX289dC5fZWJfYnRRdWFkV29yZF9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKF9vPXQuX2ViX2J0UXVhZFdvcmRfX19kZXN0cm95X19fMD10LmFzbS5DKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGlvPXQuX2ViX2J0TW90aW9uU3RhdGVfZ2V0V29ybGRUcmFuc2Zvcm1fMT1mdW5jdGlvbigpe3JldHVybihpbz10Ll9lYl9idE1vdGlvblN0YXRlX2dldFdvcmxkVHJhbnNmb3JtXzE9dC5hc20uRCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhbz10Ll9lYl9idE1vdGlvblN0YXRlX3NldFdvcmxkVHJhbnNmb3JtXzE9ZnVuY3Rpb24oKXtyZXR1cm4oYW89dC5fZWJfYnRNb3Rpb25TdGF0ZV9zZXRXb3JsZFRyYW5zZm9ybV8xPXQuYXNtLkUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sc289dC5fZWJfYnRNb3Rpb25TdGF0ZV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKHNvPXQuX2ViX2J0TW90aW9uU3RhdGVfX19kZXN0cm95X19fMD10LmFzbS5GKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHBvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldEFuaXNvdHJvcGljRnJpY3Rpb25fMj1mdW5jdGlvbigpe3JldHVybihwbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRBbmlzb3Ryb3BpY0ZyaWN0aW9uXzI9dC5hc20uRykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxsbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRDb2xsaXNpb25TaGFwZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKGxvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldENvbGxpc2lvblNoYXBlXzA9dC5hc20uSCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1bz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRDb250YWN0UHJvY2Vzc2luZ1RocmVzaG9sZF8xPWZ1bmN0aW9uKCl7cmV0dXJuKHVvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkXzE9dC5hc20uSSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxjbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRBY3RpdmF0aW9uU3RhdGVfMT1mdW5jdGlvbigpe3JldHVybihjbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRBY3RpdmF0aW9uU3RhdGVfMT10LmFzbS5KKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHlvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2ZvcmNlQWN0aXZhdGlvblN0YXRlXzE9ZnVuY3Rpb24oKXtyZXR1cm4oeW89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfZm9yY2VBY3RpdmF0aW9uU3RhdGVfMT10LmFzbS5LKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGhvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2FjdGl2YXRlXzA9ZnVuY3Rpb24oKXtyZXR1cm4oaG89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfYWN0aXZhdGVfMD10LmFzbS5MKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGZvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2FjdGl2YXRlXzE9ZnVuY3Rpb24oKXtyZXR1cm4oZm89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfYWN0aXZhdGVfMT10LmFzbS5NKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG1vPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2lzQWN0aXZlXzA9ZnVuY3Rpb24oKXtyZXR1cm4obW89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfaXNBY3RpdmVfMD10LmFzbS5OKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGJvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2lzS2luZW1hdGljT2JqZWN0XzA9ZnVuY3Rpb24oKXtyZXR1cm4oYm89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfaXNLaW5lbWF0aWNPYmplY3RfMD10LmFzbS5PKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2lzU3RhdGljT2JqZWN0XzA9ZnVuY3Rpb24oKXtyZXR1cm4oZ289dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfaXNTdGF0aWNPYmplY3RfMD10LmFzbS5QKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFdvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2lzU3RhdGljT3JLaW5lbWF0aWNPYmplY3RfMD1mdW5jdGlvbigpe3JldHVybihXbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9pc1N0YXRpY09yS2luZW1hdGljT2JqZWN0XzA9dC5hc20uUSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxDbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRSZXN0aXR1dGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKENvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldFJlc3RpdHV0aW9uXzA9dC5hc20uUikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxqbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRGcmljdGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKGpvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldEZyaWN0aW9uXzA9dC5hc20uUykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx2bz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRSb2xsaW5nRnJpY3Rpb25fMD1mdW5jdGlvbigpe3JldHVybih2bz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRSb2xsaW5nRnJpY3Rpb25fMD10LmFzbS5UKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LERvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldFJlc3RpdHV0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oRG89dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0UmVzdGl0dXRpb25fMT10LmFzbS5VKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFJvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldEZyaWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oUm89dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0RnJpY3Rpb25fMT10LmFzbS5WKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFNvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldFJvbGxpbmdGcmljdGlvbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKFNvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldFJvbGxpbmdGcmljdGlvbl8xPXQuYXNtLlcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSW89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfZ2V0V29ybGRUcmFuc2Zvcm1fMD1mdW5jdGlvbigpe3JldHVybihJbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRXb3JsZFRyYW5zZm9ybV8wPXQuYXNtLlgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sT289dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfZ2V0Q29sbGlzaW9uRmxhZ3NfMD1mdW5jdGlvbigpe3JldHVybihPbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9nZXRDb2xsaXNpb25GbGFnc18wPXQuYXNtLlkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQm89dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0Q29sbGlzaW9uRmxhZ3NfMT1mdW5jdGlvbigpe3JldHVybihCbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRDb2xsaXNpb25GbGFnc18xPXQuYXNtLlopLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUG89dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0V29ybGRUcmFuc2Zvcm1fMT1mdW5jdGlvbigpe3JldHVybihQbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRXb3JsZFRyYW5zZm9ybV8xPXQuYXNtLl8pLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seG89dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0Q29sbGlzaW9uU2hhcGVfMT1mdW5jdGlvbigpe3JldHVybih4bz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRDb2xsaXNpb25TaGFwZV8xPXQuYXNtLiQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVG89dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0Q2NkTW90aW9uVGhyZXNob2xkXzE9ZnVuY3Rpb24oKXtyZXR1cm4oVG89dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0Q2NkTW90aW9uVGhyZXNob2xkXzE9dC5hc20uYWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRm89dC5fZWJfYnRDb2xsaXNpb25PYmplY3Rfc2V0Q2NkU3dlcHRTcGhlcmVSYWRpdXNfMT1mdW5jdGlvbigpe3JldHVybihGbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRDY2RTd2VwdFNwaGVyZVJhZGl1c18xPXQuYXNtLmJhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE1vPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldFVzZXJJbmRleF8wPWZ1bmN0aW9uKCl7cmV0dXJuKE1vPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldFVzZXJJbmRleF8wPXQuYXNtLmNhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEFvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldFVzZXJJbmRleF8xPWZ1bmN0aW9uKCl7cmV0dXJuKEFvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldFVzZXJJbmRleF8xPXQuYXNtLmRhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHdvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldFVzZXJQb2ludGVyXzA9ZnVuY3Rpb24oKXtyZXR1cm4od289dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfZ2V0VXNlclBvaW50ZXJfMD10LmFzbS5lYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxrbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9zZXRVc2VyUG9pbnRlcl8xPWZ1bmN0aW9uKCl7cmV0dXJuKGtvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X3NldFVzZXJQb2ludGVyXzE9dC5hc20uZmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTG89dC5fZWJfYnRDb2xsaXNpb25PYmplY3RfZ2V0QnJvYWRwaGFzZUhhbmRsZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKExvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X2dldEJyb2FkcGhhc2VIYW5kbGVfMD10LmFzbS5nYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxIbz10Ll9lYl9idENvbGxpc2lvbk9iamVjdF9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKEhvPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0X19fZGVzdHJveV9fXzA9dC5hc20uaGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWW89dC5fZWJfQ29udGFjdFJlc3VsdENhbGxiYWNrX2FkZFNpbmdsZVJlc3VsdF83PWZ1bmN0aW9uKCl7cmV0dXJuKFlvPXQuX2ViX0NvbnRhY3RSZXN1bHRDYWxsYmFja19hZGRTaW5nbGVSZXN1bHRfNz10LmFzbS5pYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxWbz10Ll9lYl9Db250YWN0UmVzdWx0Q2FsbGJhY2tfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihWbz10Ll9lYl9Db250YWN0UmVzdWx0Q2FsbGJhY2tfX19kZXN0cm95X19fMD10LmFzbS5qYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxRbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19oYXNIaXRfMD1mdW5jdGlvbigpe3JldHVybihRbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19oYXNIaXRfMD10LmFzbS5rYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxFbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8wPWZ1bmN0aW9uKCl7cmV0dXJuKEVvPXQuX2ViX0NvbnZleFJlc3VsdENhbGxiYWNrX2dldF9tX2NvbGxpc2lvbkZpbHRlckdyb3VwXzA9dC5hc20ubGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWG89dC5fZWJfQ29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21fY29sbGlzaW9uRmlsdGVyR3JvdXBfMT1mdW5jdGlvbigpe3JldHVybihYbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8xPXQuYXNtLm1hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFVvPXQuX2ViX0NvbnZleFJlc3VsdENhbGxiYWNrX2dldF9tX2NvbGxpc2lvbkZpbHRlck1hc2tfMD1mdW5jdGlvbigpe3JldHVybihVbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jb2xsaXNpb25GaWx0ZXJNYXNrXzA9dC5hc20ubmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sR289dC5fZWJfQ29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21fY29sbGlzaW9uRmlsdGVyTWFza18xPWZ1bmN0aW9uKCl7cmV0dXJuKEdvPXQuX2ViX0NvbnZleFJlc3VsdENhbGxiYWNrX3NldF9tX2NvbGxpc2lvbkZpbHRlck1hc2tfMT10LmFzbS5vYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxObz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jbG9zZXN0SGl0RnJhY3Rpb25fMD1mdW5jdGlvbigpe3JldHVybihObz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jbG9zZXN0SGl0RnJhY3Rpb25fMD10LmFzbS5wYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx6bz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jbG9zZXN0SGl0RnJhY3Rpb25fMT1mdW5jdGlvbigpe3JldHVybih6bz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jbG9zZXN0SGl0RnJhY3Rpb25fMT10LmFzbS5xYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxxbz10Ll9lYl9Db252ZXhSZXN1bHRDYWxsYmFja19fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKHFvPXQuX2ViX0NvbnZleFJlc3VsdENhbGxiYWNrX19fZGVzdHJveV9fXzA9dC5hc20ucmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWm89dC5fZWJfYnRDb2xsaXNpb25TaGFwZV9zZXRMb2NhbFNjYWxpbmdfMT1mdW5jdGlvbigpe3JldHVybihabz10Ll9lYl9idENvbGxpc2lvblNoYXBlX3NldExvY2FsU2NhbGluZ18xPXQuYXNtLnNhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEtvPXQuX2ViX2J0Q29sbGlzaW9uU2hhcGVfZ2V0TG9jYWxTY2FsaW5nXzA9ZnVuY3Rpb24oKXtyZXR1cm4oS289dC5fZWJfYnRDb2xsaXNpb25TaGFwZV9nZXRMb2NhbFNjYWxpbmdfMD10LmFzbS50YSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwkbz10Ll9lYl9idENvbGxpc2lvblNoYXBlX2NhbGN1bGF0ZUxvY2FsSW5lcnRpYV8yPWZ1bmN0aW9uKCl7cmV0dXJuKCRvPXQuX2ViX2J0Q29sbGlzaW9uU2hhcGVfY2FsY3VsYXRlTG9jYWxJbmVydGlhXzI9dC5hc20udWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSm89dC5fZWJfYnRDb2xsaXNpb25TaGFwZV9zZXRNYXJnaW5fMT1mdW5jdGlvbigpe3JldHVybihKbz10Ll9lYl9idENvbGxpc2lvblNoYXBlX3NldE1hcmdpbl8xPXQuYXNtLnZhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHRuPXQuX2ViX2J0Q29sbGlzaW9uU2hhcGVfZ2V0TWFyZ2luXzA9ZnVuY3Rpb24oKXtyZXR1cm4odG49dC5fZWJfYnRDb2xsaXNpb25TaGFwZV9nZXRNYXJnaW5fMD10LmFzbS53YSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlbj10Ll9lYl9idENvbGxpc2lvblNoYXBlX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oZW49dC5fZWJfYnRDb2xsaXNpb25TaGFwZV9fX2Rlc3Ryb3lfX18wPXQuYXNtLnhhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG9uPXQuX2ViX2J0RGlzcGF0Y2hlcl9nZXROdW1NYW5pZm9sZHNfMD1mdW5jdGlvbigpe3JldHVybihvbj10Ll9lYl9idERpc3BhdGNoZXJfZ2V0TnVtTWFuaWZvbGRzXzA9dC5hc20ueWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbm49dC5fZWJfYnREaXNwYXRjaGVyX2dldE1hbmlmb2xkQnlJbmRleEludGVybmFsXzE9ZnVuY3Rpb24oKXtyZXR1cm4obm49dC5fZWJfYnREaXNwYXRjaGVyX2dldE1hbmlmb2xkQnlJbmRleEludGVybmFsXzE9dC5hc20uemEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scm49dC5fZWJfYnREaXNwYXRjaGVyX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4ocm49dC5fZWJfYnREaXNwYXRjaGVyX19fZGVzdHJveV9fXzA9dC5hc20uQWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sX249dC5fZWJfYnREeW5hbWljc1dvcmxkX2FkZEFjdGlvbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKF9uPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9hZGRBY3Rpb25fMT10LmFzbS5CYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhbj10Ll9lYl9idER5bmFtaWNzV29ybGRfcmVtb3ZlQWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oYW49dC5fZWJfYnREeW5hbWljc1dvcmxkX3JlbW92ZUFjdGlvbl8xPXQuYXNtLkNhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHNuPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9nZXRTb2x2ZXJJbmZvXzA9ZnVuY3Rpb24oKXtyZXR1cm4oc249dC5fZWJfYnREeW5hbWljc1dvcmxkX2dldFNvbHZlckluZm9fMD10LmFzbS5EYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxwbj10Ll9lYl9idER5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMT1mdW5jdGlvbigpe3JldHVybihwbj10Ll9lYl9idER5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMT10LmFzbS5FYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxsbj10Ll9lYl9idER5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMj1mdW5jdGlvbigpe3JldHVybihsbj10Ll9lYl9idER5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMj10LmFzbS5GYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1bj10Ll9lYl9idER5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMz1mdW5jdGlvbigpe3JldHVybih1bj10Ll9lYl9idER5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMz10LmFzbS5HYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxjbj10Ll9lYl9idER5bmFtaWNzV29ybGRfZ2V0RGlzcGF0Y2hlcl8wPWZ1bmN0aW9uKCl7cmV0dXJuKGNuPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9nZXREaXNwYXRjaGVyXzA9dC5hc20uSGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seW49dC5fZWJfYnREeW5hbWljc1dvcmxkX2dldFBhaXJDYWNoZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKHluPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9nZXRQYWlyQ2FjaGVfMD10LmFzbS5JYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxobj10Ll9lYl9idER5bmFtaWNzV29ybGRfZ2V0RGlzcGF0Y2hJbmZvXzA9ZnVuY3Rpb24oKXtyZXR1cm4oaG49dC5fZWJfYnREeW5hbWljc1dvcmxkX2dldERpc3BhdGNoSW5mb18wPXQuYXNtLkphKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGZuPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9hZGRDb2xsaXNpb25PYmplY3RfMT1mdW5jdGlvbigpe3JldHVybihmbj10Ll9lYl9idER5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzE9dC5hc20uS2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbW49dC5fZWJfYnREeW5hbWljc1dvcmxkX2FkZENvbGxpc2lvbk9iamVjdF8yPWZ1bmN0aW9uKCl7cmV0dXJuKG1uPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9hZGRDb2xsaXNpb25PYmplY3RfMj10LmFzbS5MYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxibj10Ll9lYl9idER5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzM9ZnVuY3Rpb24oKXtyZXR1cm4oYm49dC5fZWJfYnREeW5hbWljc1dvcmxkX2FkZENvbGxpc2lvbk9iamVjdF8zPXQuYXNtLk1hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGduPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9yZW1vdmVDb2xsaXNpb25PYmplY3RfMT1mdW5jdGlvbigpe3JldHVybihnbj10Ll9lYl9idER5bmFtaWNzV29ybGRfcmVtb3ZlQ29sbGlzaW9uT2JqZWN0XzE9dC5hc20uTmEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZG49dC5fZWJfYnREeW5hbWljc1dvcmxkX2dldEJyb2FkcGhhc2VfMD1mdW5jdGlvbigpe3JldHVybihkbj10Ll9lYl9idER5bmFtaWNzV29ybGRfZ2V0QnJvYWRwaGFzZV8wPXQuYXNtLk9hKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFduPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9jb252ZXhTd2VlcFRlc3RfNT1mdW5jdGlvbigpe3JldHVybihXbj10Ll9lYl9idER5bmFtaWNzV29ybGRfY29udmV4U3dlZXBUZXN0XzU9dC5hc20uUGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQ249dC5fZWJfYnREeW5hbWljc1dvcmxkX2NvbnRhY3RQYWlyVGVzdF8zPWZ1bmN0aW9uKCl7cmV0dXJuKENuPXQuX2ViX2J0RHluYW1pY3NXb3JsZF9jb250YWN0UGFpclRlc3RfMz10LmFzbS5RYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxqbj10Ll9lYl9idER5bmFtaWNzV29ybGRfY29udGFjdFRlc3RfMj1mdW5jdGlvbigpe3JldHVybihqbj10Ll9lYl9idER5bmFtaWNzV29ybGRfY29udGFjdFRlc3RfMj10LmFzbS5SYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx2bj10Ll9lYl9idER5bmFtaWNzV29ybGRfdXBkYXRlU2luZ2xlQWFiYl8xPWZ1bmN0aW9uKCl7cmV0dXJuKHZuPXQuX2ViX2J0RHluYW1pY3NXb3JsZF91cGRhdGVTaW5nbGVBYWJiXzE9dC5hc20uU2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRG49dC5fZWJfYnREeW5hbWljc1dvcmxkX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oRG49dC5fZWJfYnREeW5hbWljc1dvcmxkX19fZGVzdHJveV9fXzA9dC5hc20uVGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUm49dC5fZWJfVm9pZFB0cl9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKFJuPXQuX2ViX1ZvaWRQdHJfX19kZXN0cm95X19fMD10LmFzbS5VYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxTbj10Ll9lYl9idFZlY3RvcjNfYnRWZWN0b3IzXzA9ZnVuY3Rpb24oKXtyZXR1cm4oU249dC5fZWJfYnRWZWN0b3IzX2J0VmVjdG9yM18wPXQuYXNtLlZhKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEluPXQuX2ViX2J0VmVjdG9yM19idFZlY3RvcjNfMz1mdW5jdGlvbigpe3JldHVybihJbj10Ll9lYl9idFZlY3RvcjNfYnRWZWN0b3IzXzM9dC5hc20uV2EpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sT249dC5fZWJfYnRWZWN0b3IzX2xlbmd0aF8wPWZ1bmN0aW9uKCl7cmV0dXJuKE9uPXQuX2ViX2J0VmVjdG9yM19sZW5ndGhfMD10LmFzbS5YYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxCbj10Ll9lYl9idFZlY3RvcjNfeF8wPWZ1bmN0aW9uKCl7cmV0dXJuKEJuPXQuX2ViX2J0VmVjdG9yM194XzA9dC5hc20uWWEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUG49dC5fZWJfYnRWZWN0b3IzX3lfMD1mdW5jdGlvbigpe3JldHVybihQbj10Ll9lYl9idFZlY3RvcjNfeV8wPXQuYXNtLlphKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHhuPXQuX2ViX2J0VmVjdG9yM196XzA9ZnVuY3Rpb24oKXtyZXR1cm4oeG49dC5fZWJfYnRWZWN0b3IzX3pfMD10LmFzbS5fYSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxUbj10Ll9lYl9idFZlY3RvcjNfc2V0WF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFRuPXQuX2ViX2J0VmVjdG9yM19zZXRYXzE9dC5hc20uJGEpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRm49dC5fZWJfYnRWZWN0b3IzX3NldFlfMT1mdW5jdGlvbigpe3JldHVybihGbj10Ll9lYl9idFZlY3RvcjNfc2V0WV8xPXQuYXNtLmFiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE1uPXQuX2ViX2J0VmVjdG9yM19zZXRaXzE9ZnVuY3Rpb24oKXtyZXR1cm4oTW49dC5fZWJfYnRWZWN0b3IzX3NldFpfMT10LmFzbS5iYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxBbj10Ll9lYl9idFZlY3RvcjNfc2V0VmFsdWVfMz1mdW5jdGlvbigpe3JldHVybihBbj10Ll9lYl9idFZlY3RvcjNfc2V0VmFsdWVfMz10LmFzbS5jYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx3bj10Ll9lYl9idFZlY3RvcjNfbm9ybWFsaXplXzA9ZnVuY3Rpb24oKXtyZXR1cm4od249dC5fZWJfYnRWZWN0b3IzX25vcm1hbGl6ZV8wPXQuYXNtLmRiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGtuPXQuX2ViX2J0VmVjdG9yM19yb3RhdGVfMj1mdW5jdGlvbigpe3JldHVybihrbj10Ll9lYl9idFZlY3RvcjNfcm90YXRlXzI9dC5hc20uZWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTG49dC5fZWJfYnRWZWN0b3IzX2RvdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKExuPXQuX2ViX2J0VmVjdG9yM19kb3RfMT10LmFzbS5mYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxIbj10Ll9lYl9idFZlY3RvcjNfb3BfbXVsXzE9ZnVuY3Rpb24oKXtyZXR1cm4oSG49dC5fZWJfYnRWZWN0b3IzX29wX211bF8xPXQuYXNtLmdiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFluPXQuX2ViX2J0VmVjdG9yM19vcF9hZGRfMT1mdW5jdGlvbigpe3JldHVybihZbj10Ll9lYl9idFZlY3RvcjNfb3BfYWRkXzE9dC5hc20uaGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVm49dC5fZWJfYnRWZWN0b3IzX29wX3N1Yl8xPWZ1bmN0aW9uKCl7cmV0dXJuKFZuPXQuX2ViX2J0VmVjdG9yM19vcF9zdWJfMT10LmFzbS5pYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxRbj10Ll9lYl9idFZlY3RvcjNfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihRbj10Ll9lYl9idFZlY3RvcjNfX19kZXN0cm95X19fMD10LmFzbS5qYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxFbj10Ll9lYl9idFF1YXRlcm5pb25fYnRRdWF0ZXJuaW9uXzQ9ZnVuY3Rpb24oKXtyZXR1cm4oRW49dC5fZWJfYnRRdWF0ZXJuaW9uX2J0UXVhdGVybmlvbl80PXQuYXNtLmtiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFhuPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRWYWx1ZV80PWZ1bmN0aW9uKCl7cmV0dXJuKFhuPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRWYWx1ZV80PXQuYXNtLmxiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFVuPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRFdWxlclpZWF8zPWZ1bmN0aW9uKCl7cmV0dXJuKFVuPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRFdWxlclpZWF8zPXQuYXNtLm1iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEduPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRSb3RhdGlvbl8yPWZ1bmN0aW9uKCl7cmV0dXJuKEduPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRSb3RhdGlvbl8yPXQuYXNtLm5iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE5uPXQuX2ViX2J0UXVhdGVybmlvbl9ub3JtYWxpemVfMD1mdW5jdGlvbigpe3JldHVybihObj10Ll9lYl9idFF1YXRlcm5pb25fbm9ybWFsaXplXzA9dC5hc20ub2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sem49dC5fZWJfYnRRdWF0ZXJuaW9uX2xlbmd0aDJfMD1mdW5jdGlvbigpe3JldHVybih6bj10Ll9lYl9idFF1YXRlcm5pb25fbGVuZ3RoMl8wPXQuYXNtLnBiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHFuPXQuX2ViX2J0UXVhdGVybmlvbl9sZW5ndGhfMD1mdW5jdGlvbigpe3JldHVybihxbj10Ll9lYl9idFF1YXRlcm5pb25fbGVuZ3RoXzA9dC5hc20ucWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWm49dC5fZWJfYnRRdWF0ZXJuaW9uX2RvdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFpuPXQuX2ViX2J0UXVhdGVybmlvbl9kb3RfMT10LmFzbS5yYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxLbj10Ll9lYl9idFF1YXRlcm5pb25fbm9ybWFsaXplZF8wPWZ1bmN0aW9uKCl7cmV0dXJuKEtuPXQuX2ViX2J0UXVhdGVybmlvbl9ub3JtYWxpemVkXzA9dC5hc20uc2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sJG49dC5fZWJfYnRRdWF0ZXJuaW9uX2dldEF4aXNfMD1mdW5jdGlvbigpe3JldHVybigkbj10Ll9lYl9idFF1YXRlcm5pb25fZ2V0QXhpc18wPXQuYXNtLnRiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEpuPXQuX2ViX2J0UXVhdGVybmlvbl9pbnZlcnNlXzA9ZnVuY3Rpb24oKXtyZXR1cm4oSm49dC5fZWJfYnRRdWF0ZXJuaW9uX2ludmVyc2VfMD10LmFzbS51YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0cj10Ll9lYl9idFF1YXRlcm5pb25fZ2V0QW5nbGVfMD1mdW5jdGlvbigpe3JldHVybih0cj10Ll9lYl9idFF1YXRlcm5pb25fZ2V0QW5nbGVfMD10LmFzbS52YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxlcj10Ll9lYl9idFF1YXRlcm5pb25fZ2V0QW5nbGVTaG9ydGVzdFBhdGhfMD1mdW5jdGlvbigpe3JldHVybihlcj10Ll9lYl9idFF1YXRlcm5pb25fZ2V0QW5nbGVTaG9ydGVzdFBhdGhfMD10LmFzbS53YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxvcj10Ll9lYl9idFF1YXRlcm5pb25fYW5nbGVfMT1mdW5jdGlvbigpe3JldHVybihvcj10Ll9lYl9idFF1YXRlcm5pb25fYW5nbGVfMT10LmFzbS54YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxucj10Ll9lYl9idFF1YXRlcm5pb25fYW5nbGVTaG9ydGVzdFBhdGhfMT1mdW5jdGlvbigpe3JldHVybihucj10Ll9lYl9idFF1YXRlcm5pb25fYW5nbGVTaG9ydGVzdFBhdGhfMT10LmFzbS55YikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxycj10Ll9lYl9idFF1YXRlcm5pb25fb3BfYWRkXzE9ZnVuY3Rpb24oKXtyZXR1cm4ocnI9dC5fZWJfYnRRdWF0ZXJuaW9uX29wX2FkZF8xPXQuYXNtLnpiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LF9yPXQuX2ViX2J0UXVhdGVybmlvbl9vcF9zdWJfMT1mdW5jdGlvbigpe3JldHVybihfcj10Ll9lYl9idFF1YXRlcm5pb25fb3Bfc3ViXzE9dC5hc20uQWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saXI9dC5fZWJfYnRRdWF0ZXJuaW9uX29wX211bF8xPWZ1bmN0aW9uKCl7cmV0dXJuKGlyPXQuX2ViX2J0UXVhdGVybmlvbl9vcF9tdWxfMT10LmFzbS5CYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhcj10Ll9lYl9idFF1YXRlcm5pb25fb3BfbXVscV8xPWZ1bmN0aW9uKCl7cmV0dXJuKGFyPXQuX2ViX2J0UXVhdGVybmlvbl9vcF9tdWxxXzE9dC5hc20uQ2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sc3I9dC5fZWJfYnRRdWF0ZXJuaW9uX29wX2Rpdl8xPWZ1bmN0aW9uKCl7cmV0dXJuKHNyPXQuX2ViX2J0UXVhdGVybmlvbl9vcF9kaXZfMT10LmFzbS5EYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxwcj10Ll9lYl9idFF1YXRlcm5pb25feF8wPWZ1bmN0aW9uKCl7cmV0dXJuKHByPXQuX2ViX2J0UXVhdGVybmlvbl94XzA9dC5hc20uRWIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbHI9dC5fZWJfYnRRdWF0ZXJuaW9uX3lfMD1mdW5jdGlvbigpe3JldHVybihscj10Ll9lYl9idFF1YXRlcm5pb25feV8wPXQuYXNtLkZiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHVyPXQuX2ViX2J0UXVhdGVybmlvbl96XzA9ZnVuY3Rpb24oKXtyZXR1cm4odXI9dC5fZWJfYnRRdWF0ZXJuaW9uX3pfMD10LmFzbS5HYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxjcj10Ll9lYl9idFF1YXRlcm5pb25fd18wPWZ1bmN0aW9uKCl7cmV0dXJuKGNyPXQuX2ViX2J0UXVhdGVybmlvbl93XzA9dC5hc20uSGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seXI9dC5fZWJfYnRRdWF0ZXJuaW9uX3NldFhfMT1mdW5jdGlvbigpe3JldHVybih5cj10Ll9lYl9idFF1YXRlcm5pb25fc2V0WF8xPXQuYXNtLkliKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGhyPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRZXzE9ZnVuY3Rpb24oKXtyZXR1cm4oaHI9dC5fZWJfYnRRdWF0ZXJuaW9uX3NldFlfMT10LmFzbS5KYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxmcj10Ll9lYl9idFF1YXRlcm5pb25fc2V0Wl8xPWZ1bmN0aW9uKCl7cmV0dXJuKGZyPXQuX2ViX2J0UXVhdGVybmlvbl9zZXRaXzE9dC5hc20uS2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbXI9dC5fZWJfYnRRdWF0ZXJuaW9uX3NldFdfMT1mdW5jdGlvbigpe3JldHVybihtcj10Ll9lYl9idFF1YXRlcm5pb25fc2V0V18xPXQuYXNtLkxiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGJyPXQuX2ViX2J0UXVhdGVybmlvbl9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKGJyPXQuX2ViX2J0UXVhdGVybmlvbl9fX2Rlc3Ryb3lfX18wPXQuYXNtLk1iKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdyPXQuX2ViX2J0TWF0cml4M3gzX3NldEV1bGVyWllYXzM9ZnVuY3Rpb24oKXtyZXR1cm4oZ3I9dC5fZWJfYnRNYXRyaXgzeDNfc2V0RXVsZXJaWVhfMz10LmFzbS5OYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxkcj10Ll9lYl9idE1hdHJpeDN4M19nZXRSb3RhdGlvbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKGRyPXQuX2ViX2J0TWF0cml4M3gzX2dldFJvdGF0aW9uXzE9dC5hc20uT2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sV3I9dC5fZWJfYnRNYXRyaXgzeDNfZ2V0Um93XzE9ZnVuY3Rpb24oKXtyZXR1cm4oV3I9dC5fZWJfYnRNYXRyaXgzeDNfZ2V0Um93XzE9dC5hc20uUGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQ3I9dC5fZWJfYnRNYXRyaXgzeDNfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihDcj10Ll9lYl9idE1hdHJpeDN4M19fX2Rlc3Ryb3lfX18wPXQuYXNtLlFiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGpyPXQuX2ViX2J0VHJhbnNmb3JtX2J0VHJhbnNmb3JtXzA9ZnVuY3Rpb24oKXtyZXR1cm4oanI9dC5fZWJfYnRUcmFuc2Zvcm1fYnRUcmFuc2Zvcm1fMD10LmFzbS5SYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx2cj10Ll9lYl9idFRyYW5zZm9ybV9idFRyYW5zZm9ybV8yPWZ1bmN0aW9uKCl7cmV0dXJuKHZyPXQuX2ViX2J0VHJhbnNmb3JtX2J0VHJhbnNmb3JtXzI9dC5hc20uU2IpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRHI9dC5fZWJfYnRUcmFuc2Zvcm1fc2V0SWRlbnRpdHlfMD1mdW5jdGlvbigpe3JldHVybihEcj10Ll9lYl9idFRyYW5zZm9ybV9zZXRJZGVudGl0eV8wPXQuYXNtLlRiKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFJyPXQuX2ViX2J0VHJhbnNmb3JtX3NldE9yaWdpbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKFJyPXQuX2ViX2J0VHJhbnNmb3JtX3NldE9yaWdpbl8xPXQuYXNtLlViKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFNyPXQuX2ViX2J0VHJhbnNmb3JtX3NldFJvdGF0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oU3I9dC5fZWJfYnRUcmFuc2Zvcm1fc2V0Um90YXRpb25fMT10LmFzbS5WYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxJcj10Ll9lYl9idFRyYW5zZm9ybV9nZXRPcmlnaW5fMD1mdW5jdGlvbigpe3JldHVybihJcj10Ll9lYl9idFRyYW5zZm9ybV9nZXRPcmlnaW5fMD10LmFzbS5XYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxPcj10Ll9lYl9idFRyYW5zZm9ybV9nZXRSb3RhdGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKE9yPXQuX2ViX2J0VHJhbnNmb3JtX2dldFJvdGF0aW9uXzA9dC5hc20uWGIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQnI9dC5fZWJfYnRUcmFuc2Zvcm1fZ2V0QmFzaXNfMD1mdW5jdGlvbigpe3JldHVybihCcj10Ll9lYl9idFRyYW5zZm9ybV9nZXRCYXNpc18wPXQuYXNtLlliKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFByPXQuX2ViX2J0VHJhbnNmb3JtX3NldEZyb21PcGVuR0xNYXRyaXhfMT1mdW5jdGlvbigpe3JldHVybihQcj10Ll9lYl9idFRyYW5zZm9ybV9zZXRGcm9tT3BlbkdMTWF0cml4XzE9dC5hc20uWmIpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seHI9dC5fZWJfYnRUcmFuc2Zvcm1faW52ZXJzZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKHhyPXQuX2ViX2J0VHJhbnNmb3JtX2ludmVyc2VfMD10LmFzbS5fYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxUcj10Ll9lYl9idFRyYW5zZm9ybV9vcF9tdWxfMT1mdW5jdGlvbigpe3JldHVybihUcj10Ll9lYl9idFRyYW5zZm9ybV9vcF9tdWxfMT10LmFzbS4kYikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxGcj10Ll9lYl9idFRyYW5zZm9ybV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKEZyPXQuX2ViX2J0VHJhbnNmb3JtX19fZGVzdHJveV9fXzA9dC5hc20uYWMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTXI9dC5fZWJfYnREZWZhdWx0TW90aW9uU3RhdGVfYnREZWZhdWx0TW90aW9uU3RhdGVfMD1mdW5jdGlvbigpe3JldHVybihNcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9idERlZmF1bHRNb3Rpb25TdGF0ZV8wPXQuYXNtLmJjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEFyPXQuX2ViX2J0RGVmYXVsdE1vdGlvblN0YXRlX2J0RGVmYXVsdE1vdGlvblN0YXRlXzE9ZnVuY3Rpb24oKXtyZXR1cm4oQXI9dC5fZWJfYnREZWZhdWx0TW90aW9uU3RhdGVfYnREZWZhdWx0TW90aW9uU3RhdGVfMT10LmFzbS5jYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx3cj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9idERlZmF1bHRNb3Rpb25TdGF0ZV8yPWZ1bmN0aW9uKCl7cmV0dXJuKHdyPXQuX2ViX2J0RGVmYXVsdE1vdGlvblN0YXRlX2J0RGVmYXVsdE1vdGlvblN0YXRlXzI9dC5hc20uZGMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sa3I9dC5fZWJfYnREZWZhdWx0TW90aW9uU3RhdGVfZ2V0V29ybGRUcmFuc2Zvcm1fMT1mdW5jdGlvbigpe3JldHVybihrcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9nZXRXb3JsZFRyYW5zZm9ybV8xPXQuYXNtLmVjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LExyPXQuX2ViX2J0RGVmYXVsdE1vdGlvblN0YXRlX3NldFdvcmxkVHJhbnNmb3JtXzE9ZnVuY3Rpb24oKXtyZXR1cm4oTHI9dC5fZWJfYnREZWZhdWx0TW90aW9uU3RhdGVfc2V0V29ybGRUcmFuc2Zvcm1fMT10LmFzbS5mYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxIcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9nZXRfbV9ncmFwaGljc1dvcmxkVHJhbnNfMD1mdW5jdGlvbigpe3JldHVybihIcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9nZXRfbV9ncmFwaGljc1dvcmxkVHJhbnNfMD10LmFzbS5nYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxZcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9zZXRfbV9ncmFwaGljc1dvcmxkVHJhbnNfMT1mdW5jdGlvbigpe3JldHVybihZcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9zZXRfbV9ncmFwaGljc1dvcmxkVHJhbnNfMT10LmFzbS5oYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxWcj10Ll9lYl9idERlZmF1bHRNb3Rpb25TdGF0ZV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKFZyPXQuX2ViX2J0RGVmYXVsdE1vdGlvblN0YXRlX19fZGVzdHJveV9fXzA9dC5hc20uaWMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUXI9dC5fZWJfYnRDb2xsaXNpb25PYmplY3RXcmFwcGVyX2dldFdvcmxkVHJhbnNmb3JtXzA9ZnVuY3Rpb24oKXtyZXR1cm4oUXI9dC5fZWJfYnRDb2xsaXNpb25PYmplY3RXcmFwcGVyX2dldFdvcmxkVHJhbnNmb3JtXzA9dC5hc20uamMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRXI9dC5fZWJfYnRDb2xsaXNpb25PYmplY3RXcmFwcGVyX2dldENvbGxpc2lvbk9iamVjdF8wPWZ1bmN0aW9uKCl7cmV0dXJuKEVyPXQuX2ViX2J0Q29sbGlzaW9uT2JqZWN0V3JhcHBlcl9nZXRDb2xsaXNpb25PYmplY3RfMD10LmFzbS5rYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxYcj10Ll9lYl9idENvbGxpc2lvbk9iamVjdFdyYXBwZXJfZ2V0Q29sbGlzaW9uU2hhcGVfMD1mdW5jdGlvbigpe3JldHVybihYcj10Ll9lYl9idENvbGxpc2lvbk9iamVjdFdyYXBwZXJfZ2V0Q29sbGlzaW9uU2hhcGVfMD10LmFzbS5sYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxVcj10Ll9lYl9idENvbnN0Q29sbGlzaW9uT2JqZWN0QXJyYXlfc2l6ZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKFVyPXQuX2ViX2J0Q29uc3RDb2xsaXNpb25PYmplY3RBcnJheV9zaXplXzA9dC5hc20ubWMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sR3I9dC5fZWJfYnRDb25zdENvbGxpc2lvbk9iamVjdEFycmF5X2F0XzE9ZnVuY3Rpb24oKXtyZXR1cm4oR3I9dC5fZWJfYnRDb25zdENvbGxpc2lvbk9iamVjdEFycmF5X2F0XzE9dC5hc20ubmMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTnI9dC5fZWJfYnRDb25zdENvbGxpc2lvbk9iamVjdEFycmF5X19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oTnI9dC5fZWJfYnRDb25zdENvbGxpc2lvbk9iamVjdEFycmF5X19fZGVzdHJveV9fXzA9dC5hc20ub2MpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0senI9dC5fZWJfYnRTY2FsYXJBcnJheV9zaXplXzA9ZnVuY3Rpb24oKXtyZXR1cm4oenI9dC5fZWJfYnRTY2FsYXJBcnJheV9zaXplXzA9dC5hc20ucGMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scXI9dC5fZWJfYnRTY2FsYXJBcnJheV9hdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKHFyPXQuX2ViX2J0U2NhbGFyQXJyYXlfYXRfMT10LmFzbS5xYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxacj10Ll9lYl9idFNjYWxhckFycmF5X19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oWnI9dC5fZWJfYnRTY2FsYXJBcnJheV9fX2Rlc3Ryb3lfX18wPXQuYXNtLnJjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEtyPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9nZXRQb3NpdGlvbldvcmxkT25BXzA9ZnVuY3Rpb24oKXtyZXR1cm4oS3I9dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldFBvc2l0aW9uV29ybGRPbkFfMD10LmFzbS5zYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwkcj10Ll9lYl9idE1hbmlmb2xkUG9pbnRfZ2V0UG9zaXRpb25Xb3JsZE9uQl8wPWZ1bmN0aW9uKCl7cmV0dXJuKCRyPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9nZXRQb3NpdGlvbldvcmxkT25CXzA9dC5hc20udGMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSnI9dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldEFwcGxpZWRJbXB1bHNlXzA9ZnVuY3Rpb24oKXtyZXR1cm4oSnI9dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldEFwcGxpZWRJbXB1bHNlXzA9dC5hc20udWMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdF89dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldERpc3RhbmNlXzA9ZnVuY3Rpb24oKXtyZXR1cm4odF89dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldERpc3RhbmNlXzA9dC5hc20udmMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZV89dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldF9tX2xvY2FsUG9pbnRBXzA9ZnVuY3Rpb24oKXtyZXR1cm4oZV89dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldF9tX2xvY2FsUG9pbnRBXzA9dC5hc20ud2MpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sb189dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX2xvY2FsUG9pbnRBXzE9ZnVuY3Rpb24oKXtyZXR1cm4ob189dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX2xvY2FsUG9pbnRBXzE9dC5hc20ueGMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbl89dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldF9tX2xvY2FsUG9pbnRCXzA9ZnVuY3Rpb24oKXtyZXR1cm4obl89dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldF9tX2xvY2FsUG9pbnRCXzA9dC5hc20ueWMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scl89dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX2xvY2FsUG9pbnRCXzE9ZnVuY3Rpb24oKXtyZXR1cm4ocl89dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX2xvY2FsUG9pbnRCXzE9dC5hc20uemMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sX189dC5fZWJfYnRNYW5pZm9sZFBvaW50X2dldF9tX3Bvc2l0aW9uV29ybGRPbkJfMD1mdW5jdGlvbigpe3JldHVybihfXz10Ll9lYl9idE1hbmlmb2xkUG9pbnRfZ2V0X21fcG9zaXRpb25Xb3JsZE9uQl8wPXQuYXNtLkFjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGlfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9zZXRfbV9wb3NpdGlvbldvcmxkT25CXzE9ZnVuY3Rpb24oKXtyZXR1cm4oaV89dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX3Bvc2l0aW9uV29ybGRPbkJfMT10LmFzbS5CYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhXz10Ll9lYl9idE1hbmlmb2xkUG9pbnRfZ2V0X21fcG9zaXRpb25Xb3JsZE9uQV8wPWZ1bmN0aW9uKCl7cmV0dXJuKGFfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9nZXRfbV9wb3NpdGlvbldvcmxkT25BXzA9dC5hc20uQ2MpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sc189dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX3Bvc2l0aW9uV29ybGRPbkFfMT1mdW5jdGlvbigpe3JldHVybihzXz10Ll9lYl9idE1hbmlmb2xkUG9pbnRfc2V0X21fcG9zaXRpb25Xb3JsZE9uQV8xPXQuYXNtLkRjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHBfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9nZXRfbV9ub3JtYWxXb3JsZE9uQl8wPWZ1bmN0aW9uKCl7cmV0dXJuKHBfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9nZXRfbV9ub3JtYWxXb3JsZE9uQl8wPXQuYXNtLkVjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGxfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9zZXRfbV9ub3JtYWxXb3JsZE9uQl8xPWZ1bmN0aW9uKCl7cmV0dXJuKGxfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9zZXRfbV9ub3JtYWxXb3JsZE9uQl8xPXQuYXNtLkZjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHVfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9nZXRfbV91c2VyUGVyc2lzdGVudERhdGFfMD1mdW5jdGlvbigpe3JldHVybih1Xz10Ll9lYl9idE1hbmlmb2xkUG9pbnRfZ2V0X21fdXNlclBlcnNpc3RlbnREYXRhXzA9dC5hc20uR2MpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sY189dC5fZWJfYnRNYW5pZm9sZFBvaW50X3NldF9tX3VzZXJQZXJzaXN0ZW50RGF0YV8xPWZ1bmN0aW9uKCl7cmV0dXJuKGNfPXQuX2ViX2J0TWFuaWZvbGRQb2ludF9zZXRfbV91c2VyUGVyc2lzdGVudERhdGFfMT10LmFzbS5IYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx5Xz10Ll9lYl9idE1hbmlmb2xkUG9pbnRfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybih5Xz10Ll9lYl9idE1hbmlmb2xkUG9pbnRfX19kZXN0cm95X19fMD10LmFzbS5JYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxoXz10Ll9lYl9Db25jcmV0ZUNvbnRhY3RSZXN1bHRDYWxsYmFja19Db25jcmV0ZUNvbnRhY3RSZXN1bHRDYWxsYmFja18wPWZ1bmN0aW9uKCl7cmV0dXJuKGhfPXQuX2ViX0NvbmNyZXRlQ29udGFjdFJlc3VsdENhbGxiYWNrX0NvbmNyZXRlQ29udGFjdFJlc3VsdENhbGxiYWNrXzA9dC5hc20uSmMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZl89dC5fZWJfQ29uY3JldGVDb250YWN0UmVzdWx0Q2FsbGJhY2tfYWRkU2luZ2xlUmVzdWx0Xzc9ZnVuY3Rpb24oKXtyZXR1cm4oZl89dC5fZWJfQ29uY3JldGVDb250YWN0UmVzdWx0Q2FsbGJhY2tfYWRkU2luZ2xlUmVzdWx0Xzc9dC5hc20uS2MpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbV89dC5fZWJfQ29uY3JldGVDb250YWN0UmVzdWx0Q2FsbGJhY2tfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihtXz10Ll9lYl9Db25jcmV0ZUNvbnRhY3RSZXN1bHRDYWxsYmFja19fX2Rlc3Ryb3lfX18wPXQuYXNtLkxjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGJfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX2dldF9tX3NoYXBlUGFydF8wPWZ1bmN0aW9uKCl7cmV0dXJuKGJfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX2dldF9tX3NoYXBlUGFydF8wPXQuYXNtLk1jKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX3NldF9tX3NoYXBlUGFydF8xPWZ1bmN0aW9uKCl7cmV0dXJuKGdfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX3NldF9tX3NoYXBlUGFydF8xPXQuYXNtLk5jKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGRfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX2dldF9tX3RyaWFuZ2xlSW5kZXhfMD1mdW5jdGlvbigpe3JldHVybihkXz10Ll9lYl9Mb2NhbFNoYXBlSW5mb19nZXRfbV90cmlhbmdsZUluZGV4XzA9dC5hc20uT2MpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sV189dC5fZWJfTG9jYWxTaGFwZUluZm9fc2V0X21fdHJpYW5nbGVJbmRleF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFdfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX3NldF9tX3RyaWFuZ2xlSW5kZXhfMT10LmFzbS5QYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxDXz10Ll9lYl9Mb2NhbFNoYXBlSW5mb19fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKENfPXQuX2ViX0xvY2FsU2hhcGVJbmZvX19fZGVzdHJveV9fXzA9dC5hc20uUWMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sal89dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfTG9jYWxDb252ZXhSZXN1bHRfNT1mdW5jdGlvbigpe3JldHVybihqXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9Mb2NhbENvbnZleFJlc3VsdF81PXQuYXNtLlJjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHZfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X2dldF9tX2hpdENvbGxpc2lvbk9iamVjdF8wPWZ1bmN0aW9uKCl7cmV0dXJuKHZfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X2dldF9tX2hpdENvbGxpc2lvbk9iamVjdF8wPXQuYXNtLlNjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LERfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X3NldF9tX2hpdENvbGxpc2lvbk9iamVjdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKERfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X3NldF9tX2hpdENvbGxpc2lvbk9iamVjdF8xPXQuYXNtLlRjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFJfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X2dldF9tX2xvY2FsU2hhcGVJbmZvXzA9ZnVuY3Rpb24oKXtyZXR1cm4oUl89dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfZ2V0X21fbG9jYWxTaGFwZUluZm9fMD10LmFzbS5VYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxTXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9zZXRfbV9sb2NhbFNoYXBlSW5mb18xPWZ1bmN0aW9uKCl7cmV0dXJuKFNfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X3NldF9tX2xvY2FsU2hhcGVJbmZvXzE9dC5hc20uVmMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSV89dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfZ2V0X21faGl0Tm9ybWFsTG9jYWxfMD1mdW5jdGlvbigpe3JldHVybihJXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9nZXRfbV9oaXROb3JtYWxMb2NhbF8wPXQuYXNtLldjKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE9fPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X3NldF9tX2hpdE5vcm1hbExvY2FsXzE9ZnVuY3Rpb24oKXtyZXR1cm4oT189dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfc2V0X21faGl0Tm9ybWFsTG9jYWxfMT10LmFzbS5YYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxCXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9nZXRfbV9oaXRQb2ludExvY2FsXzA9ZnVuY3Rpb24oKXtyZXR1cm4oQl89dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfZ2V0X21faGl0UG9pbnRMb2NhbF8wPXQuYXNtLlljKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFBfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X3NldF9tX2hpdFBvaW50TG9jYWxfMT1mdW5jdGlvbigpe3JldHVybihQXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9zZXRfbV9oaXRQb2ludExvY2FsXzE9dC5hc20uWmMpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seF89dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfZ2V0X21faGl0RnJhY3Rpb25fMD1mdW5jdGlvbigpe3JldHVybih4Xz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9nZXRfbV9oaXRGcmFjdGlvbl8wPXQuYXNtLl9jKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFRfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X3NldF9tX2hpdEZyYWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oVF89dC5fZWJfTG9jYWxDb252ZXhSZXN1bHRfc2V0X21faGl0RnJhY3Rpb25fMT10LmFzbS4kYykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxGXz10Ll9lYl9Mb2NhbENvbnZleFJlc3VsdF9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKEZfPXQuX2ViX0xvY2FsQ29udmV4UmVzdWx0X19fZGVzdHJveV9fXzA9dC5hc20uYWQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sTV89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja18yPWZ1bmN0aW9uKCl7cmV0dXJuKE1fPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfMj10LmFzbS5iZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxBXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfaGFzSGl0XzA9ZnVuY3Rpb24oKXtyZXR1cm4oQV89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX2hhc0hpdF8wPXQuYXNtLmNkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHdfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9oaXRDb2xsaXNpb25PYmplY3RfMD1mdW5jdGlvbigpe3JldHVybih3Xz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfZ2V0X21faGl0Q29sbGlzaW9uT2JqZWN0XzA9dC5hc20uZGQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sa189dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX3NldF9tX2hpdENvbGxpc2lvbk9iamVjdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKGtfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9oaXRDb2xsaXNpb25PYmplY3RfMT10LmFzbS5lZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxMXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfZ2V0X21fY29udmV4RnJvbVdvcmxkXzA9ZnVuY3Rpb24oKXtyZXR1cm4oTF89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX2dldF9tX2NvbnZleEZyb21Xb3JsZF8wPXQuYXNtLmZkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEhfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jb252ZXhGcm9tV29ybGRfMT1mdW5jdGlvbigpe3JldHVybihIXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21fY29udmV4RnJvbVdvcmxkXzE9dC5hc20uZ2QpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWV89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX2dldF9tX2NvbnZleFRvV29ybGRfMD1mdW5jdGlvbigpe3JldHVybihZXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfZ2V0X21fY29udmV4VG9Xb3JsZF8wPXQuYXNtLmhkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFZfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jb252ZXhUb1dvcmxkXzE9ZnVuY3Rpb24oKXtyZXR1cm4oVl89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX3NldF9tX2NvbnZleFRvV29ybGRfMT10LmFzbS5pZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxRXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfZ2V0X21faGl0Tm9ybWFsV29ybGRfMD1mdW5jdGlvbigpe3JldHVybihRXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfZ2V0X21faGl0Tm9ybWFsV29ybGRfMD10LmFzbS5qZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxFXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21faGl0Tm9ybWFsV29ybGRfMT1mdW5jdGlvbigpe3JldHVybihFXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21faGl0Tm9ybWFsV29ybGRfMT10LmFzbS5rZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxYXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfZ2V0X21faGl0UG9pbnRXb3JsZF8wPWZ1bmN0aW9uKCl7cmV0dXJuKFhfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9oaXRQb2ludFdvcmxkXzA9dC5hc20ubGQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVV89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX3NldF9tX2hpdFBvaW50V29ybGRfMT1mdW5jdGlvbigpe3JldHVybihVXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21faGl0UG9pbnRXb3JsZF8xPXQuYXNtLm1kKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEdfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8wPWZ1bmN0aW9uKCl7cmV0dXJuKEdfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8wPXQuYXNtLm5kKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE5fPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8xPWZ1bmN0aW9uKCl7cmV0dXJuKE5fPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8xPXQuYXNtLm9kKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHpfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jb2xsaXNpb25GaWx0ZXJNYXNrXzA9ZnVuY3Rpb24oKXtyZXR1cm4oel89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX2dldF9tX2NvbGxpc2lvbkZpbHRlck1hc2tfMD10LmFzbS5wZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxxXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21fY29sbGlzaW9uRmlsdGVyTWFza18xPWZ1bmN0aW9uKCl7cmV0dXJuKHFfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19zZXRfbV9jb2xsaXNpb25GaWx0ZXJNYXNrXzE9dC5hc20ucWQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWl89dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX2dldF9tX2Nsb3Nlc3RIaXRGcmFjdGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKFpfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19nZXRfbV9jbG9zZXN0SGl0RnJhY3Rpb25fMD10LmFzbS5yZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxLXz10Ll9lYl9DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2tfc2V0X21fY2xvc2VzdEhpdEZyYWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oS189dC5fZWJfQ2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrX3NldF9tX2Nsb3Nlc3RIaXRGcmFjdGlvbl8xPXQuYXNtLnNkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LCRfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKCRfPXQuX2ViX0Nsb3Nlc3RDb252ZXhSZXN1bHRDYWxsYmFja19fX2Rlc3Ryb3lfX18wPXQuYXNtLnRkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEpfPXQuX2ViX2J0Q29udmV4U2hhcGVfc2V0TG9jYWxTY2FsaW5nXzE9ZnVuY3Rpb24oKXtyZXR1cm4oSl89dC5fZWJfYnRDb252ZXhTaGFwZV9zZXRMb2NhbFNjYWxpbmdfMT10LmFzbS51ZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0aT10Ll9lYl9idENvbnZleFNoYXBlX2dldExvY2FsU2NhbGluZ18wPWZ1bmN0aW9uKCl7cmV0dXJuKHRpPXQuX2ViX2J0Q29udmV4U2hhcGVfZ2V0TG9jYWxTY2FsaW5nXzA9dC5hc20udmQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZWk9dC5fZWJfYnRDb252ZXhTaGFwZV9jYWxjdWxhdGVMb2NhbEluZXJ0aWFfMj1mdW5jdGlvbigpe3JldHVybihlaT10Ll9lYl9idENvbnZleFNoYXBlX2NhbGN1bGF0ZUxvY2FsSW5lcnRpYV8yPXQuYXNtLndkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG9pPXQuX2ViX2J0Q29udmV4U2hhcGVfc2V0TWFyZ2luXzE9ZnVuY3Rpb24oKXtyZXR1cm4ob2k9dC5fZWJfYnRDb252ZXhTaGFwZV9zZXRNYXJnaW5fMT10LmFzbS54ZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxuaT10Ll9lYl9idENvbnZleFNoYXBlX2dldE1hcmdpbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKG5pPXQuX2ViX2J0Q29udmV4U2hhcGVfZ2V0TWFyZ2luXzA9dC5hc20ueWQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scmk9dC5fZWJfYnRDb252ZXhTaGFwZV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKHJpPXQuX2ViX2J0Q29udmV4U2hhcGVfX19kZXN0cm95X19fMD10LmFzbS56ZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfaT10Ll9lYl9idEJveFNoYXBlX2J0Qm94U2hhcGVfMT1mdW5jdGlvbigpe3JldHVybihfaT10Ll9lYl9idEJveFNoYXBlX2J0Qm94U2hhcGVfMT10LmFzbS5BZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpaT10Ll9lYl9idEJveFNoYXBlX3NldE1hcmdpbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKGlpPXQuX2ViX2J0Qm94U2hhcGVfc2V0TWFyZ2luXzE9dC5hc20uQmQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYWk9dC5fZWJfYnRCb3hTaGFwZV9nZXRNYXJnaW5fMD1mdW5jdGlvbigpe3JldHVybihhaT10Ll9lYl9idEJveFNoYXBlX2dldE1hcmdpbl8wPXQuYXNtLkNkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHNpPXQuX2ViX2J0Qm94U2hhcGVfc2V0TG9jYWxTY2FsaW5nXzE9ZnVuY3Rpb24oKXtyZXR1cm4oc2k9dC5fZWJfYnRCb3hTaGFwZV9zZXRMb2NhbFNjYWxpbmdfMT10LmFzbS5EZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxwaT10Ll9lYl9idEJveFNoYXBlX2dldExvY2FsU2NhbGluZ18wPWZ1bmN0aW9uKCl7cmV0dXJuKHBpPXQuX2ViX2J0Qm94U2hhcGVfZ2V0TG9jYWxTY2FsaW5nXzA9dC5hc20uRWQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbGk9dC5fZWJfYnRCb3hTaGFwZV9jYWxjdWxhdGVMb2NhbEluZXJ0aWFfMj1mdW5jdGlvbigpe3JldHVybihsaT10Ll9lYl9idEJveFNoYXBlX2NhbGN1bGF0ZUxvY2FsSW5lcnRpYV8yPXQuYXNtLkZkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHVpPXQuX2ViX2J0Qm94U2hhcGVfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybih1aT10Ll9lYl9idEJveFNoYXBlX19fZGVzdHJveV9fXzA9dC5hc20uR2QpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sY2k9dC5fZWJfYnRJbnRBcnJheV9zaXplXzA9ZnVuY3Rpb24oKXtyZXR1cm4oY2k9dC5fZWJfYnRJbnRBcnJheV9zaXplXzA9dC5hc20uSGQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seWk9dC5fZWJfYnRJbnRBcnJheV9hdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKHlpPXQuX2ViX2J0SW50QXJyYXlfYXRfMT10LmFzbS5JZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxoaT10Ll9lYl9idEludEFycmF5X19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oaGk9dC5fZWJfYnRJbnRBcnJheV9fX2Rlc3Ryb3lfX18wPXQuYXNtLkpkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGZpPXQuX2ViX2J0RmFjZV9nZXRfbV9pbmRpY2VzXzA9ZnVuY3Rpb24oKXtyZXR1cm4oZmk9dC5fZWJfYnRGYWNlX2dldF9tX2luZGljZXNfMD10LmFzbS5LZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxtaT10Ll9lYl9idEZhY2Vfc2V0X21faW5kaWNlc18xPWZ1bmN0aW9uKCl7cmV0dXJuKG1pPXQuX2ViX2J0RmFjZV9zZXRfbV9pbmRpY2VzXzE9dC5hc20uTGQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYmk9dC5fZWJfYnRGYWNlX2dldF9tX3BsYW5lXzE9ZnVuY3Rpb24oKXtyZXR1cm4oYmk9dC5fZWJfYnRGYWNlX2dldF9tX3BsYW5lXzE9dC5hc20uTWQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZ2k9dC5fZWJfYnRGYWNlX3NldF9tX3BsYW5lXzI9ZnVuY3Rpb24oKXtyZXR1cm4oZ2k9dC5fZWJfYnRGYWNlX3NldF9tX3BsYW5lXzI9dC5hc20uTmQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZGk9dC5fZWJfYnRGYWNlX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oZGk9dC5fZWJfYnRGYWNlX19fZGVzdHJveV9fXzA9dC5hc20uT2QpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sV2k9dC5fZWJfYnRWZWN0b3IzQXJyYXlfc2l6ZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKFdpPXQuX2ViX2J0VmVjdG9yM0FycmF5X3NpemVfMD10LmFzbS5QZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxDaT10Ll9lYl9idFZlY3RvcjNBcnJheV9hdF8xPWZ1bmN0aW9uKCl7cmV0dXJuKENpPXQuX2ViX2J0VmVjdG9yM0FycmF5X2F0XzE9dC5hc20uUWQpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0samk9dC5fZWJfYnRWZWN0b3IzQXJyYXlfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihqaT10Ll9lYl9idFZlY3RvcjNBcnJheV9fX2Rlc3Ryb3lfX18wPXQuYXNtLlJkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHZpPXQuX2ViX2J0RmFjZUFycmF5X3NpemVfMD1mdW5jdGlvbigpe3JldHVybih2aT10Ll9lYl9idEZhY2VBcnJheV9zaXplXzA9dC5hc20uU2QpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRGk9dC5fZWJfYnRGYWNlQXJyYXlfYXRfMT1mdW5jdGlvbigpe3JldHVybihEaT10Ll9lYl9idEZhY2VBcnJheV9hdF8xPXQuYXNtLlRkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFJpPXQuX2ViX2J0RmFjZUFycmF5X19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oUmk9dC5fZWJfYnRGYWNlQXJyYXlfX19kZXN0cm95X19fMD10LmFzbS5VZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxTaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fZ2V0X21fdmVydGljZXNfMD1mdW5jdGlvbigpe3JldHVybihTaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fZ2V0X21fdmVydGljZXNfMD10LmFzbS5WZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxJaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fc2V0X21fdmVydGljZXNfMT1mdW5jdGlvbigpe3JldHVybihJaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fc2V0X21fdmVydGljZXNfMT10LmFzbS5XZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxPaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fZ2V0X21fZmFjZXNfMD1mdW5jdGlvbigpe3JldHVybihPaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fZ2V0X21fZmFjZXNfMD10LmFzbS5YZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxCaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fc2V0X21fZmFjZXNfMT1mdW5jdGlvbigpe3JldHVybihCaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fc2V0X21fZmFjZXNfMT10LmFzbS5ZZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxQaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihQaT10Ll9lYl9idENvbnZleFBvbHloZWRyb25fX19kZXN0cm95X19fMD10LmFzbS5aZCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx4aT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9idENvbnZleEh1bGxTaGFwZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKHhpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2J0Q29udmV4SHVsbFNoYXBlXzA9dC5hc20uX2QpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVGk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfYnRDb252ZXhIdWxsU2hhcGVfMT1mdW5jdGlvbigpe3JldHVybihUaT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9idENvbnZleEh1bGxTaGFwZV8xPXQuYXNtLiRkKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEZpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2J0Q29udmV4SHVsbFNoYXBlXzI9ZnVuY3Rpb24oKXtyZXR1cm4oRmk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfYnRDb252ZXhIdWxsU2hhcGVfMj10LmFzbS5hZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxNaT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9hZGRQb2ludF8xPWZ1bmN0aW9uKCl7cmV0dXJuKE1pPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2FkZFBvaW50XzE9dC5hc20uYmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQWk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfYWRkUG9pbnRfMj1mdW5jdGlvbigpe3JldHVybihBaT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9hZGRQb2ludF8yPXQuYXNtLmNlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHdpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX3NldE1hcmdpbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKHdpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX3NldE1hcmdpbl8xPXQuYXNtLmRlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGtpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2dldE1hcmdpbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKGtpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2dldE1hcmdpbl8wPXQuYXNtLmVlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LExpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2dldE51bVZlcnRpY2VzXzA9ZnVuY3Rpb24oKXtyZXR1cm4oTGk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfZ2V0TnVtVmVydGljZXNfMD10LmFzbS5mZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxIaT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9pbml0aWFsaXplUG9seWhlZHJhbEZlYXR1cmVzXzE9ZnVuY3Rpb24oKXtyZXR1cm4oSGk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfaW5pdGlhbGl6ZVBvbHloZWRyYWxGZWF0dXJlc18xPXQuYXNtLmdlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFlpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX3JlY2FsY0xvY2FsQWFiYl8wPWZ1bmN0aW9uKCl7cmV0dXJuKFlpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX3JlY2FsY0xvY2FsQWFiYl8wPXQuYXNtLmhlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFZpPXQuX2ViX2J0Q29udmV4SHVsbFNoYXBlX2dldENvbnZleFBvbHloZWRyb25fMD1mdW5jdGlvbigpe3JldHVybihWaT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9nZXRDb252ZXhQb2x5aGVkcm9uXzA9dC5hc20uaWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUWk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfc2V0TG9jYWxTY2FsaW5nXzE9ZnVuY3Rpb24oKXtyZXR1cm4oUWk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfc2V0TG9jYWxTY2FsaW5nXzE9dC5hc20uamUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRWk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfZ2V0TG9jYWxTY2FsaW5nXzA9ZnVuY3Rpb24oKXtyZXR1cm4oRWk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfZ2V0TG9jYWxTY2FsaW5nXzA9dC5hc20ua2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWGk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfY2FsY3VsYXRlTG9jYWxJbmVydGlhXzI9ZnVuY3Rpb24oKXtyZXR1cm4oWGk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfY2FsY3VsYXRlTG9jYWxJbmVydGlhXzI9dC5hc20ubGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVWk9dC5fZWJfYnRDb252ZXhIdWxsU2hhcGVfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihVaT10Ll9lYl9idENvbnZleEh1bGxTaGFwZV9fX2Rlc3Ryb3lfX18wPXQuYXNtLm1lKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEdpPXQuX2ViX2J0RGVmYXVsdENvbGxpc2lvbkNvbnN0cnVjdGlvbkluZm9fYnREZWZhdWx0Q29sbGlzaW9uQ29uc3RydWN0aW9uSW5mb18wPWZ1bmN0aW9uKCl7cmV0dXJuKEdpPXQuX2ViX2J0RGVmYXVsdENvbGxpc2lvbkNvbnN0cnVjdGlvbkluZm9fYnREZWZhdWx0Q29sbGlzaW9uQ29uc3RydWN0aW9uSW5mb18wPXQuYXNtLm5lKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE5pPXQuX2ViX2J0RGVmYXVsdENvbGxpc2lvbkNvbnN0cnVjdGlvbkluZm9fX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihOaT10Ll9lYl9idERlZmF1bHRDb2xsaXNpb25Db25zdHJ1Y3Rpb25JbmZvX19fZGVzdHJveV9fXzA9dC5hc20ub2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0semk9dC5fZWJfYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbl9idERlZmF1bHRDb2xsaXNpb25Db25maWd1cmF0aW9uXzA9ZnVuY3Rpb24oKXtyZXR1cm4oemk9dC5fZWJfYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbl9idERlZmF1bHRDb2xsaXNpb25Db25maWd1cmF0aW9uXzA9dC5hc20ucGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scWk9dC5fZWJfYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbl9idERlZmF1bHRDb2xsaXNpb25Db25maWd1cmF0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4ocWk9dC5fZWJfYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbl9idERlZmF1bHRDb2xsaXNpb25Db25maWd1cmF0aW9uXzE9dC5hc20ucWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWmk9dC5fZWJfYnREZWZhdWx0Q29sbGlzaW9uQ29uZmlndXJhdGlvbl9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKFppPXQuX2ViX2J0RGVmYXVsdENvbGxpc2lvbkNvbmZpZ3VyYXRpb25fX19kZXN0cm95X19fMD10LmFzbS5yZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxLaT10Ll9lYl9idFBlcnNpc3RlbnRNYW5pZm9sZF9idFBlcnNpc3RlbnRNYW5pZm9sZF8wPWZ1bmN0aW9uKCl7cmV0dXJuKEtpPXQuX2ViX2J0UGVyc2lzdGVudE1hbmlmb2xkX2J0UGVyc2lzdGVudE1hbmlmb2xkXzA9dC5hc20uc2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sJGk9dC5fZWJfYnRQZXJzaXN0ZW50TWFuaWZvbGRfZ2V0Qm9keTBfMD1mdW5jdGlvbigpe3JldHVybigkaT10Ll9lYl9idFBlcnNpc3RlbnRNYW5pZm9sZF9nZXRCb2R5MF8wPXQuYXNtLnRlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEppPXQuX2ViX2J0UGVyc2lzdGVudE1hbmlmb2xkX2dldEJvZHkxXzA9ZnVuY3Rpb24oKXtyZXR1cm4oSmk9dC5fZWJfYnRQZXJzaXN0ZW50TWFuaWZvbGRfZ2V0Qm9keTFfMD10LmFzbS51ZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0YT10Ll9lYl9idFBlcnNpc3RlbnRNYW5pZm9sZF9nZXROdW1Db250YWN0c18wPWZ1bmN0aW9uKCl7cmV0dXJuKHRhPXQuX2ViX2J0UGVyc2lzdGVudE1hbmlmb2xkX2dldE51bUNvbnRhY3RzXzA9dC5hc20udmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZWE9dC5fZWJfYnRQZXJzaXN0ZW50TWFuaWZvbGRfZ2V0Q29udGFjdFBvaW50XzE9ZnVuY3Rpb24oKXtyZXR1cm4oZWE9dC5fZWJfYnRQZXJzaXN0ZW50TWFuaWZvbGRfZ2V0Q29udGFjdFBvaW50XzE9dC5hc20ud2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sb2E9dC5fZWJfYnRQZXJzaXN0ZW50TWFuaWZvbGRfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihvYT10Ll9lYl9idFBlcnNpc3RlbnRNYW5pZm9sZF9fX2Rlc3Ryb3lfX18wPXQuYXNtLnhlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG5hPXQuX2ViX2J0Q29sbGlzaW9uRGlzcGF0Y2hlcl9idENvbGxpc2lvbkRpc3BhdGNoZXJfMT1mdW5jdGlvbigpe3JldHVybihuYT10Ll9lYl9idENvbGxpc2lvbkRpc3BhdGNoZXJfYnRDb2xsaXNpb25EaXNwYXRjaGVyXzE9dC5hc20ueWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scmE9dC5fZWJfYnRDb2xsaXNpb25EaXNwYXRjaGVyX2dldE51bU1hbmlmb2xkc18wPWZ1bmN0aW9uKCl7cmV0dXJuKHJhPXQuX2ViX2J0Q29sbGlzaW9uRGlzcGF0Y2hlcl9nZXROdW1NYW5pZm9sZHNfMD10LmFzbS56ZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfYT10Ll9lYl9idENvbGxpc2lvbkRpc3BhdGNoZXJfZ2V0TWFuaWZvbGRCeUluZGV4SW50ZXJuYWxfMT1mdW5jdGlvbigpe3JldHVybihfYT10Ll9lYl9idENvbGxpc2lvbkRpc3BhdGNoZXJfZ2V0TWFuaWZvbGRCeUluZGV4SW50ZXJuYWxfMT10LmFzbS5BZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxpYT10Ll9lYl9idENvbGxpc2lvbkRpc3BhdGNoZXJfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihpYT10Ll9lYl9idENvbGxpc2lvbkRpc3BhdGNoZXJfX19kZXN0cm95X19fMD10LmFzbS5CZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhYT10Ll9lYl9idE92ZXJsYXBwaW5nUGFpckNhbGxiYWNrX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oYWE9dC5fZWJfYnRPdmVybGFwcGluZ1BhaXJDYWxsYmFja19fX2Rlc3Ryb3lfX18wPXQuYXNtLkNlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHNhPXQuX2ViX2J0T3ZlcmxhcHBpbmdQYWlyQ2FjaGVfc2V0SW50ZXJuYWxHaG9zdFBhaXJDYWxsYmFja18xPWZ1bmN0aW9uKCl7cmV0dXJuKHNhPXQuX2ViX2J0T3ZlcmxhcHBpbmdQYWlyQ2FjaGVfc2V0SW50ZXJuYWxHaG9zdFBhaXJDYWxsYmFja18xPXQuYXNtLkRlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHBhPXQuX2ViX2J0T3ZlcmxhcHBpbmdQYWlyQ2FjaGVfZ2V0TnVtT3ZlcmxhcHBpbmdQYWlyc18wPWZ1bmN0aW9uKCl7cmV0dXJuKHBhPXQuX2ViX2J0T3ZlcmxhcHBpbmdQYWlyQ2FjaGVfZ2V0TnVtT3ZlcmxhcHBpbmdQYWlyc18wPXQuYXNtLkVlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGxhPXQuX2ViX2J0T3ZlcmxhcHBpbmdQYWlyQ2FjaGVfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihsYT10Ll9lYl9idE92ZXJsYXBwaW5nUGFpckNhY2hlX19fZGVzdHJveV9fXzA9dC5hc20uRmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdWE9dC5fZWJfYnRCcm9hZHBoYXNlSW50ZXJmYWNlX2dldE92ZXJsYXBwaW5nUGFpckNhY2hlXzA9ZnVuY3Rpb24oKXtyZXR1cm4odWE9dC5fZWJfYnRCcm9hZHBoYXNlSW50ZXJmYWNlX2dldE92ZXJsYXBwaW5nUGFpckNhY2hlXzA9dC5hc20uR2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sY2E9dC5fZWJfYnRCcm9hZHBoYXNlSW50ZXJmYWNlX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oY2E9dC5fZWJfYnRCcm9hZHBoYXNlSW50ZXJmYWNlX19fZGVzdHJveV9fXzA9dC5hc20uSGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seWE9dC5fZWJfYnRDb2xsaXNpb25Db25maWd1cmF0aW9uX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oeWE9dC5fZWJfYnRDb2xsaXNpb25Db25maWd1cmF0aW9uX19fZGVzdHJveV9fXzA9dC5hc20uSWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saGE9dC5fZWJfYnREYnZ0QnJvYWRwaGFzZV9idERidnRCcm9hZHBoYXNlXzA9ZnVuY3Rpb24oKXtyZXR1cm4oaGE9dC5fZWJfYnREYnZ0QnJvYWRwaGFzZV9idERidnRCcm9hZHBoYXNlXzA9dC5hc20uSmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZmE9dC5fZWJfYnREYnZ0QnJvYWRwaGFzZV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKGZhPXQuX2ViX2J0RGJ2dEJyb2FkcGhhc2VfX19kZXN0cm95X19fMD10LmFzbS5LZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxtYT10Ll9lYl9idEJyb2FkcGhhc2VQcm94eV9nZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8wPWZ1bmN0aW9uKCl7cmV0dXJuKG1hPXQuX2ViX2J0QnJvYWRwaGFzZVByb3h5X2dldF9tX2NvbGxpc2lvbkZpbHRlckdyb3VwXzA9dC5hc20uTGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYmE9dC5fZWJfYnRCcm9hZHBoYXNlUHJveHlfc2V0X21fY29sbGlzaW9uRmlsdGVyR3JvdXBfMT1mdW5jdGlvbigpe3JldHVybihiYT10Ll9lYl9idEJyb2FkcGhhc2VQcm94eV9zZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cF8xPXQuYXNtLk1lKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdhPXQuX2ViX2J0QnJvYWRwaGFzZVByb3h5X2dldF9tX2NvbGxpc2lvbkZpbHRlck1hc2tfMD1mdW5jdGlvbigpe3JldHVybihnYT10Ll9lYl9idEJyb2FkcGhhc2VQcm94eV9nZXRfbV9jb2xsaXNpb25GaWx0ZXJNYXNrXzA9dC5hc20uTmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZGE9dC5fZWJfYnRCcm9hZHBoYXNlUHJveHlfc2V0X21fY29sbGlzaW9uRmlsdGVyTWFza18xPWZ1bmN0aW9uKCl7cmV0dXJuKGRhPXQuX2ViX2J0QnJvYWRwaGFzZVByb3h5X3NldF9tX2NvbGxpc2lvbkZpbHRlck1hc2tfMT10LmFzbS5PZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxXYT10Ll9lYl9idEJyb2FkcGhhc2VQcm94eV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKFdhPXQuX2ViX2J0QnJvYWRwaGFzZVByb3h5X19fZGVzdHJveV9fXzA9dC5hc20uUGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQ2E9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb18zPWZ1bmN0aW9uKCl7cmV0dXJuKENhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fMz10LmFzbS5RZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxqYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvXzQ9ZnVuY3Rpb24oKXtyZXR1cm4oamE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb180PXQuYXNtLlJlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHZhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9saW5lYXJEYW1waW5nXzA9ZnVuY3Rpb24oKXtyZXR1cm4odmE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2xpbmVhckRhbXBpbmdfMD10LmFzbS5TZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxEYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fbGluZWFyRGFtcGluZ18xPWZ1bmN0aW9uKCl7cmV0dXJuKERhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9saW5lYXJEYW1waW5nXzE9dC5hc20uVGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUmE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2FuZ3VsYXJEYW1waW5nXzA9ZnVuY3Rpb24oKXtyZXR1cm4oUmE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2FuZ3VsYXJEYW1waW5nXzA9dC5hc20uVWUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sU2E9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX2FuZ3VsYXJEYW1waW5nXzE9ZnVuY3Rpb24oKXtyZXR1cm4oU2E9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX2FuZ3VsYXJEYW1waW5nXzE9dC5hc20uVmUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSWE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2ZyaWN0aW9uXzA9ZnVuY3Rpb24oKXtyZXR1cm4oSWE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2ZyaWN0aW9uXzA9dC5hc20uV2UpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sT2E9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX2ZyaWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oT2E9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX2ZyaWN0aW9uXzE9dC5hc20uWGUpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQmE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX3JvbGxpbmdGcmljdGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKEJhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9yb2xsaW5nRnJpY3Rpb25fMD10LmFzbS5ZZSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxQYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fcm9sbGluZ0ZyaWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oUGE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX3JvbGxpbmdGcmljdGlvbl8xPXQuYXNtLlplKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHhhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9yZXN0aXR1dGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKHhhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9yZXN0aXR1dGlvbl8wPXQuYXNtLl9lKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFRhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9yZXN0aXR1dGlvbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKFRhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9yZXN0aXR1dGlvbl8xPXQuYXNtLiRlKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEZhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9saW5lYXJTbGVlcGluZ1RocmVzaG9sZF8wPWZ1bmN0aW9uKCl7cmV0dXJuKEZhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9saW5lYXJTbGVlcGluZ1RocmVzaG9sZF8wPXQuYXNtLmFmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE1hPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9saW5lYXJTbGVlcGluZ1RocmVzaG9sZF8xPWZ1bmN0aW9uKCl7cmV0dXJuKE1hPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9saW5lYXJTbGVlcGluZ1RocmVzaG9sZF8xPXQuYXNtLmJmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEFhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9hbmd1bGFyU2xlZXBpbmdUaHJlc2hvbGRfMD1mdW5jdGlvbigpe3JldHVybihBYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYW5ndWxhclNsZWVwaW5nVGhyZXNob2xkXzA9dC5hc20uY2YpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sd2E9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX2FuZ3VsYXJTbGVlcGluZ1RocmVzaG9sZF8xPWZ1bmN0aW9uKCl7cmV0dXJuKHdhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9hbmd1bGFyU2xlZXBpbmdUaHJlc2hvbGRfMT10LmFzbS5kZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxrYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbERhbXBpbmdfMD1mdW5jdGlvbigpe3JldHVybihrYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbERhbXBpbmdfMD10LmFzbS5lZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxMYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbERhbXBpbmdfMT1mdW5jdGlvbigpe3JldHVybihMYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbERhbXBpbmdfMT10LmFzbS5mZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxIYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbERhbXBpbmdGYWN0b3JfMD1mdW5jdGlvbigpe3JldHVybihIYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbERhbXBpbmdGYWN0b3JfMD10LmFzbS5nZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxZYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbERhbXBpbmdGYWN0b3JfMT1mdW5jdGlvbigpe3JldHVybihZYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbERhbXBpbmdGYWN0b3JfMT10LmFzbS5oZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxWYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbExpbmVhckRhbXBpbmdUaHJlc2hvbGRTcXJfMD1mdW5jdGlvbigpe3JldHVybihWYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbExpbmVhckRhbXBpbmdUaHJlc2hvbGRTcXJfMD10LmFzbS5qZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxRYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbExpbmVhckRhbXBpbmdUaHJlc2hvbGRTcXJfMT1mdW5jdGlvbigpe3JldHVybihRYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbExpbmVhckRhbXBpbmdUaHJlc2hvbGRTcXJfMT10LmFzbS5rZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxFYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fZ2V0X21fYWRkaXRpb25hbEFuZ3VsYXJEYW1waW5nVGhyZXNob2xkU3FyXzA9ZnVuY3Rpb24oKXtyZXR1cm4oRWE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ1RocmVzaG9sZFNxcl8wPXQuYXNtLmxmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFhhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19zZXRfbV9hZGRpdGlvbmFsQW5ndWxhckRhbXBpbmdUaHJlc2hvbGRTcXJfMT1mdW5jdGlvbigpe3JldHVybihYYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbEFuZ3VsYXJEYW1waW5nVGhyZXNob2xkU3FyXzE9dC5hc20ubWYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVWE9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX2dldF9tX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ0ZhY3Rvcl8wPWZ1bmN0aW9uKCl7cmV0dXJuKFVhPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19nZXRfbV9hZGRpdGlvbmFsQW5ndWxhckRhbXBpbmdGYWN0b3JfMD10LmFzbS5uZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxHYT10Ll9lYl9idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm9fc2V0X21fYWRkaXRpb25hbEFuZ3VsYXJEYW1waW5nRmFjdG9yXzE9ZnVuY3Rpb24oKXtyZXR1cm4oR2E9dC5fZWJfYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvX3NldF9tX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ0ZhY3Rvcl8xPXQuYXNtLm9mKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE5hPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKE5hPXQuX2ViX2J0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mb19fX2Rlc3Ryb3lfX18wPXQuYXNtLnBmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHphPXQuX2ViX2J0UmlnaWRCb2R5X2J0UmlnaWRCb2R5XzE9ZnVuY3Rpb24oKXtyZXR1cm4oemE9dC5fZWJfYnRSaWdpZEJvZHlfYnRSaWdpZEJvZHlfMT10LmFzbS5xZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxxYT10Ll9lYl9idFJpZ2lkQm9keV9nZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm1fMD1mdW5jdGlvbigpe3JldHVybihxYT10Ll9lYl9idFJpZ2lkQm9keV9nZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm1fMD10LmFzbS5yZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxaYT10Ll9lYl9idFJpZ2lkQm9keV9zZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm1fMT1mdW5jdGlvbigpe3JldHVybihaYT10Ll9lYl9idFJpZ2lkQm9keV9zZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm1fMT10LmFzbS5zZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxLYT10Ll9lYl9idFJpZ2lkQm9keV9zZXRTbGVlcGluZ1RocmVzaG9sZHNfMj1mdW5jdGlvbigpe3JldHVybihLYT10Ll9lYl9idFJpZ2lkQm9keV9zZXRTbGVlcGluZ1RocmVzaG9sZHNfMj10LmFzbS50ZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwkYT10Ll9lYl9idFJpZ2lkQm9keV9nZXRMaW5lYXJEYW1waW5nXzA9ZnVuY3Rpb24oKXtyZXR1cm4oJGE9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0TGluZWFyRGFtcGluZ18wPXQuYXNtLnVmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEphPXQuX2ViX2J0UmlnaWRCb2R5X2dldEFuZ3VsYXJEYW1waW5nXzA9ZnVuY3Rpb24oKXtyZXR1cm4oSmE9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0QW5ndWxhckRhbXBpbmdfMD10LmFzbS52ZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0cz10Ll9lYl9idFJpZ2lkQm9keV9zZXREYW1waW5nXzI9ZnVuY3Rpb24oKXtyZXR1cm4odHM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0RGFtcGluZ18yPXQuYXNtLndmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGVzPXQuX2ViX2J0UmlnaWRCb2R5X3NldE1hc3NQcm9wc18yPWZ1bmN0aW9uKCl7cmV0dXJuKGVzPXQuX2ViX2J0UmlnaWRCb2R5X3NldE1hc3NQcm9wc18yPXQuYXNtLnhmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG9zPXQuX2ViX2J0UmlnaWRCb2R5X2dldExpbmVhckZhY3Rvcl8wPWZ1bmN0aW9uKCl7cmV0dXJuKG9zPXQuX2ViX2J0UmlnaWRCb2R5X2dldExpbmVhckZhY3Rvcl8wPXQuYXNtLnlmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG5zPXQuX2ViX2J0UmlnaWRCb2R5X3NldExpbmVhckZhY3Rvcl8xPWZ1bmN0aW9uKCl7cmV0dXJuKG5zPXQuX2ViX2J0UmlnaWRCb2R5X3NldExpbmVhckZhY3Rvcl8xPXQuYXNtLnpmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHJzPXQuX2ViX2J0UmlnaWRCb2R5X2FwcGx5VG9ycXVlXzE9ZnVuY3Rpb24oKXtyZXR1cm4ocnM9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlUb3JxdWVfMT10LmFzbS5BZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfcz10Ll9lYl9idFJpZ2lkQm9keV9hcHBseUxvY2FsVG9ycXVlXzE9ZnVuY3Rpb24oKXtyZXR1cm4oX3M9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlMb2NhbFRvcnF1ZV8xPXQuYXNtLkJmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGlzPXQuX2ViX2J0UmlnaWRCb2R5X2FwcGx5Rm9yY2VfMj1mdW5jdGlvbigpe3JldHVybihpcz10Ll9lYl9idFJpZ2lkQm9keV9hcHBseUZvcmNlXzI9dC5hc20uQ2YpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYXM9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlDZW50cmFsRm9yY2VfMT1mdW5jdGlvbigpe3JldHVybihhcz10Ll9lYl9idFJpZ2lkQm9keV9hcHBseUNlbnRyYWxGb3JjZV8xPXQuYXNtLkRmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHNzPXQuX2ViX2J0UmlnaWRCb2R5X2FwcGx5Q2VudHJhbExvY2FsRm9yY2VfMT1mdW5jdGlvbigpe3JldHVybihzcz10Ll9lYl9idFJpZ2lkQm9keV9hcHBseUNlbnRyYWxMb2NhbEZvcmNlXzE9dC5hc20uRWYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scHM9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlUb3JxdWVJbXB1bHNlXzE9ZnVuY3Rpb24oKXtyZXR1cm4ocHM9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlUb3JxdWVJbXB1bHNlXzE9dC5hc20uRmYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbHM9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlJbXB1bHNlXzI9ZnVuY3Rpb24oKXtyZXR1cm4obHM9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlJbXB1bHNlXzI9dC5hc20uR2YpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdXM9dC5fZWJfYnRSaWdpZEJvZHlfYXBwbHlDZW50cmFsSW1wdWxzZV8xPWZ1bmN0aW9uKCl7cmV0dXJuKHVzPXQuX2ViX2J0UmlnaWRCb2R5X2FwcGx5Q2VudHJhbEltcHVsc2VfMT10LmFzbS5IZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxjcz10Ll9lYl9idFJpZ2lkQm9keV91cGRhdGVJbmVydGlhVGVuc29yXzA9ZnVuY3Rpb24oKXtyZXR1cm4oY3M9dC5fZWJfYnRSaWdpZEJvZHlfdXBkYXRlSW5lcnRpYVRlbnNvcl8wPXQuYXNtLklmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHlzPXQuX2ViX2J0UmlnaWRCb2R5X2dldExpbmVhclZlbG9jaXR5XzA9ZnVuY3Rpb24oKXtyZXR1cm4oeXM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0TGluZWFyVmVsb2NpdHlfMD10LmFzbS5KZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxocz10Ll9lYl9idFJpZ2lkQm9keV9nZXRBbmd1bGFyVmVsb2NpdHlfMD1mdW5jdGlvbigpe3JldHVybihocz10Ll9lYl9idFJpZ2lkQm9keV9nZXRBbmd1bGFyVmVsb2NpdHlfMD10LmFzbS5LZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxmcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRMaW5lYXJWZWxvY2l0eV8xPWZ1bmN0aW9uKCl7cmV0dXJuKGZzPXQuX2ViX2J0UmlnaWRCb2R5X3NldExpbmVhclZlbG9jaXR5XzE9dC5hc20uTGYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbXM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0QW5ndWxhclZlbG9jaXR5XzE9ZnVuY3Rpb24oKXtyZXR1cm4obXM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0QW5ndWxhclZlbG9jaXR5XzE9dC5hc20uTWYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYnM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0TW90aW9uU3RhdGVfMD1mdW5jdGlvbigpe3JldHVybihicz10Ll9lYl9idFJpZ2lkQm9keV9nZXRNb3Rpb25TdGF0ZV8wPXQuYXNtLk5mKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdzPXQuX2ViX2J0UmlnaWRCb2R5X3NldE1vdGlvblN0YXRlXzE9ZnVuY3Rpb24oKXtyZXR1cm4oZ3M9dC5fZWJfYnRSaWdpZEJvZHlfc2V0TW90aW9uU3RhdGVfMT10LmFzbS5PZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxkcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRBbmd1bGFyRmFjdG9yXzA9ZnVuY3Rpb24oKXtyZXR1cm4oZHM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0QW5ndWxhckZhY3Rvcl8wPXQuYXNtLlBmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFdzPXQuX2ViX2J0UmlnaWRCb2R5X3NldEFuZ3VsYXJGYWN0b3JfMT1mdW5jdGlvbigpe3JldHVybihXcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRBbmd1bGFyRmFjdG9yXzE9dC5hc20uUWYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQ3M9dC5fZWJfYnRSaWdpZEJvZHlfdXBjYXN0XzE9ZnVuY3Rpb24oKXtyZXR1cm4oQ3M9dC5fZWJfYnRSaWdpZEJvZHlfdXBjYXN0XzE9dC5hc20uUmYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sanM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0QWFiYl8yPWZ1bmN0aW9uKCl7cmV0dXJuKGpzPXQuX2ViX2J0UmlnaWRCb2R5X2dldEFhYmJfMj10LmFzbS5TZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx2cz10Ll9lYl9idFJpZ2lkQm9keV9hcHBseUdyYXZpdHlfMD1mdW5jdGlvbigpe3JldHVybih2cz10Ll9lYl9idFJpZ2lkQm9keV9hcHBseUdyYXZpdHlfMD10LmFzbS5UZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxEcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRHcmF2aXR5XzA9ZnVuY3Rpb24oKXtyZXR1cm4oRHM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0R3Jhdml0eV8wPXQuYXNtLlVmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFJzPXQuX2ViX2J0UmlnaWRCb2R5X3NldEdyYXZpdHlfMT1mdW5jdGlvbigpe3JldHVybihScz10Ll9lYl9idFJpZ2lkQm9keV9zZXRHcmF2aXR5XzE9dC5hc20uVmYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sU3M9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0QnJvYWRwaGFzZVByb3h5XzA9ZnVuY3Rpb24oKXtyZXR1cm4oU3M9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0QnJvYWRwaGFzZVByb3h5XzA9dC5hc20uV2YpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSXM9dC5fZWJfYnRSaWdpZEJvZHlfY2xlYXJGb3JjZXNfMD1mdW5jdGlvbigpe3JldHVybihJcz10Ll9lYl9idFJpZ2lkQm9keV9jbGVhckZvcmNlc18wPXQuYXNtLlhmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE9zPXQuX2ViX2J0UmlnaWRCb2R5X3NldEFuaXNvdHJvcGljRnJpY3Rpb25fMj1mdW5jdGlvbigpe3JldHVybihPcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRBbmlzb3Ryb3BpY0ZyaWN0aW9uXzI9dC5hc20uWWYpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQnM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0Q29sbGlzaW9uU2hhcGVfMD1mdW5jdGlvbigpe3JldHVybihCcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRDb2xsaXNpb25TaGFwZV8wPXQuYXNtLlpmKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFBzPXQuX2ViX2J0UmlnaWRCb2R5X3NldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkXzE9ZnVuY3Rpb24oKXtyZXR1cm4oUHM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0Q29udGFjdFByb2Nlc3NpbmdUaHJlc2hvbGRfMT10LmFzbS5fZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx4cz10Ll9lYl9idFJpZ2lkQm9keV9zZXRBY3RpdmF0aW9uU3RhdGVfMT1mdW5jdGlvbigpe3JldHVybih4cz10Ll9lYl9idFJpZ2lkQm9keV9zZXRBY3RpdmF0aW9uU3RhdGVfMT10LmFzbS4kZikuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxUcz10Ll9lYl9idFJpZ2lkQm9keV9mb3JjZUFjdGl2YXRpb25TdGF0ZV8xPWZ1bmN0aW9uKCl7cmV0dXJuKFRzPXQuX2ViX2J0UmlnaWRCb2R5X2ZvcmNlQWN0aXZhdGlvblN0YXRlXzE9dC5hc20uYWcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRnM9dC5fZWJfYnRSaWdpZEJvZHlfYWN0aXZhdGVfMD1mdW5jdGlvbigpe3JldHVybihGcz10Ll9lYl9idFJpZ2lkQm9keV9hY3RpdmF0ZV8wPXQuYXNtLmJnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE1zPXQuX2ViX2J0UmlnaWRCb2R5X2FjdGl2YXRlXzE9ZnVuY3Rpb24oKXtyZXR1cm4oTXM9dC5fZWJfYnRSaWdpZEJvZHlfYWN0aXZhdGVfMT10LmFzbS5jZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxBcz10Ll9lYl9idFJpZ2lkQm9keV9pc0FjdGl2ZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKEFzPXQuX2ViX2J0UmlnaWRCb2R5X2lzQWN0aXZlXzA9dC5hc20uZGcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sd3M9dC5fZWJfYnRSaWdpZEJvZHlfaXNLaW5lbWF0aWNPYmplY3RfMD1mdW5jdGlvbigpe3JldHVybih3cz10Ll9lYl9idFJpZ2lkQm9keV9pc0tpbmVtYXRpY09iamVjdF8wPXQuYXNtLmVnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGtzPXQuX2ViX2J0UmlnaWRCb2R5X2lzU3RhdGljT2JqZWN0XzA9ZnVuY3Rpb24oKXtyZXR1cm4oa3M9dC5fZWJfYnRSaWdpZEJvZHlfaXNTdGF0aWNPYmplY3RfMD10LmFzbS5mZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxMcz10Ll9lYl9idFJpZ2lkQm9keV9pc1N0YXRpY09yS2luZW1hdGljT2JqZWN0XzA9ZnVuY3Rpb24oKXtyZXR1cm4oTHM9dC5fZWJfYnRSaWdpZEJvZHlfaXNTdGF0aWNPcktpbmVtYXRpY09iamVjdF8wPXQuYXNtLmdnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEhzPXQuX2ViX2J0UmlnaWRCb2R5X2dldFJlc3RpdHV0aW9uXzA9ZnVuY3Rpb24oKXtyZXR1cm4oSHM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0UmVzdGl0dXRpb25fMD10LmFzbS5oZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxZcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRGcmljdGlvbl8wPWZ1bmN0aW9uKCl7cmV0dXJuKFlzPXQuX2ViX2J0UmlnaWRCb2R5X2dldEZyaWN0aW9uXzA9dC5hc20uaWcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVnM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0Um9sbGluZ0ZyaWN0aW9uXzA9ZnVuY3Rpb24oKXtyZXR1cm4oVnM9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0Um9sbGluZ0ZyaWN0aW9uXzA9dC5hc20uamcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUXM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0UmVzdGl0dXRpb25fMT1mdW5jdGlvbigpe3JldHVybihRcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRSZXN0aXR1dGlvbl8xPXQuYXNtLmtnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEVzPXQuX2ViX2J0UmlnaWRCb2R5X3NldEZyaWN0aW9uXzE9ZnVuY3Rpb24oKXtyZXR1cm4oRXM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0RnJpY3Rpb25fMT10LmFzbS5sZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxYcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRSb2xsaW5nRnJpY3Rpb25fMT1mdW5jdGlvbigpe3JldHVybihYcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRSb2xsaW5nRnJpY3Rpb25fMT10LmFzbS5tZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxVcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRXb3JsZFRyYW5zZm9ybV8wPWZ1bmN0aW9uKCl7cmV0dXJuKFVzPXQuX2ViX2J0UmlnaWRCb2R5X2dldFdvcmxkVHJhbnNmb3JtXzA9dC5hc20ubmcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sR3M9dC5fZWJfYnRSaWdpZEJvZHlfZ2V0Q29sbGlzaW9uRmxhZ3NfMD1mdW5jdGlvbigpe3JldHVybihHcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRDb2xsaXNpb25GbGFnc18wPXQuYXNtLm9nKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE5zPXQuX2ViX2J0UmlnaWRCb2R5X3NldENvbGxpc2lvbkZsYWdzXzE9ZnVuY3Rpb24oKXtyZXR1cm4oTnM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0Q29sbGlzaW9uRmxhZ3NfMT10LmFzbS5wZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx6cz10Ll9lYl9idFJpZ2lkQm9keV9zZXRXb3JsZFRyYW5zZm9ybV8xPWZ1bmN0aW9uKCl7cmV0dXJuKHpzPXQuX2ViX2J0UmlnaWRCb2R5X3NldFdvcmxkVHJhbnNmb3JtXzE9dC5hc20ucWcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0scXM9dC5fZWJfYnRSaWdpZEJvZHlfc2V0Q29sbGlzaW9uU2hhcGVfMT1mdW5jdGlvbigpe3JldHVybihxcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRDb2xsaXNpb25TaGFwZV8xPXQuYXNtLnJnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFpzPXQuX2ViX2J0UmlnaWRCb2R5X3NldENjZE1vdGlvblRocmVzaG9sZF8xPWZ1bmN0aW9uKCl7cmV0dXJuKFpzPXQuX2ViX2J0UmlnaWRCb2R5X3NldENjZE1vdGlvblRocmVzaG9sZF8xPXQuYXNtLnNnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEtzPXQuX2ViX2J0UmlnaWRCb2R5X3NldENjZFN3ZXB0U3BoZXJlUmFkaXVzXzE9ZnVuY3Rpb24oKXtyZXR1cm4oS3M9dC5fZWJfYnRSaWdpZEJvZHlfc2V0Q2NkU3dlcHRTcGhlcmVSYWRpdXNfMT10LmFzbS50ZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwkcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRVc2VySW5kZXhfMD1mdW5jdGlvbigpe3JldHVybigkcz10Ll9lYl9idFJpZ2lkQm9keV9nZXRVc2VySW5kZXhfMD10LmFzbS51ZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxKcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRVc2VySW5kZXhfMT1mdW5jdGlvbigpe3JldHVybihKcz10Ll9lYl9idFJpZ2lkQm9keV9zZXRVc2VySW5kZXhfMT10LmFzbS52ZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0cD10Ll9lYl9idFJpZ2lkQm9keV9nZXRVc2VyUG9pbnRlcl8wPWZ1bmN0aW9uKCl7cmV0dXJuKHRwPXQuX2ViX2J0UmlnaWRCb2R5X2dldFVzZXJQb2ludGVyXzA9dC5hc20ud2cpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZXA9dC5fZWJfYnRSaWdpZEJvZHlfc2V0VXNlclBvaW50ZXJfMT1mdW5jdGlvbigpe3JldHVybihlcD10Ll9lYl9idFJpZ2lkQm9keV9zZXRVc2VyUG9pbnRlcl8xPXQuYXNtLnhnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG9wPXQuX2ViX2J0UmlnaWRCb2R5X2dldEJyb2FkcGhhc2VIYW5kbGVfMD1mdW5jdGlvbigpe3JldHVybihvcD10Ll9lYl9idFJpZ2lkQm9keV9nZXRCcm9hZHBoYXNlSGFuZGxlXzA9dC5hc20ueWcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbnA9dC5fZWJfYnRSaWdpZEJvZHlfX19kZXN0cm95X19fMD1mdW5jdGlvbigpe3JldHVybihucD10Ll9lYl9idFJpZ2lkQm9keV9fX2Rlc3Ryb3lfX18wPXQuYXNtLnpnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHJwPXQuX2ViX2J0U2VxdWVudGlhbEltcHVsc2VDb25zdHJhaW50U29sdmVyX2J0U2VxdWVudGlhbEltcHVsc2VDb25zdHJhaW50U29sdmVyXzA9ZnVuY3Rpb24oKXtyZXR1cm4ocnA9dC5fZWJfYnRTZXF1ZW50aWFsSW1wdWxzZUNvbnN0cmFpbnRTb2x2ZXJfYnRTZXF1ZW50aWFsSW1wdWxzZUNvbnN0cmFpbnRTb2x2ZXJfMD10LmFzbS5BZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfcD10Ll9lYl9idFNlcXVlbnRpYWxJbXB1bHNlQ29uc3RyYWludFNvbHZlcl9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKF9wPXQuX2ViX2J0U2VxdWVudGlhbEltcHVsc2VDb25zdHJhaW50U29sdmVyX19fZGVzdHJveV9fXzA9dC5hc20uQmcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saXA9dC5fZWJfYnRDb25zdHJhaW50U29sdmVyX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oaXA9dC5fZWJfYnRDb25zdHJhaW50U29sdmVyX19fZGVzdHJveV9fXzA9dC5hc20uQ2cpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYXA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV90aW1lU3RlcF8wPWZ1bmN0aW9uKCl7cmV0dXJuKGFwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fdGltZVN0ZXBfMD10LmFzbS5EZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxzcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX3RpbWVTdGVwXzE9ZnVuY3Rpb24oKXtyZXR1cm4oc3A9dC5fZWJfYnREaXNwYXRjaGVySW5mb19zZXRfbV90aW1lU3RlcF8xPXQuYXNtLkVnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHBwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fc3RlcENvdW50XzA9ZnVuY3Rpb24oKXtyZXR1cm4ocHA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV9zdGVwQ291bnRfMD10LmFzbS5GZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxscD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX3N0ZXBDb3VudF8xPWZ1bmN0aW9uKCl7cmV0dXJuKGxwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fc3RlcENvdW50XzE9dC5hc20uR2cpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdXA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV9kaXNwYXRjaEZ1bmNfMD1mdW5jdGlvbigpe3JldHVybih1cD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX2dldF9tX2Rpc3BhdGNoRnVuY18wPXQuYXNtLkhnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGNwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fZGlzcGF0Y2hGdW5jXzE9ZnVuY3Rpb24oKXtyZXR1cm4oY3A9dC5fZWJfYnREaXNwYXRjaGVySW5mb19zZXRfbV9kaXNwYXRjaEZ1bmNfMT10LmFzbS5JZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx5cD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX2dldF9tX3RpbWVPZkltcGFjdF8wPWZ1bmN0aW9uKCl7cmV0dXJuKHlwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fdGltZU9mSW1wYWN0XzA9dC5hc20uSmcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saHA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19zZXRfbV90aW1lT2ZJbXBhY3RfMT1mdW5jdGlvbigpe3JldHVybihocD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX3RpbWVPZkltcGFjdF8xPXQuYXNtLktnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGZwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fdXNlQ29udGludW91c18wPWZ1bmN0aW9uKCl7cmV0dXJuKGZwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fdXNlQ29udGludW91c18wPXQuYXNtLkxnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LG1wPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fdXNlQ29udGludW91c18xPWZ1bmN0aW9uKCl7cmV0dXJuKG1wPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fdXNlQ29udGludW91c18xPXQuYXNtLk1nKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGJwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fZW5hYmxlU2F0Q29udmV4XzA9ZnVuY3Rpb24oKXtyZXR1cm4oYnA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV9lbmFibGVTYXRDb252ZXhfMD10LmFzbS5OZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxncD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX2VuYWJsZVNhdENvbnZleF8xPWZ1bmN0aW9uKCl7cmV0dXJuKGdwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fZW5hYmxlU2F0Q29udmV4XzE9dC5hc20uT2cpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZHA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV9lbmFibGVTUFVfMD1mdW5jdGlvbigpe3JldHVybihkcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX2dldF9tX2VuYWJsZVNQVV8wPXQuYXNtLlBnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFdwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fZW5hYmxlU1BVXzE9ZnVuY3Rpb24oKXtyZXR1cm4oV3A9dC5fZWJfYnREaXNwYXRjaGVySW5mb19zZXRfbV9lbmFibGVTUFVfMT10LmFzbS5RZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxDcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX2dldF9tX3VzZUVwYV8wPWZ1bmN0aW9uKCl7cmV0dXJuKENwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fdXNlRXBhXzA9dC5hc20uUmcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sanA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19zZXRfbV91c2VFcGFfMT1mdW5jdGlvbigpe3JldHVybihqcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX3VzZUVwYV8xPXQuYXNtLlNnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHZwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fZ2V0X21fYWxsb3dlZENjZFBlbmV0cmF0aW9uXzA9ZnVuY3Rpb24oKXtyZXR1cm4odnA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV9hbGxvd2VkQ2NkUGVuZXRyYXRpb25fMD10LmFzbS5UZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxEcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX2FsbG93ZWRDY2RQZW5ldHJhdGlvbl8xPWZ1bmN0aW9uKCl7cmV0dXJuKERwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fYWxsb3dlZENjZFBlbmV0cmF0aW9uXzE9dC5hc20uVWcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUnA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV91c2VDb252ZXhDb25zZXJ2YXRpdmVEaXN0YW5jZVV0aWxfMD1mdW5jdGlvbigpe3JldHVybihScD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX2dldF9tX3VzZUNvbnZleENvbnNlcnZhdGl2ZURpc3RhbmNlVXRpbF8wPXQuYXNtLlZnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFNwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fdXNlQ29udmV4Q29uc2VydmF0aXZlRGlzdGFuY2VVdGlsXzE9ZnVuY3Rpb24oKXtyZXR1cm4oU3A9dC5fZWJfYnREaXNwYXRjaGVySW5mb19zZXRfbV91c2VDb252ZXhDb25zZXJ2YXRpdmVEaXN0YW5jZVV0aWxfMT10LmFzbS5XZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxJcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX2dldF9tX2NvbnZleENvbnNlcnZhdGl2ZURpc3RhbmNlVGhyZXNob2xkXzA9ZnVuY3Rpb24oKXtyZXR1cm4oSXA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19nZXRfbV9jb252ZXhDb25zZXJ2YXRpdmVEaXN0YW5jZVRocmVzaG9sZF8wPXQuYXNtLlhnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE9wPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fc2V0X21fY29udmV4Q29uc2VydmF0aXZlRGlzdGFuY2VUaHJlc2hvbGRfMT1mdW5jdGlvbigpe3JldHVybihPcD10Ll9lYl9idERpc3BhdGNoZXJJbmZvX3NldF9tX2NvbnZleENvbnNlcnZhdGl2ZURpc3RhbmNlVGhyZXNob2xkXzE9dC5hc20uWWcpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sQnA9dC5fZWJfYnREaXNwYXRjaGVySW5mb19fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKEJwPXQuX2ViX2J0RGlzcGF0Y2hlckluZm9fX19kZXN0cm95X19fMD10LmFzbS5aZykuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxQcD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX2dldF9tX3NwbGl0SW1wdWxzZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKFBwPXQuX2ViX2J0Q29udGFjdFNvbHZlckluZm9fZ2V0X21fc3BsaXRJbXB1bHNlXzA9dC5hc20uX2cpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0seHA9dC5fZWJfYnRDb250YWN0U29sdmVySW5mb19zZXRfbV9zcGxpdEltcHVsc2VfMT1mdW5jdGlvbigpe3JldHVybih4cD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX3NldF9tX3NwbGl0SW1wdWxzZV8xPXQuYXNtLiRnKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFRwPXQuX2ViX2J0Q29udGFjdFNvbHZlckluZm9fZ2V0X21fc3BsaXRJbXB1bHNlUGVuZXRyYXRpb25UaHJlc2hvbGRfMD1mdW5jdGlvbigpe3JldHVybihUcD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX2dldF9tX3NwbGl0SW1wdWxzZVBlbmV0cmF0aW9uVGhyZXNob2xkXzA9dC5hc20uYWgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRnA9dC5fZWJfYnRDb250YWN0U29sdmVySW5mb19zZXRfbV9zcGxpdEltcHVsc2VQZW5ldHJhdGlvblRocmVzaG9sZF8xPWZ1bmN0aW9uKCl7cmV0dXJuKEZwPXQuX2ViX2J0Q29udGFjdFNvbHZlckluZm9fc2V0X21fc3BsaXRJbXB1bHNlUGVuZXRyYXRpb25UaHJlc2hvbGRfMT10LmFzbS5iaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxNcD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX2dldF9tX251bUl0ZXJhdGlvbnNfMD1mdW5jdGlvbigpe3JldHVybihNcD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX2dldF9tX251bUl0ZXJhdGlvbnNfMD10LmFzbS5jaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxBcD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX3NldF9tX251bUl0ZXJhdGlvbnNfMT1mdW5jdGlvbigpe3JldHVybihBcD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX3NldF9tX251bUl0ZXJhdGlvbnNfMT10LmFzbS5kaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx3cD10Ll9lYl9idENvbnRhY3RTb2x2ZXJJbmZvX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4od3A9dC5fZWJfYnRDb250YWN0U29sdmVySW5mb19fX2Rlc3Ryb3lfX18wPXQuYXNtLmVoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGtwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkXzQ9ZnVuY3Rpb24oKXtyZXR1cm4oa3A9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfND10LmFzbS5maCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxMcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9zZXRHcmF2aXR5XzE9ZnVuY3Rpb24oKXtyZXR1cm4oTHA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfc2V0R3Jhdml0eV8xPXQuYXNtLmdoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LEhwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX2dldEdyYXZpdHlfMD1mdW5jdGlvbigpe3JldHVybihIcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9nZXRHcmF2aXR5XzA9dC5hc20uaGgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWXA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkUmlnaWRCb2R5XzE9ZnVuY3Rpb24oKXtyZXR1cm4oWXA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkUmlnaWRCb2R5XzE9dC5hc20uaWgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sVnA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkUmlnaWRCb2R5XzM9ZnVuY3Rpb24oKXtyZXR1cm4oVnA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkUmlnaWRCb2R5XzM9dC5hc20uamgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sUXA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfcmVtb3ZlUmlnaWRCb2R5XzE9ZnVuY3Rpb24oKXtyZXR1cm4oUXA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfcmVtb3ZlUmlnaWRCb2R5XzE9dC5hc20ua2gpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sRXA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfc3RlcFNpbXVsYXRpb25fMT1mdW5jdGlvbigpe3JldHVybihFcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9zdGVwU2ltdWxhdGlvbl8xPXQuYXNtLmxoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFhwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3N0ZXBTaW11bGF0aW9uXzI9ZnVuY3Rpb24oKXtyZXR1cm4oWHA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfc3RlcFNpbXVsYXRpb25fMj10LmFzbS5taCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxVcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9zdGVwU2ltdWxhdGlvbl8zPWZ1bmN0aW9uKCl7cmV0dXJuKFVwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3N0ZXBTaW11bGF0aW9uXzM9dC5hc20ubmgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sR3A9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfc2V0Q29udGFjdEFkZGVkQ2FsbGJhY2tfMT1mdW5jdGlvbigpe3JldHVybihHcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9zZXRDb250YWN0QWRkZWRDYWxsYmFja18xPXQuYXNtLm9oKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LE5wPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3NldENvbnRhY3RQcm9jZXNzZWRDYWxsYmFja18xPWZ1bmN0aW9uKCl7cmV0dXJuKE5wPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3NldENvbnRhY3RQcm9jZXNzZWRDYWxsYmFja18xPXQuYXNtLnBoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHpwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3NldENvbnRhY3REZXN0cm95ZWRDYWxsYmFja18xPWZ1bmN0aW9uKCl7cmV0dXJuKHpwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3NldENvbnRhY3REZXN0cm95ZWRDYWxsYmFja18xPXQuYXNtLnFoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHFwPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX2dldERpc3BhdGNoZXJfMD1mdW5jdGlvbigpe3JldHVybihxcD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9nZXREaXNwYXRjaGVyXzA9dC5hc20ucmgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sWnA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfZ2V0UGFpckNhY2hlXzA9ZnVuY3Rpb24oKXtyZXR1cm4oWnA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfZ2V0UGFpckNhY2hlXzA9dC5hc20uc2gpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sS3A9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfZ2V0RGlzcGF0Y2hJbmZvXzA9ZnVuY3Rpb24oKXtyZXR1cm4oS3A9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfZ2V0RGlzcGF0Y2hJbmZvXzA9dC5hc20udGgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sJHA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzE9ZnVuY3Rpb24oKXtyZXR1cm4oJHA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzE9dC5hc20udWgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sSnA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzI9ZnVuY3Rpb24oKXtyZXR1cm4oSnA9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzI9dC5hc20udmgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sdGw9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzM9ZnVuY3Rpb24oKXtyZXR1cm4odGw9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfYWRkQ29sbGlzaW9uT2JqZWN0XzM9dC5hc20ud2gpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZWw9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfcmVtb3ZlQ29sbGlzaW9uT2JqZWN0XzE9ZnVuY3Rpb24oKXtyZXR1cm4oZWw9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfcmVtb3ZlQ29sbGlzaW9uT2JqZWN0XzE9dC5hc20ueGgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sb2w9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfZ2V0QnJvYWRwaGFzZV8wPWZ1bmN0aW9uKCl7cmV0dXJuKG9sPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX2dldEJyb2FkcGhhc2VfMD10LmFzbS55aCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxubD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9jb252ZXhTd2VlcFRlc3RfNT1mdW5jdGlvbigpe3JldHVybihubD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9jb252ZXhTd2VlcFRlc3RfNT10LmFzbS56aCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxybD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9jb250YWN0UGFpclRlc3RfMz1mdW5jdGlvbigpe3JldHVybihybD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9jb250YWN0UGFpclRlc3RfMz10LmFzbS5BaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxfbD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9jb250YWN0VGVzdF8yPWZ1bmN0aW9uKCl7cmV0dXJuKF9sPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX2NvbnRhY3RUZXN0XzI9dC5hc20uQmgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0saWw9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfdXBkYXRlU2luZ2xlQWFiYl8xPWZ1bmN0aW9uKCl7cmV0dXJuKGlsPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3VwZGF0ZVNpbmdsZUFhYmJfMT10LmFzbS5DaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhbD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9hZGRBY3Rpb25fMT1mdW5jdGlvbigpe3JldHVybihhbD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9hZGRBY3Rpb25fMT10LmFzbS5EaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxzbD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9yZW1vdmVBY3Rpb25fMT1mdW5jdGlvbigpe3JldHVybihzbD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9yZW1vdmVBY3Rpb25fMT10LmFzbS5FaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxwbD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9nZXRTb2x2ZXJJbmZvXzA9ZnVuY3Rpb24oKXtyZXR1cm4ocGw9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfZ2V0U29sdmVySW5mb18wPXQuYXNtLkZoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGxsPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3NldEludGVybmFsVGlja0NhbGxiYWNrXzE9ZnVuY3Rpb24oKXtyZXR1cm4obGw9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMT10LmFzbS5HaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx1bD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9zZXRJbnRlcm5hbFRpY2tDYWxsYmFja18yPWZ1bmN0aW9uKCl7cmV0dXJuKHVsPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX3NldEludGVybmFsVGlja0NhbGxiYWNrXzI9dC5hc20uSGgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sY2w9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2tfMz1mdW5jdGlvbigpe3JldHVybihjbD10Ll9lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9zZXRJbnRlcm5hbFRpY2tDYWxsYmFja18zPXQuYXNtLkloKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHlsPXQuX2ViX2J0RGlzY3JldGVEeW5hbWljc1dvcmxkX19fZGVzdHJveV9fXzA9ZnVuY3Rpb24oKXtyZXR1cm4oeWw9dC5fZWJfYnREaXNjcmV0ZUR5bmFtaWNzV29ybGRfX19kZXN0cm95X19fMD10LmFzbS5KaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxobD10Ll9lYl9idEFjdGlvbkludGVyZmFjZV91cGRhdGVBY3Rpb25fMj1mdW5jdGlvbigpe3JldHVybihobD10Ll9lYl9idEFjdGlvbkludGVyZmFjZV91cGRhdGVBY3Rpb25fMj10LmFzbS5LaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxmbD10Ll9lYl9idEFjdGlvbkludGVyZmFjZV9fX2Rlc3Ryb3lfX18wPWZ1bmN0aW9uKCl7cmV0dXJuKGZsPXQuX2ViX2J0QWN0aW9uSW50ZXJmYWNlX19fZGVzdHJveV9fXzA9dC5hc20uTGgpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sbWw9dC5fZW1zY3JpcHRlbl9lbnVtX1BIWV9TY2FsYXJUeXBlX1BIWV9GTE9BVD1mdW5jdGlvbigpe3JldHVybihtbD10Ll9lbXNjcmlwdGVuX2VudW1fUEhZX1NjYWxhclR5cGVfUEhZX0ZMT0FUPXQuYXNtLk1oKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGJsPXQuX2Vtc2NyaXB0ZW5fZW51bV9QSFlfU2NhbGFyVHlwZV9QSFlfRE9VQkxFPWZ1bmN0aW9uKCl7cmV0dXJuKGJsPXQuX2Vtc2NyaXB0ZW5fZW51bV9QSFlfU2NhbGFyVHlwZV9QSFlfRE9VQkxFPXQuYXNtLk5oKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGdsPXQuX2Vtc2NyaXB0ZW5fZW51bV9QSFlfU2NhbGFyVHlwZV9QSFlfSU5URUdFUj1mdW5jdGlvbigpe3JldHVybihnbD10Ll9lbXNjcmlwdGVuX2VudW1fUEhZX1NjYWxhclR5cGVfUEhZX0lOVEVHRVI9dC5hc20uT2gpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZGw9dC5fZW1zY3JpcHRlbl9lbnVtX1BIWV9TY2FsYXJUeXBlX1BIWV9TSE9SVD1mdW5jdGlvbigpe3JldHVybihkbD10Ll9lbXNjcmlwdGVuX2VudW1fUEhZX1NjYWxhclR5cGVfUEhZX1NIT1JUPXQuYXNtLlBoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LFdsPXQuX2Vtc2NyaXB0ZW5fZW51bV9QSFlfU2NhbGFyVHlwZV9QSFlfRklYRURQT0lOVDg4PWZ1bmN0aW9uKCl7cmV0dXJuKFdsPXQuX2Vtc2NyaXB0ZW5fZW51bV9QSFlfU2NhbGFyVHlwZV9QSFlfRklYRURQT0lOVDg4PXQuYXNtLlFoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LENsPXQuX2Vtc2NyaXB0ZW5fZW51bV9QSFlfU2NhbGFyVHlwZV9QSFlfVUNIQVI9ZnVuY3Rpb24oKXtyZXR1cm4oQ2w9dC5fZW1zY3JpcHRlbl9lbnVtX1BIWV9TY2FsYXJUeXBlX1BIWV9VQ0hBUj10LmFzbS5SaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfTt0Ll9tYWxsb2M9ZnVuY3Rpb24oKXtyZXR1cm4odC5fbWFsbG9jPXQuYXNtLlNoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuX2ZyZWU9ZnVuY3Rpb24oKXtyZXR1cm4odC5fZnJlZT10LmFzbS5UaCkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSx0LmR5bkNhbGxfdmk9ZnVuY3Rpb24oKXtyZXR1cm4odC5keW5DYWxsX3ZpPXQuYXNtLlVoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuZHluQ2FsbF92PWZ1bmN0aW9uKCl7cmV0dXJuKHQuZHluQ2FsbF92PXQuYXNtLlZoKS5hcHBseShudWxsLGFyZ3VtZW50cyl9LHQuYWRkRnVuY3Rpb249ZnVuY3Rpb24oZSxvKXtpZighUHQpe1B0PW5ldyBXZWFrTWFwO2Zvcih2YXIgbj0wO248Q3QubGVuZ3RoO24rKyl7dmFyIHI9Q3QuZ2V0KG4pO3ImJlB0LnNldChyLG4pfX1pZihQdC5oYXMoZSkpZT1QdC5nZXQoZSk7ZWxzZXtpZihvZS5sZW5ndGgpbj1vZS5wb3AoKTtlbHNle249Q3QubGVuZ3RoO3RyeXtDdC5ncm93KDEpfWNhdGNoKGN0KXt0aHJvdyBjdCBpbnN0YW5jZW9mIFJhbmdlRXJyb3I/IlVuYWJsZSB0byBncm93IHdhc20gdGFibGUuIFNldCBBTExPV19UQUJMRV9HUk9XVEguIjpjdH19dHJ5e0N0LnNldChuLGUpfWNhdGNoKGN0KXtpZighKGN0IGluc3RhbmNlb2YgVHlwZUVycm9yKSl0aHJvdyBjdDtpZih0eXBlb2YgV2ViQXNzZW1ibHkuRnVuY3Rpb249PSJmdW5jdGlvbiIpe3ZhciBjPXtpOiJpMzIiLGo6Imk2NCIsZjoiZjMyIixkOiJmNjQifSxEPXtwYXJhbWV0ZXJzOltdLHJlc3VsdHM6b1swXT09InYiP1tdOltjW29bMF1dXX07Zm9yKHI9MTtyPG8ubGVuZ3RoOysrcilELnBhcmFtZXRlcnMucHVzaChjW29bcl1dKTtvPW5ldyBXZWJBc3NlbWJseS5GdW5jdGlvbihELGUpfWVsc2V7Yz1bMSwwLDEsOTZdLEQ9by5zbGljZSgwLDEpLG89by5zbGljZSgxKTt2YXIgTj17aToxMjcsajoxMjYsZjoxMjUsZDoxMjR9O2ZvcihjLnB1c2goby5sZW5ndGgpLHI9MDtyPG8ubGVuZ3RoOysrciljLnB1c2goTltvW3JdXSk7RD09InYiP2MucHVzaCgwKTpjPWMuY29uY2F0KFsxLE5bRF1dKSxjWzFdPWMubGVuZ3RoLTIsbz1uZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDBdLmNvbmNhdChjLFsyLDcsMSwxLDEwMSwxLDEwMiwwLDAsNyw1LDEsMSwxMDIsMCwwXSkpLG89bmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShvKSxvPW5ldyBXZWJBc3NlbWJseS5JbnN0YW5jZShvLHtlOntmOmV9fSkuZXhwb3J0cy5mfUN0LnNldChuLG8pfVB0LnNldChlLG4pLGU9bn1yZXR1cm4gZX07dmFyIGFlO1p0PWZ1bmN0aW9uIGUoKXthZXx8Q2UoKSxhZXx8KFp0PWUpfTtmdW5jdGlvbiBDZSgpe2Z1bmN0aW9uIGUoKXtpZighYWUmJihhZT0hMCx0LmNhbGxlZFJ1bj0hMCwhbmUpKXtpZihGZT0hMCxHdChpZSksR3QoUXQpLGYodCksdC5vblJ1bnRpbWVJbml0aWFsaXplZCYmdC5vblJ1bnRpbWVJbml0aWFsaXplZCgpLHQucG9zdFJ1bilmb3IodHlwZW9mIHQucG9zdFJ1bj09ImZ1bmN0aW9uIiYmKHQucG9zdFJ1bj1bdC5wb3N0UnVuXSk7dC5wb3N0UnVuLmxlbmd0aDspe3ZhciBvPXQucG9zdFJ1bi5zaGlmdCgpO1RlLnVuc2hpZnQobyl9R3QoVGUpfX1pZighKDA8RXQpKXtpZih0LnByZVJ1bilmb3IodHlwZW9mIHQucHJlUnVuPT0iZnVuY3Rpb24iJiYodC5wcmVSdW49W3QucHJlUnVuXSk7dC5wcmVSdW4ubGVuZ3RoOylGbCgpO0d0KF9lKSwwPEV0fHwodC5zZXRTdGF0dXM/KHQuc2V0U3RhdHVzKCJSdW5uaW5nLi4uIiksc2V0VGltZW91dChmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnNldFN0YXR1cygiIil9LDEpLGUoKX0sMSkpOmUoKSl9fWlmKHQucnVuPUNlLHQucHJlSW5pdClmb3IodHlwZW9mIHQucHJlSW5pdD09ImZ1bmN0aW9uIiYmKHQucHJlSW5pdD1bdC5wcmVJbml0XSk7MDx0LnByZUluaXQubGVuZ3RoOyl0LnByZUluaXQucG9wKCkoKTtDZSgpO2Z1bmN0aW9uIGIoKXt9Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYi5wcm90b3R5cGUuY29uc3RydWN0b3I9YixiLnByb3RvdHlwZS5YaD1iLGIuWWg9e30sdC5XcmFwcGVyT2JqZWN0PWI7ZnVuY3Rpb24gQShlKXtyZXR1cm4oZXx8YikuWWh9dC5nZXRDYWNoZT1BO2Z1bmN0aW9uIGEoZSxvKXt2YXIgbj1BKG8pLHI9bltlXTtyZXR1cm4gcnx8KHI9T2JqZWN0LmNyZWF0ZSgob3x8YikucHJvdG90eXBlKSxyLldoPWUsbltlXT1yKX10LndyYXBQb2ludGVyPWEsdC5jYXN0T2JqZWN0PWZ1bmN0aW9uKGUsbyl7cmV0dXJuIGEoZS5XaCxvKX0sdC5OVUxMPWEoMCksdC5kZXN0cm95PWZ1bmN0aW9uKGUpe2lmKCFlLl9fZGVzdHJveV9fKXRocm93IkVycm9yOiBDYW5ub3QgZGVzdHJveSBvYmplY3QuIChEaWQgeW91IGNyZWF0ZSBpdCB5b3Vyc2VsZj8pIjtlLl9fZGVzdHJveV9fKCksZGVsZXRlIEEoZS5YaClbZS5XaF19LHQuY29tcGFyZT1mdW5jdGlvbihlLG8pe3JldHVybiBlLldoPT09by5XaH0sdC5nZXRQb2ludGVyPWZ1bmN0aW9uKGUpe3JldHVybiBlLldofSx0LmdldENsYXNzPWZ1bmN0aW9uKGUpe3JldHVybiBlLlhofTt2YXIgWHQ9MCxzZT0wLHBlPTAsbGU9W10sdWU9MDtmdW5jdGlvbiBqZSgpe2lmKHVlKXtmb3IodmFyIGU9MDtlPGxlLmxlbmd0aDtlKyspdC5fZnJlZShsZVtlXSk7bGUubGVuZ3RoPTAsdC5fZnJlZShYdCksWHQ9MCxzZSs9dWUsdWU9MH1YdHx8KHNlKz0xMjgsWHQ9dC5fbWFsbG9jKHNlKSxIdChYdCkpLHBlPTB9ZnVuY3Rpb24gamwoZSl7aWYodHlwZW9mIGU9PSJvYmplY3QiKXtIdChYdCk7dmFyIG89ZS5sZW5ndGgqVXQuQllURVNfUEVSX0VMRU1FTlQ7aWYobz1vKzcmLTgscGUrbz49c2Upe0h0KDA8byksdWUrPW87dmFyIG49dC5fbWFsbG9jKG8pO2xlLnB1c2gobil9ZWxzZSBuPVh0K3BlLHBlKz1vO3N3aXRjaChvPW4sbj1vPj4+MCxVdC5CWVRFU19QRVJfRUxFTUVOVCl7Y2FzZSAyOm4+Pj49MTticmVhaztjYXNlIDQ6bj4+Pj0yO2JyZWFrO2Nhc2UgODpuPj4+PTN9Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspVXRbbityXT1lW3JdO3JldHVybiBvfXJldHVybiBlfWZ1bmN0aW9uIEwoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRDb2xsaXNpb25Xb3JsZCwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1MLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxMLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1MLEwucHJvdG90eXBlLlhoPUwsTC5ZaD17fSx0LmJ0Q29sbGlzaW9uV29ybGQ9TCxMLnByb3RvdHlwZS5nZXREaXNwYXRjaGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEoTGUodGhpcy5XaCksSyl9LEwucHJvdG90eXBlLmdldFBhaXJDYWNoZT1mdW5jdGlvbigpe3JldHVybiBhKEhlKHRoaXMuV2gpLEopfSxMLnByb3RvdHlwZS5nZXREaXNwYXRjaEluZm89ZnVuY3Rpb24oKXtyZXR1cm4gYShZZSh0aGlzLldoKSxzKX0sTC5wcm90b3R5cGUuYWRkQ29sbGlzaW9uT2JqZWN0PWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLG89PT12b2lkIDA/VmUocixlKTpuPT09dm9pZCAwP1FlKHIsZSxvKTpFZShyLGUsbyxuKX0sTC5wcm90b3R5cGUucmVtb3ZlQ29sbGlzaW9uT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxYZShvLGUpfSxMLnByb3RvdHlwZS5nZXRCcm9hZHBoYXNlPWZ1bmN0aW9uKCl7cmV0dXJuIGEoVWUodGhpcy5XaCksc3QpfSxMLnByb3RvdHlwZS5jb252ZXhTd2VlcFRlc3Q9ZnVuY3Rpb24oZSxvLG4scixjKXt2YXIgRD10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLHImJnR5cGVvZiByPT0ib2JqZWN0IiYmKHI9ci5XaCksYyYmdHlwZW9mIGM9PSJvYmplY3QiJiYoYz1jLldoKSxHZShELGUsbyxuLHIsYyl9LEwucHJvdG90eXBlLmNvbnRhY3RQYWlyVGVzdD1mdW5jdGlvbihlLG8sbil7dmFyIHI9dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksbiYmdHlwZW9mIG49PSJvYmplY3QiJiYobj1uLldoKSxOZShyLGUsbyxuKX0sTC5wcm90b3R5cGUuY29udGFjdFRlc3Q9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSx6ZShuLGUsbyl9LEwucHJvdG90eXBlLnVwZGF0ZVNpbmdsZUFhYmI9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHFlKG8sZSl9LEwucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7WmUodGhpcy5XaCl9O2Z1bmN0aW9uIHcoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRRdWFkV29yZCwgbm8gY29uc3RydWN0b3IgaW4gSURMIn13LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSx3LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj13LHcucHJvdG90eXBlLlhoPXcsdy5ZaD17fSx0LmJ0UXVhZFdvcmQ9dyx3LnByb3RvdHlwZS54PXcucHJvdG90eXBlLng9ZnVuY3Rpb24oKXtyZXR1cm4gS2UodGhpcy5XaCl9LHcucHJvdG90eXBlLnk9dy5wcm90b3R5cGUueT1mdW5jdGlvbigpe3JldHVybiAkZSh0aGlzLldoKX0sdy5wcm90b3R5cGUuej13LnByb3RvdHlwZS56PWZ1bmN0aW9uKCl7cmV0dXJuIEplKHRoaXMuV2gpfSx3LnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7cmV0dXJuIHRvKHRoaXMuV2gpfSx3LnByb3RvdHlwZS5zZXRYPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxlbyhvLGUpfSx3LnByb3RvdHlwZS5zZXRZPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvbyhvLGUpfSx3LnByb3RvdHlwZS5zZXRaPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxubyhvLGUpfSx3LnByb3RvdHlwZS5zZXRXPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxybyhvLGUpfSx3LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe19vKHRoaXMuV2gpfTtmdW5jdGlvbiBudCgpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidE1vdGlvblN0YXRlLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifW50LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxudC5wcm90b3R5cGUuY29uc3RydWN0b3I9bnQsbnQucHJvdG90eXBlLlhoPW50LG50LlloPXt9LHQuYnRNb3Rpb25TdGF0ZT1udCxudC5wcm90b3R5cGUuZ2V0V29ybGRUcmFuc2Zvcm09ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGlvKG8sZSl9LG50LnByb3RvdHlwZS5zZXRXb3JsZFRyYW5zZm9ybT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksYW8obyxlKX0sbnQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7c28odGhpcy5XaCl9O2Z1bmN0aW9uIEMoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRDb2xsaXNpb25PYmplY3QsIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9Qy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksQy5wcm90b3R5cGUuY29uc3RydWN0b3I9QyxDLnByb3RvdHlwZS5YaD1DLEMuWWg9e30sdC5idENvbGxpc2lvbk9iamVjdD1DLEMucHJvdG90eXBlLnNldEFuaXNvdHJvcGljRnJpY3Rpb249ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxwbyhuLGUsbyl9LEMucHJvdG90eXBlLmdldENvbGxpc2lvblNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGEobG8odGhpcy5XaCksSCl9LEMucHJvdG90eXBlLnNldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx1byhvLGUpfSxDLnByb3RvdHlwZS5zZXRBY3RpdmF0aW9uU3RhdGU9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGNvKG8sZSl9LEMucHJvdG90eXBlLmZvcmNlQWN0aXZhdGlvblN0YXRlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx5byhvLGUpfSxDLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksZT09PXZvaWQgMD9obyhvKTpmbyhvLGUpfSxDLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiEhbW8odGhpcy5XaCl9LEMucHJvdG90eXBlLmlzS2luZW1hdGljT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuISFibyh0aGlzLldoKX0sQy5wcm90b3R5cGUuaXNTdGF0aWNPYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm4hIWdvKHRoaXMuV2gpfSxDLnByb3RvdHlwZS5pc1N0YXRpY09yS2luZW1hdGljT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuISFXbyh0aGlzLldoKX0sQy5wcm90b3R5cGUuZ2V0UmVzdGl0dXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gQ28odGhpcy5XaCl9LEMucHJvdG90eXBlLmdldEZyaWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGpvKHRoaXMuV2gpfSxDLnByb3RvdHlwZS5nZXRSb2xsaW5nRnJpY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdm8odGhpcy5XaCl9LEMucHJvdG90eXBlLnNldFJlc3RpdHV0aW9uPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxEbyhvLGUpfSxDLnByb3RvdHlwZS5zZXRGcmljdGlvbj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksUm8obyxlKX0sQy5wcm90b3R5cGUuc2V0Um9sbGluZ0ZyaWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxTbyhvLGUpfSxDLnByb3RvdHlwZS5nZXRXb3JsZFRyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiBhKElvKHRoaXMuV2gpLE8pfSxDLnByb3RvdHlwZS5nZXRDb2xsaXNpb25GbGFncz1mdW5jdGlvbigpe3JldHVybiBPbyh0aGlzLldoKX0sQy5wcm90b3R5cGUuc2V0Q29sbGlzaW9uRmxhZ3M9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEJvKG8sZSl9LEMucHJvdG90eXBlLnNldFdvcmxkVHJhbnNmb3JtPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxQbyhvLGUpfSxDLnByb3RvdHlwZS5zZXRDb2xsaXNpb25TaGFwZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCkseG8obyxlKX0sQy5wcm90b3R5cGUuc2V0Q2NkTW90aW9uVGhyZXNob2xkPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxUbyhvLGUpfSxDLnByb3RvdHlwZS5zZXRDY2RTd2VwdFNwaGVyZVJhZGl1cz1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksRm8obyxlKX0sQy5wcm90b3R5cGUuZ2V0VXNlckluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIE1vKHRoaXMuV2gpfSxDLnByb3RvdHlwZS5zZXRVc2VySW5kZXg9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEFvKG8sZSl9LEMucHJvdG90eXBlLmdldFVzZXJQb2ludGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEod28odGhpcy5XaCksbXQpfSxDLnByb3RvdHlwZS5zZXRVc2VyUG9pbnRlcj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksa28obyxlKX0sQy5wcm90b3R5cGUuZ2V0QnJvYWRwaGFzZUhhbmRsZT1mdW5jdGlvbigpe3JldHVybiBhKExvKHRoaXMuV2gpLEIpfSxDLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe0hvKHRoaXMuV2gpfTtmdW5jdGlvbiBmdCgpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBDb250YWN0UmVzdWx0Q2FsbGJhY2ssIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9ZnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLGZ0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1mdCxmdC5wcm90b3R5cGUuWGg9ZnQsZnQuWWg9e30sdC5Db250YWN0UmVzdWx0Q2FsbGJhY2s9ZnQsZnQucHJvdG90eXBlLmFkZFNpbmdsZVJlc3VsdD1mdW5jdGlvbihlLG8sbixyLGMsRCxOKXt2YXIgY3Q9dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmKG49bi5XaCksciYmdHlwZW9mIHI9PSJvYmplY3QiJiYocj1yLldoKSxjJiZ0eXBlb2YgYz09Im9iamVjdCImJihjPWMuV2gpLEQmJnR5cGVvZiBEPT0ib2JqZWN0IiYmKEQ9RC5XaCksTiYmdHlwZW9mIE49PSJvYmplY3QiJiYoTj1OLldoKSxZbyhjdCxlLG8sbixyLGMsRCxOKX0sZnQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7Vm8odGhpcy5XaCl9O2Z1bmN0aW9uIFIoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgQ29udmV4UmVzdWx0Q2FsbGJhY2ssIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9Ui5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksUi5wcm90b3R5cGUuY29uc3RydWN0b3I9UixSLnByb3RvdHlwZS5YaD1SLFIuWWg9e30sdC5Db252ZXhSZXN1bHRDYWxsYmFjaz1SLFIucHJvdG90eXBlLmhhc0hpdD1mdW5jdGlvbigpe3JldHVybiEhUW8odGhpcy5XaCl9LFIucHJvdG90eXBlLmdldF9tX2NvbGxpc2lvbkZpbHRlckdyb3VwPVIucHJvdG90eXBlLlpoPWZ1bmN0aW9uKCl7cmV0dXJuIEVvKHRoaXMuV2gpfSxSLnByb3RvdHlwZS5zZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cD1SLnByb3RvdHlwZS5haT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksWG8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFIucHJvdG90eXBlLCJtX2NvbGxpc2lvbkZpbHRlckdyb3VwIix7Z2V0OlIucHJvdG90eXBlLlpoLHNldDpSLnByb3RvdHlwZS5haX0pLFIucHJvdG90eXBlLmdldF9tX2NvbGxpc2lvbkZpbHRlck1hc2s9Ui5wcm90b3R5cGUuJGg9ZnVuY3Rpb24oKXtyZXR1cm4gVW8odGhpcy5XaCl9LFIucHJvdG90eXBlLnNldF9tX2NvbGxpc2lvbkZpbHRlck1hc2s9Ui5wcm90b3R5cGUuYmk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEdvKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSLnByb3RvdHlwZSwibV9jb2xsaXNpb25GaWx0ZXJNYXNrIix7Z2V0OlIucHJvdG90eXBlLiRoLHNldDpSLnByb3RvdHlwZS5iaX0pLFIucHJvdG90eXBlLmdldF9tX2Nsb3Nlc3RIaXRGcmFjdGlvbj1SLnByb3RvdHlwZS5kaT1mdW5jdGlvbigpe3JldHVybiBObyh0aGlzLldoKX0sUi5wcm90b3R5cGUuc2V0X21fY2xvc2VzdEhpdEZyYWN0aW9uPVIucHJvdG90eXBlLmZpPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx6byhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUi5wcm90b3R5cGUsIm1fY2xvc2VzdEhpdEZyYWN0aW9uIix7Z2V0OlIucHJvdG90eXBlLmRpLHNldDpSLnByb3RvdHlwZS5maX0pLFIucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7cW8odGhpcy5XaCl9O2Z1bmN0aW9uIEgoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRDb2xsaXNpb25TaGFwZSwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1ILnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxILnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1ILEgucHJvdG90eXBlLlhoPUgsSC5ZaD17fSx0LmJ0Q29sbGlzaW9uU2hhcGU9SCxILnByb3RvdHlwZS5zZXRMb2NhbFNjYWxpbmc9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFpvKG8sZSl9LEgucHJvdG90eXBlLmdldExvY2FsU2NhbGluZz1mdW5jdGlvbigpe3JldHVybiBhKEtvKHRoaXMuV2gpLHkpfSxILnByb3RvdHlwZS5jYWxjdWxhdGVMb2NhbEluZXJ0aWE9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSwkbyhuLGUsbyl9LEgucHJvdG90eXBlLnNldE1hcmdpbj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksSm8obyxlKX0sSC5wcm90b3R5cGUuZ2V0TWFyZ2luPWZ1bmN0aW9uKCl7cmV0dXJuIHRuKHRoaXMuV2gpfSxILnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe2VuKHRoaXMuV2gpfTtmdW5jdGlvbiBLKCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0RGlzcGF0Y2hlciwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1LLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxLLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1LLEsucHJvdG90eXBlLlhoPUssSy5ZaD17fSx0LmJ0RGlzcGF0Y2hlcj1LLEsucHJvdG90eXBlLmdldE51bU1hbmlmb2xkcz1mdW5jdGlvbigpe3JldHVybiBvbih0aGlzLldoKX0sSy5wcm90b3R5cGUuZ2V0TWFuaWZvbGRCeUluZGV4SW50ZXJuYWw9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKG5uKG8sZSkscSl9LEsucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7cm4odGhpcy5XaCl9O2Z1bmN0aW9uIHgoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnREeW5hbWljc1dvcmxkLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifXgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTC5wcm90b3R5cGUpLHgucHJvdG90eXBlLmNvbnN0cnVjdG9yPXgseC5wcm90b3R5cGUuWGg9eCx4LlloPXt9LHQuYnREeW5hbWljc1dvcmxkPXgseC5wcm90b3R5cGUuYWRkQWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxfbihvLGUpfSx4LnByb3RvdHlwZS5yZW1vdmVBY3Rpb249ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGFuKG8sZSl9LHgucHJvdG90eXBlLmdldFNvbHZlckluZm89ZnVuY3Rpb24oKXtyZXR1cm4gYShzbih0aGlzLldoKSxTKX0seC5wcm90b3R5cGUuc2V0SW50ZXJuYWxUaWNrQ2FsbGJhY2s9ZnVuY3Rpb24oZSxvLG4pe3ZhciByPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmKG49bi5XaCksbz09PXZvaWQgMD9wbihyLGUpOm49PT12b2lkIDA/bG4ocixlLG8pOnVuKHIsZSxvLG4pfSx4LnByb3RvdHlwZS5nZXREaXNwYXRjaGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEoY24odGhpcy5XaCksSyl9LHgucHJvdG90eXBlLmdldFBhaXJDYWNoZT1mdW5jdGlvbigpe3JldHVybiBhKHluKHRoaXMuV2gpLEopfSx4LnByb3RvdHlwZS5nZXREaXNwYXRjaEluZm89ZnVuY3Rpb24oKXtyZXR1cm4gYShobih0aGlzLldoKSxzKX0seC5wcm90b3R5cGUuYWRkQ29sbGlzaW9uT2JqZWN0PWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLG89PT12b2lkIDA/Zm4ocixlKTpuPT09dm9pZCAwP21uKHIsZSxvKTpibihyLGUsbyxuKX0seC5wcm90b3R5cGUucmVtb3ZlQ29sbGlzaW9uT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxnbihvLGUpfSx4LnByb3RvdHlwZS5nZXRCcm9hZHBoYXNlPWZ1bmN0aW9uKCl7cmV0dXJuIGEoZG4odGhpcy5XaCksc3QpfSx4LnByb3RvdHlwZS5jb252ZXhTd2VlcFRlc3Q9ZnVuY3Rpb24oZSxvLG4scixjKXt2YXIgRD10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLHImJnR5cGVvZiByPT0ib2JqZWN0IiYmKHI9ci5XaCksYyYmdHlwZW9mIGM9PSJvYmplY3QiJiYoYz1jLldoKSxXbihELGUsbyxuLHIsYyl9LHgucHJvdG90eXBlLmNvbnRhY3RQYWlyVGVzdD1mdW5jdGlvbihlLG8sbil7dmFyIHI9dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksbiYmdHlwZW9mIG49PSJvYmplY3QiJiYobj1uLldoKSxDbihyLGUsbyxuKX0seC5wcm90b3R5cGUuY29udGFjdFRlc3Q9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxqbihuLGUsbyl9LHgucHJvdG90eXBlLnVwZGF0ZVNpbmdsZUFhYmI9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHZuKG8sZSl9LHgucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7RG4odGhpcy5XaCl9O2Z1bmN0aW9uIG10KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIFZvaWRQdHIsIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9bXQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLG10LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1tdCxtdC5wcm90b3R5cGUuWGg9bXQsbXQuWWg9e30sdC5Wb2lkUHRyPW10LG10LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe1JuKHRoaXMuV2gpfTtmdW5jdGlvbiB5KGUsbyxuKXtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksbiYmdHlwZW9mIG49PSJvYmplY3QiJiYobj1uLldoKSx0aGlzLldoPWU9PT12b2lkIDA/U24oKTpvPT09dm9pZCAwP19lYl9idFZlY3RvcjNfYnRWZWN0b3IzXzEoZSk6bj09PXZvaWQgMD9fZWJfYnRWZWN0b3IzX2J0VmVjdG9yM18yKGUsbyk6SW4oZSxvLG4pLEEoeSlbdGhpcy5XaF09dGhpc315LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSx5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj15LHkucHJvdG90eXBlLlhoPXkseS5ZaD17fSx0LmJ0VmVjdG9yMz15LHkucHJvdG90eXBlLmxlbmd0aD15LnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gT24odGhpcy5XaCl9LHkucHJvdG90eXBlLng9eS5wcm90b3R5cGUueD1mdW5jdGlvbigpe3JldHVybiBCbih0aGlzLldoKX0seS5wcm90b3R5cGUueT15LnByb3RvdHlwZS55PWZ1bmN0aW9uKCl7cmV0dXJuIFBuKHRoaXMuV2gpfSx5LnByb3RvdHlwZS56PXkucHJvdG90eXBlLno9ZnVuY3Rpb24oKXtyZXR1cm4geG4odGhpcy5XaCl9LHkucHJvdG90eXBlLnNldFg9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFRuKG8sZSl9LHkucHJvdG90eXBlLnNldFk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEZuKG8sZSl9LHkucHJvdG90eXBlLnNldFo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLE1uKG8sZSl9LHkucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLEFuKHIsZSxvLG4pfSx5LnByb3RvdHlwZS5ub3JtYWxpemU9eS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7d24odGhpcy5XaCl9LHkucHJvdG90eXBlLnJvdGF0ZT15LnByb3RvdHlwZS5yb3RhdGU9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksYShrbihuLGUsbykseSl9LHkucHJvdG90eXBlLmRvdD1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLExuKG8sZSl9LHkucHJvdG90eXBlLm9wX211bD1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGEoSG4obyxlKSx5KX0seS5wcm90b3R5cGUub3BfYWRkPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksYShZbihvLGUpLHkpfSx5LnByb3RvdHlwZS5vcF9zdWI9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKFZuKG8sZSkseSl9LHkucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7UW4odGhpcy5XaCl9O2Z1bmN0aW9uIG0oZSxvLG4scil7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmKG49bi5XaCksciYmdHlwZW9mIHI9PSJvYmplY3QiJiYocj1yLldoKSx0aGlzLldoPUVuKGUsbyxuLHIpLEEobSlbdGhpcy5XaF09dGhpc31tLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcucHJvdG90eXBlKSxtLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1tLG0ucHJvdG90eXBlLlhoPW0sbS5ZaD17fSx0LmJ0UXVhdGVybmlvbj1tLG0ucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUsbyxuLHIpe3ZhciBjPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmKG49bi5XaCksciYmdHlwZW9mIHI9PSJvYmplY3QiJiYocj1yLldoKSxYbihjLGUsbyxuLHIpfSxtLnByb3RvdHlwZS5zZXRFdWxlclpZWD1mdW5jdGlvbihlLG8sbil7dmFyIHI9dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksbiYmdHlwZW9mIG49PSJvYmplY3QiJiYobj1uLldoKSxVbihyLGUsbyxuKX0sbS5wcm90b3R5cGUuc2V0Um90YXRpb249ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxHbihuLGUsbyl9LG0ucHJvdG90eXBlLm5vcm1hbGl6ZT1tLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXtObih0aGlzLldoKX0sbS5wcm90b3R5cGUubGVuZ3RoMj1mdW5jdGlvbigpe3JldHVybiB6bih0aGlzLldoKX0sbS5wcm90b3R5cGUubGVuZ3RoPW0ucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBxbih0aGlzLldoKX0sbS5wcm90b3R5cGUuZG90PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksWm4obyxlKX0sbS5wcm90b3R5cGUubm9ybWFsaXplZD1mdW5jdGlvbigpe3JldHVybiBhKEtuKHRoaXMuV2gpLG0pfSxtLnByb3RvdHlwZS5nZXRBeGlzPWZ1bmN0aW9uKCl7cmV0dXJuIGEoJG4odGhpcy5XaCkseSl9LG0ucHJvdG90eXBlLmludmVyc2U9bS5wcm90b3R5cGUuaW52ZXJzZT1mdW5jdGlvbigpe3JldHVybiBhKEpuKHRoaXMuV2gpLG0pfSxtLnByb3RvdHlwZS5nZXRBbmdsZT1mdW5jdGlvbigpe3JldHVybiB0cih0aGlzLldoKX0sbS5wcm90b3R5cGUuZ2V0QW5nbGVTaG9ydGVzdFBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gZXIodGhpcy5XaCl9LG0ucHJvdG90eXBlLmFuZ2xlPW0ucHJvdG90eXBlLmFuZ2xlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksb3IobyxlKX0sbS5wcm90b3R5cGUuYW5nbGVTaG9ydGVzdFBhdGg9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxucihvLGUpfSxtLnByb3RvdHlwZS5vcF9hZGQ9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKHJyKG8sZSksbSl9LG0ucHJvdG90eXBlLm9wX3N1Yj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGEoX3IobyxlKSxtKX0sbS5wcm90b3R5cGUub3BfbXVsPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksYShpcihvLGUpLG0pfSxtLnByb3RvdHlwZS5vcF9tdWxxPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksYShhcihvLGUpLG0pfSxtLnByb3RvdHlwZS5vcF9kaXY9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKHNyKG8sZSksbSl9LG0ucHJvdG90eXBlLng9bS5wcm90b3R5cGUueD1mdW5jdGlvbigpe3JldHVybiBwcih0aGlzLldoKX0sbS5wcm90b3R5cGUueT1tLnByb3RvdHlwZS55PWZ1bmN0aW9uKCl7cmV0dXJuIGxyKHRoaXMuV2gpfSxtLnByb3RvdHlwZS56PW0ucHJvdG90eXBlLno9ZnVuY3Rpb24oKXtyZXR1cm4gdXIodGhpcy5XaCl9LG0ucHJvdG90eXBlLnc9ZnVuY3Rpb24oKXtyZXR1cm4gY3IodGhpcy5XaCl9LG0ucHJvdG90eXBlLnNldFg9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHlyKG8sZSl9LG0ucHJvdG90eXBlLnNldFk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGhyKG8sZSl9LG0ucHJvdG90eXBlLnNldFo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGZyKG8sZSl9LG0ucHJvdG90eXBlLnNldFc9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG1yKG8sZSl9LG0ucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7YnIodGhpcy5XaCl9O2Z1bmN0aW9uIHJ0KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0TWF0cml4M3gzLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifXJ0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxydC5wcm90b3R5cGUuY29uc3RydWN0b3I9cnQscnQucHJvdG90eXBlLlhoPXJ0LHJ0LlloPXt9LHQuYnRNYXRyaXgzeDM9cnQscnQucHJvdG90eXBlLnNldEV1bGVyWllYPWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLGdyKHIsZSxvLG4pfSxydC5wcm90b3R5cGUuZ2V0Um90YXRpb249ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGRyKG8sZSl9LHJ0LnByb3RvdHlwZS5nZXRSb3c9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKFdyKG8sZSkseSl9LHJ0LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe0NyKHRoaXMuV2gpfTtmdW5jdGlvbiBPKGUsbyl7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLHRoaXMuV2g9ZT09PXZvaWQgMD9qcigpOm89PT12b2lkIDA/X2ViX2J0VHJhbnNmb3JtX2J0VHJhbnNmb3JtXzEoZSk6dnIoZSxvKSxBKE8pW3RoaXMuV2hdPXRoaXN9Ty5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksTy5wcm90b3R5cGUuY29uc3RydWN0b3I9TyxPLnByb3RvdHlwZS5YaD1PLE8uWWg9e30sdC5idFRyYW5zZm9ybT1PLE8ucHJvdG90eXBlLnNldElkZW50aXR5PWZ1bmN0aW9uKCl7RHIodGhpcy5XaCl9LE8ucHJvdG90eXBlLnNldE9yaWdpbj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksUnIobyxlKX0sTy5wcm90b3R5cGUuc2V0Um90YXRpb249ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFNyKG8sZSl9LE8ucHJvdG90eXBlLmdldE9yaWdpbj1mdW5jdGlvbigpe3JldHVybiBhKElyKHRoaXMuV2gpLHkpfSxPLnByb3RvdHlwZS5nZXRSb3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiBhKE9yKHRoaXMuV2gpLG0pfSxPLnByb3RvdHlwZS5nZXRCYXNpcz1mdW5jdGlvbigpe3JldHVybiBhKEJyKHRoaXMuV2gpLHJ0KX0sTy5wcm90b3R5cGUuc2V0RnJvbU9wZW5HTE1hdHJpeD1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2plKCksdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1qbChlKSksUHIobyxlKX0sTy5wcm90b3R5cGUuaW52ZXJzZT1PLnByb3RvdHlwZS5pbnZlcnNlPWZ1bmN0aW9uKCl7cmV0dXJuIGEoeHIodGhpcy5XaCksTyl9LE8ucHJvdG90eXBlLm9wX211bD1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGEoVHIobyxlKSxPKX0sTy5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtGcih0aGlzLldoKX07ZnVuY3Rpb24gRShlLG8pe2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSx0aGlzLldoPWU9PT12b2lkIDA/TXIoKTpvPT09dm9pZCAwP0FyKGUpOndyKGUsbyksQShFKVt0aGlzLldoXT10aGlzfUUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobnQucHJvdG90eXBlKSxFLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1FLEUucHJvdG90eXBlLlhoPUUsRS5ZaD17fSx0LmJ0RGVmYXVsdE1vdGlvblN0YXRlPUUsRS5wcm90b3R5cGUuZ2V0V29ybGRUcmFuc2Zvcm09ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGtyKG8sZSl9LEUucHJvdG90eXBlLnNldFdvcmxkVHJhbnNmb3JtPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxMcihvLGUpfSxFLnByb3RvdHlwZS5nZXRfbV9ncmFwaGljc1dvcmxkVHJhbnM9RS5wcm90b3R5cGUuemk9ZnVuY3Rpb24oKXtyZXR1cm4gYShIcih0aGlzLldoKSxPKX0sRS5wcm90b3R5cGUuc2V0X21fZ3JhcGhpY3NXb3JsZFRyYW5zPUUucHJvdG90eXBlLnRqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxZcihvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRS5wcm90b3R5cGUsIm1fZ3JhcGhpY3NXb3JsZFRyYW5zIix7Z2V0OkUucHJvdG90eXBlLnppLHNldDpFLnByb3RvdHlwZS50an0pLEUucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7VnIodGhpcy5XaCl9O2Z1bmN0aW9uIGJ0KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlciwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1idC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWJ0LGJ0LnByb3RvdHlwZS5YaD1idCxidC5ZaD17fSx0LmJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlcj1idCxidC5wcm90b3R5cGUuZ2V0V29ybGRUcmFuc2Zvcm09ZnVuY3Rpb24oKXtyZXR1cm4gYShRcih0aGlzLldoKSxPKX0sYnQucHJvdG90eXBlLmdldENvbGxpc2lvbk9iamVjdD1mdW5jdGlvbigpe3JldHVybiBhKEVyKHRoaXMuV2gpLEMpfSxidC5wcm90b3R5cGUuZ2V0Q29sbGlzaW9uU2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gYShYcih0aGlzLldoKSxIKX07ZnVuY3Rpb24gcHQoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRDb25zdENvbGxpc2lvbk9iamVjdEFycmF5LCBubyBjb25zdHJ1Y3RvciBpbiBJREwifXB0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxwdC5wcm90b3R5cGUuY29uc3RydWN0b3I9cHQscHQucHJvdG90eXBlLlhoPXB0LHB0LlloPXt9LHQuYnRDb25zdENvbGxpc2lvbk9iamVjdEFycmF5PXB0LHB0LnByb3RvdHlwZS5zaXplPXB0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFVyKHRoaXMuV2gpfSxwdC5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKEdyKG8sZSksQyl9LHB0LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe05yKHRoaXMuV2gpfTtmdW5jdGlvbiBsdCgpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidFNjYWxhckFycmF5LCBubyBjb25zdHJ1Y3RvciBpbiBJREwifWx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxsdC5wcm90b3R5cGUuY29uc3RydWN0b3I9bHQsbHQucHJvdG90eXBlLlhoPWx0LGx0LlloPXt9LHQuYnRTY2FsYXJBcnJheT1sdCxsdC5wcm90b3R5cGUuc2l6ZT1sdC5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiB6cih0aGlzLldoKX0sbHQucHJvdG90eXBlLmF0PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCkscXIobyxlKX0sbHQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7WnIodGhpcy5XaCl9O2Z1bmN0aW9uIGgoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRNYW5pZm9sZFBvaW50LCBubyBjb25zdHJ1Y3RvciBpbiBJREwifWgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLGgucHJvdG90eXBlLmNvbnN0cnVjdG9yPWgsaC5wcm90b3R5cGUuWGg9aCxoLlloPXt9LHQuYnRNYW5pZm9sZFBvaW50PWgsaC5wcm90b3R5cGUuZ2V0UG9zaXRpb25Xb3JsZE9uQT1mdW5jdGlvbigpe3JldHVybiBhKEtyKHRoaXMuV2gpLHkpfSxoLnByb3RvdHlwZS5nZXRQb3NpdGlvbldvcmxkT25CPWZ1bmN0aW9uKCl7cmV0dXJuIGEoJHIodGhpcy5XaCkseSl9LGgucHJvdG90eXBlLmdldEFwcGxpZWRJbXB1bHNlPWZ1bmN0aW9uKCl7cmV0dXJuIEpyKHRoaXMuV2gpfSxoLnByb3RvdHlwZS5nZXREaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB0Xyh0aGlzLldoKX0saC5wcm90b3R5cGUuZ2V0X21fbG9jYWxQb2ludEE9aC5wcm90b3R5cGUuSWk9ZnVuY3Rpb24oKXtyZXR1cm4gYShlXyh0aGlzLldoKSx5KX0saC5wcm90b3R5cGUuc2V0X21fbG9jYWxQb2ludEE9aC5wcm90b3R5cGUuQ2o9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG9fKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLnByb3RvdHlwZSwibV9sb2NhbFBvaW50QSIse2dldDpoLnByb3RvdHlwZS5JaSxzZXQ6aC5wcm90b3R5cGUuQ2p9KSxoLnByb3RvdHlwZS5nZXRfbV9sb2NhbFBvaW50Qj1oLnByb3RvdHlwZS5KaT1mdW5jdGlvbigpe3JldHVybiBhKG5fKHRoaXMuV2gpLHkpfSxoLnByb3RvdHlwZS5zZXRfbV9sb2NhbFBvaW50Qj1oLnByb3RvdHlwZS5Eaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCkscl8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCJtX2xvY2FsUG9pbnRCIix7Z2V0OmgucHJvdG90eXBlLkppLHNldDpoLnByb3RvdHlwZS5Ean0pLGgucHJvdG90eXBlLmdldF9tX3Bvc2l0aW9uV29ybGRPbkI9aC5wcm90b3R5cGUuUGk9ZnVuY3Rpb24oKXtyZXR1cm4gYShfXyh0aGlzLldoKSx5KX0saC5wcm90b3R5cGUuc2V0X21fcG9zaXRpb25Xb3JsZE9uQj1oLnByb3RvdHlwZS5Kaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksaV8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCJtX3Bvc2l0aW9uV29ybGRPbkIiLHtnZXQ6aC5wcm90b3R5cGUuUGksc2V0OmgucHJvdG90eXBlLkpqfSksaC5wcm90b3R5cGUuZ2V0X21fcG9zaXRpb25Xb3JsZE9uQT1oLnByb3RvdHlwZS5PaT1mdW5jdGlvbigpe3JldHVybiBhKGFfKHRoaXMuV2gpLHkpfSxoLnByb3RvdHlwZS5zZXRfbV9wb3NpdGlvbldvcmxkT25BPWgucHJvdG90eXBlLklqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxzXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaC5wcm90b3R5cGUsIm1fcG9zaXRpb25Xb3JsZE9uQSIse2dldDpoLnByb3RvdHlwZS5PaSxzZXQ6aC5wcm90b3R5cGUuSWp9KSxoLnByb3RvdHlwZS5nZXRfbV9ub3JtYWxXb3JsZE9uQj1oLnByb3RvdHlwZS5MaT1mdW5jdGlvbigpe3JldHVybiBhKHBfKHRoaXMuV2gpLHkpfSxoLnByb3RvdHlwZS5zZXRfbV9ub3JtYWxXb3JsZE9uQj1oLnByb3RvdHlwZS5Gaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbF8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCJtX25vcm1hbFdvcmxkT25CIix7Z2V0OmgucHJvdG90eXBlLkxpLHNldDpoLnByb3RvdHlwZS5Gan0pLGgucHJvdG90eXBlLmdldF9tX3VzZXJQZXJzaXN0ZW50RGF0YT1oLnByb3RvdHlwZS5iaj1mdW5jdGlvbigpe3JldHVybiB1Xyh0aGlzLldoKX0saC5wcm90b3R5cGUuc2V0X21fdXNlclBlcnNpc3RlbnREYXRhPWgucHJvdG90eXBlLldqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxjXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaC5wcm90b3R5cGUsIm1fdXNlclBlcnNpc3RlbnREYXRhIix7Z2V0OmgucHJvdG90eXBlLmJqLHNldDpoLnByb3RvdHlwZS5Xan0pLGgucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7eV8odGhpcy5XaCl9O2Z1bmN0aW9uIGd0KCl7dGhpcy5XaD1oXygpLEEoZ3QpW3RoaXMuV2hdPXRoaXN9Z3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZnQucHJvdG90eXBlKSxndC5wcm90b3R5cGUuY29uc3RydWN0b3I9Z3QsZ3QucHJvdG90eXBlLlhoPWd0LGd0LlloPXt9LHQuQ29uY3JldGVDb250YWN0UmVzdWx0Q2FsbGJhY2s9Z3QsZ3QucHJvdG90eXBlLmFkZFNpbmdsZVJlc3VsdD1mdW5jdGlvbihlLG8sbixyLGMsRCxOKXt2YXIgY3Q9dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmKG49bi5XaCksciYmdHlwZW9mIHI9PSJvYmplY3QiJiYocj1yLldoKSxjJiZ0eXBlb2YgYz09Im9iamVjdCImJihjPWMuV2gpLEQmJnR5cGVvZiBEPT0ib2JqZWN0IiYmKEQ9RC5XaCksTiYmdHlwZW9mIE49PSJvYmplY3QiJiYoTj1OLldoKSxmXyhjdCxlLG8sbixyLGMsRCxOKX0sZ3QucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7bV8odGhpcy5XaCl9O2Z1bmN0aW9uIFQoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgTG9jYWxTaGFwZUluZm8sIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9VC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksVC5wcm90b3R5cGUuY29uc3RydWN0b3I9VCxULnByb3RvdHlwZS5YaD1ULFQuWWg9e30sdC5Mb2NhbFNoYXBlSW5mbz1ULFQucHJvdG90eXBlLmdldF9tX3NoYXBlUGFydD1ULnByb3RvdHlwZS5TaT1mdW5jdGlvbigpe3JldHVybiBiXyh0aGlzLldoKX0sVC5wcm90b3R5cGUuc2V0X21fc2hhcGVQYXJ0PVQucHJvdG90eXBlLk1qPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxnXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVC5wcm90b3R5cGUsIm1fc2hhcGVQYXJ0Iix7Z2V0OlQucHJvdG90eXBlLlNpLHNldDpULnByb3RvdHlwZS5Nan0pLFQucHJvdG90eXBlLmdldF9tX3RyaWFuZ2xlSW5kZXg9VC5wcm90b3R5cGUuWWk9ZnVuY3Rpb24oKXtyZXR1cm4gZF8odGhpcy5XaCl9LFQucHJvdG90eXBlLnNldF9tX3RyaWFuZ2xlSW5kZXg9VC5wcm90b3R5cGUuU2o9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFdfKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShULnByb3RvdHlwZSwibV90cmlhbmdsZUluZGV4Iix7Z2V0OlQucHJvdG90eXBlLllpLHNldDpULnByb3RvdHlwZS5Tan0pLFQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7Q18odGhpcy5XaCl9O2Z1bmN0aW9uIFcoZSxvLG4scixjKXtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksbiYmdHlwZW9mIG49PSJvYmplY3QiJiYobj1uLldoKSxyJiZ0eXBlb2Ygcj09Im9iamVjdCImJihyPXIuV2gpLGMmJnR5cGVvZiBjPT0ib2JqZWN0IiYmKGM9Yy5XaCksdGhpcy5XaD1qXyhlLG8sbixyLGMpLEEoVylbdGhpcy5XaF09dGhpc31XLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxXLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1XLFcucHJvdG90eXBlLlhoPVcsVy5ZaD17fSx0LkxvY2FsQ29udmV4UmVzdWx0PVcsVy5wcm90b3R5cGUuZ2V0X21faGl0Q29sbGlzaW9uT2JqZWN0PVcucHJvdG90eXBlLmVpPWZ1bmN0aW9uKCl7cmV0dXJuIGEodl8odGhpcy5XaCksQyl9LFcucHJvdG90eXBlLnNldF9tX2hpdENvbGxpc2lvbk9iamVjdD1XLnByb3RvdHlwZS5naT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksRF8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFcucHJvdG90eXBlLCJtX2hpdENvbGxpc2lvbk9iamVjdCIse2dldDpXLnByb3RvdHlwZS5laSxzZXQ6Vy5wcm90b3R5cGUuZ2l9KSxXLnByb3RvdHlwZS5nZXRfbV9sb2NhbFNoYXBlSW5mbz1XLnByb3RvdHlwZS5LaT1mdW5jdGlvbigpe3JldHVybiBhKFJfKHRoaXMuV2gpLFQpfSxXLnByb3RvdHlwZS5zZXRfbV9sb2NhbFNoYXBlSW5mbz1XLnByb3RvdHlwZS5Faj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksU18obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFcucHJvdG90eXBlLCJtX2xvY2FsU2hhcGVJbmZvIix7Z2V0OlcucHJvdG90eXBlLktpLHNldDpXLnByb3RvdHlwZS5Fan0pLFcucHJvdG90eXBlLmdldF9tX2hpdE5vcm1hbExvY2FsPVcucHJvdG90eXBlLkJpPWZ1bmN0aW9uKCl7cmV0dXJuIGEoSV8odGhpcy5XaCkseSl9LFcucHJvdG90eXBlLnNldF9tX2hpdE5vcm1hbExvY2FsPVcucHJvdG90eXBlLnZqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxPXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVy5wcm90b3R5cGUsIm1faGl0Tm9ybWFsTG9jYWwiLHtnZXQ6Vy5wcm90b3R5cGUuQmksc2V0OlcucHJvdG90eXBlLnZqfSksVy5wcm90b3R5cGUuZ2V0X21faGl0UG9pbnRMb2NhbD1XLnByb3RvdHlwZS5EaT1mdW5jdGlvbigpe3JldHVybiBhKEJfKHRoaXMuV2gpLHkpfSxXLnByb3RvdHlwZS5zZXRfbV9oaXRQb2ludExvY2FsPVcucHJvdG90eXBlLnhqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxQXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVy5wcm90b3R5cGUsIm1faGl0UG9pbnRMb2NhbCIse2dldDpXLnByb3RvdHlwZS5EaSxzZXQ6Vy5wcm90b3R5cGUueGp9KSxXLnByb3RvdHlwZS5nZXRfbV9oaXRGcmFjdGlvbj1XLnByb3RvdHlwZS5BaT1mdW5jdGlvbigpe3JldHVybiB4Xyh0aGlzLldoKX0sVy5wcm90b3R5cGUuc2V0X21faGl0RnJhY3Rpb249Vy5wcm90b3R5cGUudWo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFRfKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXLnByb3RvdHlwZSwibV9oaXRGcmFjdGlvbiIse2dldDpXLnByb3RvdHlwZS5BaSxzZXQ6Vy5wcm90b3R5cGUudWp9KSxXLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe0ZfKHRoaXMuV2gpfTtmdW5jdGlvbiB1KGUsbyl7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLHRoaXMuV2g9TV8oZSxvKSxBKHUpW3RoaXMuV2hdPXRoaXN9dS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShSLnByb3RvdHlwZSksdS5wcm90b3R5cGUuY29uc3RydWN0b3I9dSx1LnByb3RvdHlwZS5YaD11LHUuWWg9e30sdC5DbG9zZXN0Q29udmV4UmVzdWx0Q2FsbGJhY2s9dSx1LnByb3RvdHlwZS5oYXNIaXQ9ZnVuY3Rpb24oKXtyZXR1cm4hIUFfKHRoaXMuV2gpfSx1LnByb3RvdHlwZS5nZXRfbV9oaXRDb2xsaXNpb25PYmplY3Q9dS5wcm90b3R5cGUuZWk9ZnVuY3Rpb24oKXtyZXR1cm4gYSh3Xyh0aGlzLldoKSxDKX0sdS5wcm90b3R5cGUuc2V0X21faGl0Q29sbGlzaW9uT2JqZWN0PXUucHJvdG90eXBlLmdpPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxrXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsIm1faGl0Q29sbGlzaW9uT2JqZWN0Iix7Z2V0OnUucHJvdG90eXBlLmVpLHNldDp1LnByb3RvdHlwZS5naX0pLHUucHJvdG90eXBlLmdldF9tX2NvbnZleEZyb21Xb3JsZD11LnByb3RvdHlwZS5zaT1mdW5jdGlvbigpe3JldHVybiBhKExfKHRoaXMuV2gpLHkpfSx1LnByb3RvdHlwZS5zZXRfbV9jb252ZXhGcm9tV29ybGQ9dS5wcm90b3R5cGUubWo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEhfKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSwibV9jb252ZXhGcm9tV29ybGQiLHtnZXQ6dS5wcm90b3R5cGUuc2ksc2V0OnUucHJvdG90eXBlLm1qfSksdS5wcm90b3R5cGUuZ2V0X21fY29udmV4VG9Xb3JsZD11LnByb3RvdHlwZS50aT1mdW5jdGlvbigpe3JldHVybiBhKFlfKHRoaXMuV2gpLHkpfSx1LnByb3RvdHlwZS5zZXRfbV9jb252ZXhUb1dvcmxkPXUucHJvdG90eXBlLm5qPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxWXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsIm1fY29udmV4VG9Xb3JsZCIse2dldDp1LnByb3RvdHlwZS50aSxzZXQ6dS5wcm90b3R5cGUubmp9KSx1LnByb3RvdHlwZS5nZXRfbV9oaXROb3JtYWxXb3JsZD11LnByb3RvdHlwZS5DaT1mdW5jdGlvbigpe3JldHVybiBhKFFfKHRoaXMuV2gpLHkpfSx1LnByb3RvdHlwZS5zZXRfbV9oaXROb3JtYWxXb3JsZD11LnByb3RvdHlwZS53aj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksRV8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLCJtX2hpdE5vcm1hbFdvcmxkIix7Z2V0OnUucHJvdG90eXBlLkNpLHNldDp1LnByb3RvdHlwZS53an0pLHUucHJvdG90eXBlLmdldF9tX2hpdFBvaW50V29ybGQ9dS5wcm90b3R5cGUuRWk9ZnVuY3Rpb24oKXtyZXR1cm4gYShYXyh0aGlzLldoKSx5KX0sdS5wcm90b3R5cGUuc2V0X21faGl0UG9pbnRXb3JsZD11LnByb3RvdHlwZS55aj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksVV8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLCJtX2hpdFBvaW50V29ybGQiLHtnZXQ6dS5wcm90b3R5cGUuRWksc2V0OnUucHJvdG90eXBlLnlqfSksdS5wcm90b3R5cGUuZ2V0X21fY29sbGlzaW9uRmlsdGVyR3JvdXA9dS5wcm90b3R5cGUuWmg9ZnVuY3Rpb24oKXtyZXR1cm4gR18odGhpcy5XaCl9LHUucHJvdG90eXBlLnNldF9tX2NvbGxpc2lvbkZpbHRlckdyb3VwPXUucHJvdG90eXBlLmFpPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxOXyhvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsIm1fY29sbGlzaW9uRmlsdGVyR3JvdXAiLHtnZXQ6dS5wcm90b3R5cGUuWmgsc2V0OnUucHJvdG90eXBlLmFpfSksdS5wcm90b3R5cGUuZ2V0X21fY29sbGlzaW9uRmlsdGVyTWFzaz11LnByb3RvdHlwZS4kaD1mdW5jdGlvbigpe3JldHVybiB6Xyh0aGlzLldoKX0sdS5wcm90b3R5cGUuc2V0X21fY29sbGlzaW9uRmlsdGVyTWFzaz11LnByb3RvdHlwZS5iaT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCkscV8obyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLCJtX2NvbGxpc2lvbkZpbHRlck1hc2siLHtnZXQ6dS5wcm90b3R5cGUuJGgsc2V0OnUucHJvdG90eXBlLmJpfSksdS5wcm90b3R5cGUuZ2V0X21fY2xvc2VzdEhpdEZyYWN0aW9uPXUucHJvdG90eXBlLmRpPWZ1bmN0aW9uKCl7cmV0dXJuIFpfKHRoaXMuV2gpfSx1LnByb3RvdHlwZS5zZXRfbV9jbG9zZXN0SGl0RnJhY3Rpb249dS5wcm90b3R5cGUuZmk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEtfKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSwibV9jbG9zZXN0SGl0RnJhY3Rpb24iLHtnZXQ6dS5wcm90b3R5cGUuZGksc2V0OnUucHJvdG90eXBlLmZpfSksdS5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXskXyh0aGlzLldoKX07ZnVuY3Rpb24gb3QoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRDb252ZXhTaGFwZSwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1vdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShILnByb3RvdHlwZSksb3QucHJvdG90eXBlLmNvbnN0cnVjdG9yPW90LG90LnByb3RvdHlwZS5YaD1vdCxvdC5ZaD17fSx0LmJ0Q29udmV4U2hhcGU9b3Qsb3QucHJvdG90eXBlLnNldExvY2FsU2NhbGluZz1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksSl8obyxlKX0sb3QucHJvdG90eXBlLmdldExvY2FsU2NhbGluZz1mdW5jdGlvbigpe3JldHVybiBhKHRpKHRoaXMuV2gpLHkpfSxvdC5wcm90b3R5cGUuY2FsY3VsYXRlTG9jYWxJbmVydGlhPWZ1bmN0aW9uKGUsbyl7dmFyIG49dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksZWkobixlLG8pfSxvdC5wcm90b3R5cGUuc2V0TWFyZ2luPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvaShvLGUpfSxvdC5wcm90b3R5cGUuZ2V0TWFyZ2luPWZ1bmN0aW9uKCl7cmV0dXJuIG5pKHRoaXMuV2gpfSxvdC5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtyaSh0aGlzLldoKX07ZnVuY3Rpb24gJChlKXtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHRoaXMuV2g9X2koZSksQSgkKVt0aGlzLldoXT10aGlzfSQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoSC5wcm90b3R5cGUpLCQucHJvdG90eXBlLmNvbnN0cnVjdG9yPSQsJC5wcm90b3R5cGUuWGg9JCwkLlloPXt9LHQuYnRCb3hTaGFwZT0kLCQucHJvdG90eXBlLnNldE1hcmdpbj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksaWkobyxlKX0sJC5wcm90b3R5cGUuZ2V0TWFyZ2luPWZ1bmN0aW9uKCl7cmV0dXJuIGFpKHRoaXMuV2gpfSwkLnByb3RvdHlwZS5zZXRMb2NhbFNjYWxpbmc9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHNpKG8sZSl9LCQucHJvdG90eXBlLmdldExvY2FsU2NhbGluZz1mdW5jdGlvbigpe3JldHVybiBhKHBpKHRoaXMuV2gpLHkpfSwkLnByb3RvdHlwZS5jYWxjdWxhdGVMb2NhbEluZXJ0aWE9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxsaShuLGUsbyl9LCQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7dWkodGhpcy5XaCl9O2Z1bmN0aW9uIF90KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0SW50QXJyYXksIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9X3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLF90LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1fdCxfdC5wcm90b3R5cGUuWGg9X3QsX3QuWWg9e30sdC5idEludEFycmF5PV90LF90LnByb3RvdHlwZS5zaXplPV90LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIGNpKHRoaXMuV2gpfSxfdC5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx5aShvLGUpfSxfdC5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtoaSh0aGlzLldoKX07ZnVuY3Rpb24gRigpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidEZhY2UsIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9Ri5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksRi5wcm90b3R5cGUuY29uc3RydWN0b3I9RixGLnByb3RvdHlwZS5YaD1GLEYuWWg9e30sdC5idEZhY2U9RixGLnByb3RvdHlwZS5nZXRfbV9pbmRpY2VzPUYucHJvdG90eXBlLkZpPWZ1bmN0aW9uKCl7cmV0dXJuIGEoZmkodGhpcy5XaCksX3QpfSxGLnByb3RvdHlwZS5zZXRfbV9pbmRpY2VzPUYucHJvdG90eXBlLnpqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxtaShvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRi5wcm90b3R5cGUsIm1faW5kaWNlcyIse2dldDpGLnByb3RvdHlwZS5GaSxzZXQ6Ri5wcm90b3R5cGUuemp9KSxGLnByb3RvdHlwZS5nZXRfbV9wbGFuZT1GLnByb3RvdHlwZS5OaT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGJpKG8sZSl9LEYucHJvdG90eXBlLnNldF9tX3BsYW5lPUYucHJvdG90eXBlLkhqPWZ1bmN0aW9uKGUsbyl7dmFyIG49dGhpcy5XaDtqZSgpLGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxnaShuLGUsbyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGLnByb3RvdHlwZSwibV9wbGFuZSIse2dldDpGLnByb3RvdHlwZS5OaSxzZXQ6Ri5wcm90b3R5cGUuSGp9KSxGLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe2RpKHRoaXMuV2gpfTtmdW5jdGlvbiBpdCgpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidFZlY3RvcjNBcnJheSwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1pdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksaXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWl0LGl0LnByb3RvdHlwZS5YaD1pdCxpdC5ZaD17fSx0LmJ0VmVjdG9yM0FycmF5PWl0LGl0LnByb3RvdHlwZS5zaXplPWl0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIFdpKHRoaXMuV2gpfSxpdC5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKENpKG8sZSkseSl9LGl0LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe2ppKHRoaXMuV2gpfTtmdW5jdGlvbiBhdCgpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidEZhY2VBcnJheSwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1hdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWF0LGF0LnByb3RvdHlwZS5YaD1hdCxhdC5ZaD17fSx0LmJ0RmFjZUFycmF5PWF0LGF0LnByb3RvdHlwZS5zaXplPWF0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHZpKHRoaXMuV2gpfSxhdC5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKERpKG8sZSksRil9LGF0LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe1JpKHRoaXMuV2gpfTtmdW5jdGlvbiBNKCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0Q29udmV4UG9seWhlZHJvbiwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1NLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxNLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1NLE0ucHJvdG90eXBlLlhoPU0sTS5ZaD17fSx0LmJ0Q29udmV4UG9seWhlZHJvbj1NLE0ucHJvdG90eXBlLmdldF9tX3ZlcnRpY2VzPU0ucHJvdG90eXBlLmNqPWZ1bmN0aW9uKCl7cmV0dXJuIGEoU2kodGhpcy5XaCksaXQpfSxNLnByb3RvdHlwZS5zZXRfbV92ZXJ0aWNlcz1NLnByb3RvdHlwZS5Yaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksSWkobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KE0ucHJvdG90eXBlLCJtX3ZlcnRpY2VzIix7Z2V0Ok0ucHJvdG90eXBlLmNqLHNldDpNLnByb3RvdHlwZS5Yan0pLE0ucHJvdG90eXBlLmdldF9tX2ZhY2VzPU0ucHJvdG90eXBlLnhpPWZ1bmN0aW9uKCl7cmV0dXJuIGEoT2kodGhpcy5XaCksYXQpfSxNLnByb3RvdHlwZS5zZXRfbV9mYWNlcz1NLnByb3RvdHlwZS5yaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksQmkobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KE0ucHJvdG90eXBlLCJtX2ZhY2VzIix7Z2V0Ok0ucHJvdG90eXBlLnhpLHNldDpNLnByb3RvdHlwZS5yan0pLE0ucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7UGkodGhpcy5XaCl9O2Z1bmN0aW9uIFkoZSxvKXtqZSgpLHR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9amwoZSkpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksdGhpcy5XaD1lPT09dm9pZCAwP3hpKCk6bz09PXZvaWQgMD9UaShlKTpGaShlLG8pLEEoWSlbdGhpcy5XaF09dGhpc31ZLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEgucHJvdG90eXBlKSxZLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1ZLFkucHJvdG90eXBlLlhoPVksWS5ZaD17fSx0LmJ0Q29udmV4SHVsbFNoYXBlPVksWS5wcm90b3R5cGUuYWRkUG9pbnQ9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxvPT09dm9pZCAwP01pKG4sZSk6QWkobixlLG8pfSxZLnByb3RvdHlwZS5zZXRNYXJnaW49ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHdpKG8sZSl9LFkucHJvdG90eXBlLmdldE1hcmdpbj1mdW5jdGlvbigpe3JldHVybiBraSh0aGlzLldoKX0sWS5wcm90b3R5cGUuZ2V0TnVtVmVydGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gTGkodGhpcy5XaCl9LFkucHJvdG90eXBlLmluaXRpYWxpemVQb2x5aGVkcmFsRmVhdHVyZXM9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSwhIUhpKG8sZSl9LFkucHJvdG90eXBlLnJlY2FsY0xvY2FsQWFiYj1mdW5jdGlvbigpe1lpKHRoaXMuV2gpfSxZLnByb3RvdHlwZS5nZXRDb252ZXhQb2x5aGVkcm9uPWZ1bmN0aW9uKCl7cmV0dXJuIGEoVmkodGhpcy5XaCksTSl9LFkucHJvdG90eXBlLnNldExvY2FsU2NhbGluZz1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksUWkobyxlKX0sWS5wcm90b3R5cGUuZ2V0TG9jYWxTY2FsaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGEoRWkodGhpcy5XaCkseSl9LFkucHJvdG90eXBlLmNhbGN1bGF0ZUxvY2FsSW5lcnRpYT1mdW5jdGlvbihlLG8pe3ZhciBuPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLFhpKG4sZSxvKX0sWS5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtVaSh0aGlzLldoKX07ZnVuY3Rpb24gdnQoKXt0aGlzLldoPUdpKCksQSh2dClbdGhpcy5XaF09dGhpc312dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksdnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXZ0LHZ0LnByb3RvdHlwZS5YaD12dCx2dC5ZaD17fSx0LmJ0RGVmYXVsdENvbGxpc2lvbkNvbnN0cnVjdGlvbkluZm89dnQsdnQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7TmkodGhpcy5XaCl9O2Z1bmN0aW9uIER0KGUpe2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksdGhpcy5XaD1lPT09dm9pZCAwP3ppKCk6cWkoZSksQShEdClbdGhpcy5XaF09dGhpc31EdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksRHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPUR0LER0LnByb3RvdHlwZS5YaD1EdCxEdC5ZaD17fSx0LmJ0RGVmYXVsdENvbGxpc2lvbkNvbmZpZ3VyYXRpb249RHQsRHQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7WmkodGhpcy5XaCl9O2Z1bmN0aW9uIHEoKXt0aGlzLldoPUtpKCksQShxKVt0aGlzLldoXT10aGlzfXEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLHEucHJvdG90eXBlLmNvbnN0cnVjdG9yPXEscS5wcm90b3R5cGUuWGg9cSxxLlloPXt9LHQuYnRQZXJzaXN0ZW50TWFuaWZvbGQ9cSxxLnByb3RvdHlwZS5nZXRCb2R5MD1mdW5jdGlvbigpe3JldHVybiBhKCRpKHRoaXMuV2gpLEMpfSxxLnByb3RvdHlwZS5nZXRCb2R5MT1mdW5jdGlvbigpe3JldHVybiBhKEppKHRoaXMuV2gpLEMpfSxxLnByb3RvdHlwZS5nZXROdW1Db250YWN0cz1mdW5jdGlvbigpe3JldHVybiB0YSh0aGlzLldoKX0scS5wcm90b3R5cGUuZ2V0Q29udGFjdFBvaW50PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksYShlYShvLGUpLGgpfSxxLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe29hKHRoaXMuV2gpfTtmdW5jdGlvbiB1dChlKXtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHRoaXMuV2g9bmEoZSksQSh1dClbdGhpcy5XaF09dGhpc311dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShLLnByb3RvdHlwZSksdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXV0LHV0LnByb3RvdHlwZS5YaD11dCx1dC5ZaD17fSx0LmJ0Q29sbGlzaW9uRGlzcGF0Y2hlcj11dCx1dC5wcm90b3R5cGUuZ2V0TnVtTWFuaWZvbGRzPWZ1bmN0aW9uKCl7cmV0dXJuIHJhKHRoaXMuV2gpfSx1dC5wcm90b3R5cGUuZ2V0TWFuaWZvbGRCeUluZGV4SW50ZXJuYWw9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtyZXR1cm4gZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhKF9hKG8sZSkscSl9LHV0LnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe2lhKHRoaXMuV2gpfTtmdW5jdGlvbiBGdCgpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidE92ZXJsYXBwaW5nUGFpckNhbGxiYWNrLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifUZ0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxGdC5wcm90b3R5cGUuY29uc3RydWN0b3I9RnQsRnQucHJvdG90eXBlLlhoPUZ0LEZ0LlloPXt9LHQuYnRPdmVybGFwcGluZ1BhaXJDYWxsYmFjaz1GdCxGdC5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXthYSh0aGlzLldoKX07ZnVuY3Rpb24gSigpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidE92ZXJsYXBwaW5nUGFpckNhY2hlLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifUoucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLEoucHJvdG90eXBlLmNvbnN0cnVjdG9yPUosSi5wcm90b3R5cGUuWGg9SixKLlloPXt9LHQuYnRPdmVybGFwcGluZ1BhaXJDYWNoZT1KLEoucHJvdG90eXBlLnNldEludGVybmFsR2hvc3RQYWlyQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHNhKG8sZSl9LEoucHJvdG90eXBlLmdldE51bU92ZXJsYXBwaW5nUGFpcnM9ZnVuY3Rpb24oKXtyZXR1cm4gcGEodGhpcy5XaCl9LEoucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7bGEodGhpcy5XaCl9O2Z1bmN0aW9uIHN0KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0QnJvYWRwaGFzZUludGVyZmFjZSwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1zdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksc3QucHJvdG90eXBlLmNvbnN0cnVjdG9yPXN0LHN0LnByb3RvdHlwZS5YaD1zdCxzdC5ZaD17fSx0LmJ0QnJvYWRwaGFzZUludGVyZmFjZT1zdCxzdC5wcm90b3R5cGUuZ2V0T3ZlcmxhcHBpbmdQYWlyQ2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gYSh1YSh0aGlzLldoKSxKKX0sc3QucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7Y2EodGhpcy5XaCl9O2Z1bmN0aW9uIE10KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0Q29sbGlzaW9uQ29uZmlndXJhdGlvbiwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1NdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksTXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPU10LE10LnByb3RvdHlwZS5YaD1NdCxNdC5ZaD17fSx0LmJ0Q29sbGlzaW9uQ29uZmlndXJhdGlvbj1NdCxNdC5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXt5YSh0aGlzLldoKX07ZnVuY3Rpb24gUnQoKXt0aGlzLldoPWhhKCksQShSdClbdGhpcy5XaF09dGhpc31SdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksUnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPVJ0LFJ0LnByb3RvdHlwZS5YaD1SdCxSdC5ZaD17fSx0LmJ0RGJ2dEJyb2FkcGhhc2U9UnQsUnQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7ZmEodGhpcy5XaCl9O2Z1bmN0aW9uIEIoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRCcm9hZHBoYXNlUHJveHksIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9Qi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksQi5wcm90b3R5cGUuY29uc3RydWN0b3I9QixCLnByb3RvdHlwZS5YaD1CLEIuWWg9e30sdC5idEJyb2FkcGhhc2VQcm94eT1CLEIucHJvdG90eXBlLmdldF9tX2NvbGxpc2lvbkZpbHRlckdyb3VwPUIucHJvdG90eXBlLlpoPWZ1bmN0aW9uKCl7cmV0dXJuIG1hKHRoaXMuV2gpfSxCLnByb3RvdHlwZS5zZXRfbV9jb2xsaXNpb25GaWx0ZXJHcm91cD1CLnByb3RvdHlwZS5haT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksYmEobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEIucHJvdG90eXBlLCJtX2NvbGxpc2lvbkZpbHRlckdyb3VwIix7Z2V0OkIucHJvdG90eXBlLlpoLHNldDpCLnByb3RvdHlwZS5haX0pLEIucHJvdG90eXBlLmdldF9tX2NvbGxpc2lvbkZpbHRlck1hc2s9Qi5wcm90b3R5cGUuJGg9ZnVuY3Rpb24oKXtyZXR1cm4gZ2EodGhpcy5XaCl9LEIucHJvdG90eXBlLnNldF9tX2NvbGxpc2lvbkZpbHRlck1hc2s9Qi5wcm90b3R5cGUuYmk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGRhKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCLnByb3RvdHlwZSwibV9jb2xsaXNpb25GaWx0ZXJNYXNrIix7Z2V0OkIucHJvdG90eXBlLiRoLHNldDpCLnByb3RvdHlwZS5iaX0pLEIucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7V2EodGhpcy5XaCl9O2Z1bmN0aW9uIGkoZSxvLG4scil7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmKG49bi5XaCksciYmdHlwZW9mIHI9PSJvYmplY3QiJiYocj1yLldoKSx0aGlzLldoPXI9PT12b2lkIDA/Q2EoZSxvLG4pOmphKGUsbyxuLHIpLEEoaSlbdGhpcy5XaF09dGhpc31pLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLlhoPWksaS5ZaD17fSx0LmJ0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mbz1pLGkucHJvdG90eXBlLmdldF9tX2xpbmVhckRhbXBpbmc9aS5wcm90b3R5cGUuR2k9ZnVuY3Rpb24oKXtyZXR1cm4gdmEodGhpcy5XaCl9LGkucHJvdG90eXBlLnNldF9tX2xpbmVhckRhbXBpbmc9aS5wcm90b3R5cGUuQWo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLERhKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibV9saW5lYXJEYW1waW5nIix7Z2V0OmkucHJvdG90eXBlLkdpLHNldDppLnByb3RvdHlwZS5Ban0pLGkucHJvdG90eXBlLmdldF9tX2FuZ3VsYXJEYW1waW5nPWkucHJvdG90eXBlLm9pPWZ1bmN0aW9uKCl7cmV0dXJuIFJhKHRoaXMuV2gpfSxpLnByb3RvdHlwZS5zZXRfbV9hbmd1bGFyRGFtcGluZz1pLnByb3RvdHlwZS5qaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksU2EobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtX2FuZ3VsYXJEYW1waW5nIix7Z2V0OmkucHJvdG90eXBlLm9pLHNldDppLnByb3RvdHlwZS5qan0pLGkucHJvdG90eXBlLmdldF9tX2ZyaWN0aW9uPWkucHJvdG90eXBlLnlpPWZ1bmN0aW9uKCl7cmV0dXJuIElhKHRoaXMuV2gpfSxpLnByb3RvdHlwZS5zZXRfbV9mcmljdGlvbj1pLnByb3RvdHlwZS5zaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksT2EobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtX2ZyaWN0aW9uIix7Z2V0OmkucHJvdG90eXBlLnlpLHNldDppLnByb3RvdHlwZS5zan0pLGkucHJvdG90eXBlLmdldF9tX3JvbGxpbmdGcmljdGlvbj1pLnByb3RvdHlwZS5SaT1mdW5jdGlvbigpe3JldHVybiBCYSh0aGlzLldoKX0saS5wcm90b3R5cGUuc2V0X21fcm9sbGluZ0ZyaWN0aW9uPWkucHJvdG90eXBlLkxqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxQYShvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1fcm9sbGluZ0ZyaWN0aW9uIix7Z2V0OmkucHJvdG90eXBlLlJpLHNldDppLnByb3RvdHlwZS5Man0pLGkucHJvdG90eXBlLmdldF9tX3Jlc3RpdHV0aW9uPWkucHJvdG90eXBlLlFpPWZ1bmN0aW9uKCl7cmV0dXJuIHhhKHRoaXMuV2gpfSxpLnByb3RvdHlwZS5zZXRfbV9yZXN0aXR1dGlvbj1pLnByb3RvdHlwZS5Laj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksVGEobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtX3Jlc3RpdHV0aW9uIix7Z2V0OmkucHJvdG90eXBlLlFpLHNldDppLnByb3RvdHlwZS5Lan0pLGkucHJvdG90eXBlLmdldF9tX2xpbmVhclNsZWVwaW5nVGhyZXNob2xkPWkucHJvdG90eXBlLkhpPWZ1bmN0aW9uKCl7cmV0dXJuIEZhKHRoaXMuV2gpfSxpLnByb3RvdHlwZS5zZXRfbV9saW5lYXJTbGVlcGluZ1RocmVzaG9sZD1pLnByb3RvdHlwZS5Caj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksTWEobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtX2xpbmVhclNsZWVwaW5nVGhyZXNob2xkIix7Z2V0OmkucHJvdG90eXBlLkhpLHNldDppLnByb3RvdHlwZS5Can0pLGkucHJvdG90eXBlLmdldF9tX2FuZ3VsYXJTbGVlcGluZ1RocmVzaG9sZD1pLnByb3RvdHlwZS5waT1mdW5jdGlvbigpe3JldHVybiBBYSh0aGlzLldoKX0saS5wcm90b3R5cGUuc2V0X21fYW5ndWxhclNsZWVwaW5nVGhyZXNob2xkPWkucHJvdG90eXBlLmtqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx3YShvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1fYW5ndWxhclNsZWVwaW5nVGhyZXNob2xkIix7Z2V0OmkucHJvdG90eXBlLnBpLHNldDppLnByb3RvdHlwZS5ran0pLGkucHJvdG90eXBlLmdldF9tX2FkZGl0aW9uYWxEYW1waW5nPWkucHJvdG90eXBlLmtpPWZ1bmN0aW9uKCl7cmV0dXJuISFrYSh0aGlzLldoKX0saS5wcm90b3R5cGUuc2V0X21fYWRkaXRpb25hbERhbXBpbmc9aS5wcm90b3R5cGUuZmo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLExhKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibV9hZGRpdGlvbmFsRGFtcGluZyIse2dldDppLnByb3RvdHlwZS5raSxzZXQ6aS5wcm90b3R5cGUuZmp9KSxpLnByb3RvdHlwZS5nZXRfbV9hZGRpdGlvbmFsRGFtcGluZ0ZhY3Rvcj1pLnByb3RvdHlwZS5saT1mdW5jdGlvbigpe3JldHVybiBIYSh0aGlzLldoKX0saS5wcm90b3R5cGUuc2V0X21fYWRkaXRpb25hbERhbXBpbmdGYWN0b3I9aS5wcm90b3R5cGUuZ2o9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFlhKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibV9hZGRpdGlvbmFsRGFtcGluZ0ZhY3RvciIse2dldDppLnByb3RvdHlwZS5saSxzZXQ6aS5wcm90b3R5cGUuZ2p9KSxpLnByb3RvdHlwZS5nZXRfbV9hZGRpdGlvbmFsTGluZWFyRGFtcGluZ1RocmVzaG9sZFNxcj1pLnByb3RvdHlwZS5taT1mdW5jdGlvbigpe3JldHVybiBWYSh0aGlzLldoKX0saS5wcm90b3R5cGUuc2V0X21fYWRkaXRpb25hbExpbmVhckRhbXBpbmdUaHJlc2hvbGRTcXI9aS5wcm90b3R5cGUuaGo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFFhKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibV9hZGRpdGlvbmFsTGluZWFyRGFtcGluZ1RocmVzaG9sZFNxciIse2dldDppLnByb3RvdHlwZS5taSxzZXQ6aS5wcm90b3R5cGUuaGp9KSxpLnByb3RvdHlwZS5nZXRfbV9hZGRpdGlvbmFsQW5ndWxhckRhbXBpbmdUaHJlc2hvbGRTcXI9aS5wcm90b3R5cGUuamk9ZnVuY3Rpb24oKXtyZXR1cm4gRWEodGhpcy5XaCl9LGkucHJvdG90eXBlLnNldF9tX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ1RocmVzaG9sZFNxcj1pLnByb3RvdHlwZS5laj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksWGEobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ1RocmVzaG9sZFNxciIse2dldDppLnByb3RvdHlwZS5qaSxzZXQ6aS5wcm90b3R5cGUuZWp9KSxpLnByb3RvdHlwZS5nZXRfbV9hZGRpdGlvbmFsQW5ndWxhckRhbXBpbmdGYWN0b3I9aS5wcm90b3R5cGUuaWk9ZnVuY3Rpb24oKXtyZXR1cm4gVWEodGhpcy5XaCl9LGkucHJvdG90eXBlLnNldF9tX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ0ZhY3Rvcj1pLnByb3RvdHlwZS5kaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksR2EobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtX2FkZGl0aW9uYWxBbmd1bGFyRGFtcGluZ0ZhY3RvciIse2dldDppLnByb3RvdHlwZS5paSxzZXQ6aS5wcm90b3R5cGUuZGp9KSxpLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe05hKHRoaXMuV2gpfTtmdW5jdGlvbiBsKGUpe2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksdGhpcy5XaD16YShlKSxBKGwpW3RoaXMuV2hdPXRoaXN9bC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShDLnByb3RvdHlwZSksbC5wcm90b3R5cGUuY29uc3RydWN0b3I9bCxsLnByb3RvdHlwZS5YaD1sLGwuWWg9e30sdC5idFJpZ2lkQm9keT1sLGwucHJvdG90eXBlLmdldENlbnRlck9mTWFzc1RyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiBhKHFhKHRoaXMuV2gpLE8pfSxsLnByb3RvdHlwZS5zZXRDZW50ZXJPZk1hc3NUcmFuc2Zvcm09ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFphKG8sZSl9LGwucHJvdG90eXBlLnNldFNsZWVwaW5nVGhyZXNob2xkcz1mdW5jdGlvbihlLG8pe3ZhciBuPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLEthKG4sZSxvKX0sbC5wcm90b3R5cGUuZ2V0TGluZWFyRGFtcGluZz1mdW5jdGlvbigpe3JldHVybiAkYSh0aGlzLldoKX0sbC5wcm90b3R5cGUuZ2V0QW5ndWxhckRhbXBpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gSmEodGhpcy5XaCl9LGwucHJvdG90eXBlLnNldERhbXBpbmc9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSx0cyhuLGUsbyl9LGwucHJvdG90eXBlLnNldE1hc3NQcm9wcz1mdW5jdGlvbihlLG8pe3ZhciBuPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLGVzKG4sZSxvKX0sbC5wcm90b3R5cGUuZ2V0TGluZWFyRmFjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIGEob3ModGhpcy5XaCkseSl9LGwucHJvdG90eXBlLnNldExpbmVhckZhY3Rvcj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbnMobyxlKX0sbC5wcm90b3R5cGUuYXBwbHlUb3JxdWU9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHJzKG8sZSl9LGwucHJvdG90eXBlLmFwcGx5TG9jYWxUb3JxdWU9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLF9zKG8sZSl9LGwucHJvdG90eXBlLmFwcGx5Rm9yY2U9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxpcyhuLGUsbyl9LGwucHJvdG90eXBlLmFwcGx5Q2VudHJhbEZvcmNlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxhcyhvLGUpfSxsLnByb3RvdHlwZS5hcHBseUNlbnRyYWxMb2NhbEZvcmNlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxzcyhvLGUpfSxsLnByb3RvdHlwZS5hcHBseVRvcnF1ZUltcHVsc2U9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHBzKG8sZSl9LGwucHJvdG90eXBlLmFwcGx5SW1wdWxzZT1mdW5jdGlvbihlLG8pe3ZhciBuPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLGxzKG4sZSxvKX0sbC5wcm90b3R5cGUuYXBwbHlDZW50cmFsSW1wdWxzZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksdXMobyxlKX0sbC5wcm90b3R5cGUudXBkYXRlSW5lcnRpYVRlbnNvcj1mdW5jdGlvbigpe2NzKHRoaXMuV2gpfSxsLnByb3RvdHlwZS5nZXRMaW5lYXJWZWxvY2l0eT1mdW5jdGlvbigpe3JldHVybiBhKHlzKHRoaXMuV2gpLHkpfSxsLnByb3RvdHlwZS5nZXRBbmd1bGFyVmVsb2NpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gYShocyh0aGlzLldoKSx5KX0sbC5wcm90b3R5cGUuc2V0TGluZWFyVmVsb2NpdHk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGZzKG8sZSl9LGwucHJvdG90eXBlLnNldEFuZ3VsYXJWZWxvY2l0eT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbXMobyxlKX0sbC5wcm90b3R5cGUuZ2V0TW90aW9uU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYShicyh0aGlzLldoKSxudCl9LGwucHJvdG90eXBlLnNldE1vdGlvblN0YXRlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxncyhvLGUpfSxsLnByb3RvdHlwZS5nZXRBbmd1bGFyRmFjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIGEoZHModGhpcy5XaCkseSl9LGwucHJvdG90eXBlLnNldEFuZ3VsYXJGYWN0b3I9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFdzKG8sZSl9LGwucHJvdG90eXBlLnVwY2FzdD1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO3JldHVybiBlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGEoQ3MobyxlKSxsKX0sbC5wcm90b3R5cGUuZ2V0QWFiYj1mdW5jdGlvbihlLG8pe3ZhciBuPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLGpzKG4sZSxvKX0sbC5wcm90b3R5cGUuYXBwbHlHcmF2aXR5PWZ1bmN0aW9uKCl7dnModGhpcy5XaCl9LGwucHJvdG90eXBlLmdldEdyYXZpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gYShEcyh0aGlzLldoKSx5KX0sbC5wcm90b3R5cGUuc2V0R3Jhdml0eT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksUnMobyxlKX0sbC5wcm90b3R5cGUuZ2V0QnJvYWRwaGFzZVByb3h5PWZ1bmN0aW9uKCl7cmV0dXJuIGEoU3ModGhpcy5XaCksQil9LGwucHJvdG90eXBlLmNsZWFyRm9yY2VzPWZ1bmN0aW9uKCl7SXModGhpcy5XaCl9LGwucHJvdG90eXBlLnNldEFuaXNvdHJvcGljRnJpY3Rpb249ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxPcyhuLGUsbyl9LGwucHJvdG90eXBlLmdldENvbGxpc2lvblNoYXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGEoQnModGhpcy5XaCksSCl9LGwucHJvdG90eXBlLnNldENvbnRhY3RQcm9jZXNzaW5nVGhyZXNob2xkPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxQcyhvLGUpfSxsLnByb3RvdHlwZS5zZXRBY3RpdmF0aW9uU3RhdGU9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLHhzKG8sZSl9LGwucHJvdG90eXBlLmZvcmNlQWN0aXZhdGlvblN0YXRlPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxUcyhvLGUpfSxsLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksZT09PXZvaWQgMD9GcyhvKTpNcyhvLGUpfSxsLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiEhQXModGhpcy5XaCl9LGwucHJvdG90eXBlLmlzS2luZW1hdGljT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuISF3cyh0aGlzLldoKX0sbC5wcm90b3R5cGUuaXNTdGF0aWNPYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm4hIWtzKHRoaXMuV2gpfSxsLnByb3RvdHlwZS5pc1N0YXRpY09yS2luZW1hdGljT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuISFMcyh0aGlzLldoKX0sbC5wcm90b3R5cGUuZ2V0UmVzdGl0dXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gSHModGhpcy5XaCl9LGwucHJvdG90eXBlLmdldEZyaWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIFlzKHRoaXMuV2gpfSxsLnByb3RvdHlwZS5nZXRSb2xsaW5nRnJpY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gVnModGhpcy5XaCl9LGwucHJvdG90eXBlLnNldFJlc3RpdHV0aW9uPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxRcyhvLGUpfSxsLnByb3RvdHlwZS5zZXRGcmljdGlvbj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksRXMobyxlKX0sbC5wcm90b3R5cGUuc2V0Um9sbGluZ0ZyaWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxYcyhvLGUpfSxsLnByb3RvdHlwZS5nZXRXb3JsZFRyYW5zZm9ybT1mdW5jdGlvbigpe3JldHVybiBhKFVzKHRoaXMuV2gpLE8pfSxsLnByb3RvdHlwZS5nZXRDb2xsaXNpb25GbGFncz1mdW5jdGlvbigpe3JldHVybiBHcyh0aGlzLldoKX0sbC5wcm90b3R5cGUuc2V0Q29sbGlzaW9uRmxhZ3M9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLE5zKG8sZSl9LGwucHJvdG90eXBlLnNldFdvcmxkVHJhbnNmb3JtPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx6cyhvLGUpfSxsLnByb3RvdHlwZS5zZXRDb2xsaXNpb25TaGFwZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCkscXMobyxlKX0sbC5wcm90b3R5cGUuc2V0Q2NkTW90aW9uVGhyZXNob2xkPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxacyhvLGUpfSxsLnByb3RvdHlwZS5zZXRDY2RTd2VwdFNwaGVyZVJhZGl1cz1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksS3MobyxlKX0sbC5wcm90b3R5cGUuZ2V0VXNlckluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuICRzKHRoaXMuV2gpfSxsLnByb3RvdHlwZS5zZXRVc2VySW5kZXg9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEpzKG8sZSl9LGwucHJvdG90eXBlLmdldFVzZXJQb2ludGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEodHAodGhpcy5XaCksbXQpfSxsLnByb3RvdHlwZS5zZXRVc2VyUG9pbnRlcj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksZXAobyxlKX0sbC5wcm90b3R5cGUuZ2V0QnJvYWRwaGFzZUhhbmRsZT1mdW5jdGlvbigpe3JldHVybiBhKG9wKHRoaXMuV2gpLEIpfSxsLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe25wKHRoaXMuV2gpfTtmdW5jdGlvbiBTdCgpe3RoaXMuV2g9cnAoKSxBKFN0KVt0aGlzLldoXT10aGlzfVN0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxTdC5wcm90b3R5cGUuY29uc3RydWN0b3I9U3QsU3QucHJvdG90eXBlLlhoPVN0LFN0LlloPXt9LHQuYnRTZXF1ZW50aWFsSW1wdWxzZUNvbnN0cmFpbnRTb2x2ZXI9U3QsU3QucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7X3AodGhpcy5XaCl9O2Z1bmN0aW9uIEF0KCl7dGhyb3ciY2Fubm90IGNvbnN0cnVjdCBhIGJ0Q29uc3RyYWludFNvbHZlciwgbm8gY29uc3RydWN0b3IgaW4gSURMIn1BdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksQXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPUF0LEF0LnByb3RvdHlwZS5YaD1BdCxBdC5ZaD17fSx0LmJ0Q29uc3RyYWludFNvbHZlcj1BdCxBdC5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtpcCh0aGlzLldoKX07ZnVuY3Rpb24gcygpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidERpc3BhdGNoZXJJbmZvLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifXMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLHMucHJvdG90eXBlLmNvbnN0cnVjdG9yPXMscy5wcm90b3R5cGUuWGg9cyxzLlloPXt9LHQuYnREaXNwYXRjaGVySW5mbz1zLHMucHJvdG90eXBlLmdldF9tX3RpbWVTdGVwPXMucHJvdG90eXBlLlhpPWZ1bmN0aW9uKCl7cmV0dXJuIGFwKHRoaXMuV2gpfSxzLnByb3RvdHlwZS5zZXRfbV90aW1lU3RlcD1zLnByb3RvdHlwZS5Saj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksc3AobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLCJtX3RpbWVTdGVwIix7Z2V0OnMucHJvdG90eXBlLlhpLHNldDpzLnByb3RvdHlwZS5San0pLHMucHJvdG90eXBlLmdldF9tX3N0ZXBDb3VudD1zLnByb3RvdHlwZS5WaT1mdW5jdGlvbigpe3JldHVybiBwcCh0aGlzLldoKX0scy5wcm90b3R5cGUuc2V0X21fc3RlcENvdW50PXMucHJvdG90eXBlLlBqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxscChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsIm1fc3RlcENvdW50Iix7Z2V0OnMucHJvdG90eXBlLlZpLHNldDpzLnByb3RvdHlwZS5Qan0pLHMucHJvdG90eXBlLmdldF9tX2Rpc3BhdGNoRnVuYz1zLnByb3RvdHlwZS51aT1mdW5jdGlvbigpe3JldHVybiB1cCh0aGlzLldoKX0scy5wcm90b3R5cGUuc2V0X21fZGlzcGF0Y2hGdW5jPXMucHJvdG90eXBlLm9qPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxjcChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsIm1fZGlzcGF0Y2hGdW5jIix7Z2V0OnMucHJvdG90eXBlLnVpLHNldDpzLnByb3RvdHlwZS5van0pLHMucHJvdG90eXBlLmdldF9tX3RpbWVPZkltcGFjdD1zLnByb3RvdHlwZS5XaT1mdW5jdGlvbigpe3JldHVybiB5cCh0aGlzLldoKX0scy5wcm90b3R5cGUuc2V0X21fdGltZU9mSW1wYWN0PXMucHJvdG90eXBlLlFqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxocChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsIm1fdGltZU9mSW1wYWN0Iix7Z2V0OnMucHJvdG90eXBlLldpLHNldDpzLnByb3RvdHlwZS5Ran0pLHMucHJvdG90eXBlLmdldF9tX3VzZUNvbnRpbnVvdXM9cy5wcm90b3R5cGUuWmk9ZnVuY3Rpb24oKXtyZXR1cm4hIWZwKHRoaXMuV2gpfSxzLnByb3RvdHlwZS5zZXRfbV91c2VDb250aW51b3VzPXMucHJvdG90eXBlLlRqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxtcChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsIm1fdXNlQ29udGludW91cyIse2dldDpzLnByb3RvdHlwZS5aaSxzZXQ6cy5wcm90b3R5cGUuVGp9KSxzLnByb3RvdHlwZS5nZXRfbV9lbmFibGVTYXRDb252ZXg9cy5wcm90b3R5cGUud2k9ZnVuY3Rpb24oKXtyZXR1cm4hIWJwKHRoaXMuV2gpfSxzLnByb3RvdHlwZS5zZXRfbV9lbmFibGVTYXRDb252ZXg9cy5wcm90b3R5cGUucWo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGdwKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSwibV9lbmFibGVTYXRDb252ZXgiLHtnZXQ6cy5wcm90b3R5cGUud2ksc2V0OnMucHJvdG90eXBlLnFqfSkscy5wcm90b3R5cGUuZ2V0X21fZW5hYmxlU1BVPXMucHJvdG90eXBlLnZpPWZ1bmN0aW9uKCl7cmV0dXJuISFkcCh0aGlzLldoKX0scy5wcm90b3R5cGUuc2V0X21fZW5hYmxlU1BVPXMucHJvdG90eXBlLnBqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxXcChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsIm1fZW5hYmxlU1BVIix7Z2V0OnMucHJvdG90eXBlLnZpLHNldDpzLnByb3RvdHlwZS5wan0pLHMucHJvdG90eXBlLmdldF9tX3VzZUVwYT1zLnByb3RvdHlwZS5haj1mdW5jdGlvbigpe3JldHVybiEhQ3AodGhpcy5XaCl9LHMucHJvdG90eXBlLnNldF9tX3VzZUVwYT1zLnByb3RvdHlwZS5Waj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksanAobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLCJtX3VzZUVwYSIse2dldDpzLnByb3RvdHlwZS5haixzZXQ6cy5wcm90b3R5cGUuVmp9KSxzLnByb3RvdHlwZS5nZXRfbV9hbGxvd2VkQ2NkUGVuZXRyYXRpb249cy5wcm90b3R5cGUubmk9ZnVuY3Rpb24oKXtyZXR1cm4gdnAodGhpcy5XaCl9LHMucHJvdG90eXBlLnNldF9tX2FsbG93ZWRDY2RQZW5ldHJhdGlvbj1zLnByb3RvdHlwZS5paj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksRHAobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLCJtX2FsbG93ZWRDY2RQZW5ldHJhdGlvbiIse2dldDpzLnByb3RvdHlwZS5uaSxzZXQ6cy5wcm90b3R5cGUuaWp9KSxzLnByb3RvdHlwZS5nZXRfbV91c2VDb252ZXhDb25zZXJ2YXRpdmVEaXN0YW5jZVV0aWw9cy5wcm90b3R5cGUuJGk9ZnVuY3Rpb24oKXtyZXR1cm4hIVJwKHRoaXMuV2gpfSxzLnByb3RvdHlwZS5zZXRfbV91c2VDb252ZXhDb25zZXJ2YXRpdmVEaXN0YW5jZVV0aWw9cy5wcm90b3R5cGUuVWo9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLFNwKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSwibV91c2VDb252ZXhDb25zZXJ2YXRpdmVEaXN0YW5jZVV0aWwiLHtnZXQ6cy5wcm90b3R5cGUuJGksc2V0OnMucHJvdG90eXBlLlVqfSkscy5wcm90b3R5cGUuZ2V0X21fY29udmV4Q29uc2VydmF0aXZlRGlzdGFuY2VUaHJlc2hvbGQ9cy5wcm90b3R5cGUucmk9ZnVuY3Rpb24oKXtyZXR1cm4gSXAodGhpcy5XaCl9LHMucHJvdG90eXBlLnNldF9tX2NvbnZleENvbnNlcnZhdGl2ZURpc3RhbmNlVGhyZXNob2xkPXMucHJvdG90eXBlLmxqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxPcChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsIm1fY29udmV4Q29uc2VydmF0aXZlRGlzdGFuY2VUaHJlc2hvbGQiLHtnZXQ6cy5wcm90b3R5cGUucmksc2V0OnMucHJvdG90eXBlLmxqfSkscy5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXtCcCh0aGlzLldoKX07ZnVuY3Rpb24gUygpe3Rocm93ImNhbm5vdCBjb25zdHJ1Y3QgYSBidENvbnRhY3RTb2x2ZXJJbmZvLCBubyBjb25zdHJ1Y3RvciBpbiBJREwifVMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLFMucHJvdG90eXBlLmNvbnN0cnVjdG9yPVMsUy5wcm90b3R5cGUuWGg9UyxTLlloPXt9LHQuYnRDb250YWN0U29sdmVySW5mbz1TLFMucHJvdG90eXBlLmdldF9tX3NwbGl0SW1wdWxzZT1TLnByb3RvdHlwZS5UaT1mdW5jdGlvbigpe3JldHVybiEhUHAodGhpcy5XaCl9LFMucHJvdG90eXBlLnNldF9tX3NwbGl0SW1wdWxzZT1TLnByb3RvdHlwZS5Oaj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCkseHAobyxlKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFMucHJvdG90eXBlLCJtX3NwbGl0SW1wdWxzZSIse2dldDpTLnByb3RvdHlwZS5UaSxzZXQ6Uy5wcm90b3R5cGUuTmp9KSxTLnByb3RvdHlwZS5nZXRfbV9zcGxpdEltcHVsc2VQZW5ldHJhdGlvblRocmVzaG9sZD1TLnByb3RvdHlwZS5VaT1mdW5jdGlvbigpe3JldHVybiBUcCh0aGlzLldoKX0sUy5wcm90b3R5cGUuc2V0X21fc3BsaXRJbXB1bHNlUGVuZXRyYXRpb25UaHJlc2hvbGQ9Uy5wcm90b3R5cGUuT2o9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEZwKG8sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTLnByb3RvdHlwZSwibV9zcGxpdEltcHVsc2VQZW5ldHJhdGlvblRocmVzaG9sZCIse2dldDpTLnByb3RvdHlwZS5VaSxzZXQ6Uy5wcm90b3R5cGUuT2p9KSxTLnByb3RvdHlwZS5nZXRfbV9udW1JdGVyYXRpb25zPVMucHJvdG90eXBlLk1pPWZ1bmN0aW9uKCl7cmV0dXJuIE1wKHRoaXMuV2gpfSxTLnByb3RvdHlwZS5zZXRfbV9udW1JdGVyYXRpb25zPVMucHJvdG90eXBlLkdqPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxBcChvLGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUy5wcm90b3R5cGUsIm1fbnVtSXRlcmF0aW9ucyIse2dldDpTLnByb3RvdHlwZS5NaSxzZXQ6Uy5wcm90b3R5cGUuR2p9KSxTLnByb3RvdHlwZS5fX2Rlc3Ryb3lfXz1mdW5jdGlvbigpe3dwKHRoaXMuV2gpfTtmdW5jdGlvbiBJKGUsbyxuLHIpe2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLHImJnR5cGVvZiByPT0ib2JqZWN0IiYmKHI9ci5XaCksdGhpcy5XaD1rcChlLG8sbixyKSxBKEkpW3RoaXMuV2hdPXRoaXN9SS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh4LnByb3RvdHlwZSksSS5wcm90b3R5cGUuY29uc3RydWN0b3I9SSxJLnByb3RvdHlwZS5YaD1JLEkuWWg9e30sdC5idERpc2NyZXRlRHluYW1pY3NXb3JsZD1JLEkucHJvdG90eXBlLnNldEdyYXZpdHk9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLExwKG8sZSl9LEkucHJvdG90eXBlLmdldEdyYXZpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gYShIcCh0aGlzLldoKSx5KX0sSS5wcm90b3R5cGUuYWRkUmlnaWRCb2R5PWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLG89PT12b2lkIDA/WXAocixlKTpuPT09dm9pZCAwP19lYl9idERpc2NyZXRlRHluYW1pY3NXb3JsZF9hZGRSaWdpZEJvZHlfMihyLGUsbyk6VnAocixlLG8sbil9LEkucHJvdG90eXBlLnJlbW92ZVJpZ2lkQm9keT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksUXAobyxlKX0sSS5wcm90b3R5cGUuc3RlcFNpbXVsYXRpb249ZnVuY3Rpb24oZSxvLG4pe3ZhciByPXRoaXMuV2g7cmV0dXJuIGUmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLG89PT12b2lkIDA/RXAocixlKTpuPT09dm9pZCAwP1hwKHIsZSxvKTpVcChyLGUsbyxuKX0sSS5wcm90b3R5cGUuc2V0Q29udGFjdEFkZGVkQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLEdwKG8sZSl9LEkucHJvdG90eXBlLnNldENvbnRhY3RQcm9jZXNzZWRDYWxsYmFjaz1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksTnAobyxlKX0sSS5wcm90b3R5cGUuc2V0Q29udGFjdERlc3Ryb3llZENhbGxiYWNrPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSx6cChvLGUpfSxJLnByb3RvdHlwZS5nZXREaXNwYXRjaGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGEocXAodGhpcy5XaCksSyl9LEkucHJvdG90eXBlLmdldFBhaXJDYWNoZT1mdW5jdGlvbigpe3JldHVybiBhKFpwKHRoaXMuV2gpLEopfSxJLnByb3RvdHlwZS5nZXREaXNwYXRjaEluZm89ZnVuY3Rpb24oKXtyZXR1cm4gYShLcCh0aGlzLldoKSxzKX0sSS5wcm90b3R5cGUuYWRkQ29sbGlzaW9uT2JqZWN0PWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLG89PT12b2lkIDA/JHAocixlKTpuPT09dm9pZCAwP0pwKHIsZSxvKTp0bChyLGUsbyxuKX0sSS5wcm90b3R5cGUucmVtb3ZlQ29sbGlzaW9uT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxlbChvLGUpfSxJLnByb3RvdHlwZS5nZXRCcm9hZHBoYXNlPWZ1bmN0aW9uKCl7cmV0dXJuIGEob2wodGhpcy5XaCksc3QpfSxJLnByb3RvdHlwZS5jb252ZXhTd2VlcFRlc3Q9ZnVuY3Rpb24oZSxvLG4scixjKXt2YXIgRD10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLHImJnR5cGVvZiByPT0ib2JqZWN0IiYmKHI9ci5XaCksYyYmdHlwZW9mIGM9PSJvYmplY3QiJiYoYz1jLldoKSxubChELGUsbyxuLHIsYyl9LEkucHJvdG90eXBlLmNvbnRhY3RQYWlyVGVzdD1mdW5jdGlvbihlLG8sbil7dmFyIHI9dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLG8mJnR5cGVvZiBvPT0ib2JqZWN0IiYmKG89by5XaCksbiYmdHlwZW9mIG49PSJvYmplY3QiJiYobj1uLldoKSxybChyLGUsbyxuKX0sSS5wcm90b3R5cGUuY29udGFjdFRlc3Q9ZnVuY3Rpb24oZSxvKXt2YXIgbj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxfbChuLGUsbyl9LEkucHJvdG90eXBlLnVwZGF0ZVNpbmdsZUFhYmI9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5XaDtlJiZ0eXBlb2YgZT09Im9iamVjdCImJihlPWUuV2gpLGlsKG8sZSl9LEkucHJvdG90eXBlLmFkZEFjdGlvbj1mdW5jdGlvbihlKXt2YXIgbz10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksYWwobyxlKX0sSS5wcm90b3R5cGUucmVtb3ZlQWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxzbChvLGUpfSxJLnByb3RvdHlwZS5nZXRTb2x2ZXJJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIGEocGwodGhpcy5XaCksUyl9LEkucHJvdG90eXBlLnNldEludGVybmFsVGlja0NhbGxiYWNrPWZ1bmN0aW9uKGUsbyxuKXt2YXIgcj10aGlzLldoO2UmJnR5cGVvZiBlPT0ib2JqZWN0IiYmKGU9ZS5XaCksbyYmdHlwZW9mIG89PSJvYmplY3QiJiYobz1vLldoKSxuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihuPW4uV2gpLG89PT12b2lkIDA/bGwocixlKTpuPT09dm9pZCAwP3VsKHIsZSxvKTpjbChyLGUsbyxuKX0sSS5wcm90b3R5cGUuX19kZXN0cm95X189ZnVuY3Rpb24oKXt5bCh0aGlzLldoKX07ZnVuY3Rpb24gSXQoKXt0aHJvdyJjYW5ub3QgY29uc3RydWN0IGEgYnRBY3Rpb25JbnRlcmZhY2UsIG5vIGNvbnN0cnVjdG9yIGluIElETCJ9cmV0dXJuIEl0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKSxJdC5wcm90b3R5cGUuY29uc3RydWN0b3I9SXQsSXQucHJvdG90eXBlLlhoPUl0LEl0LlloPXt9LHQuYnRBY3Rpb25JbnRlcmZhY2U9SXQsSXQucHJvdG90eXBlLnVwZGF0ZUFjdGlvbj1mdW5jdGlvbihlLG8pe3ZhciBuPXRoaXMuV2g7ZSYmdHlwZW9mIGU9PSJvYmplY3QiJiYoZT1lLldoKSxvJiZ0eXBlb2Ygbz09Im9iamVjdCImJihvPW8uV2gpLGhsKG4sZSxvKX0sSXQucHJvdG90eXBlLl9fZGVzdHJveV9fPWZ1bmN0aW9uKCl7ZmwodGhpcy5XaCl9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3QuUEhZX0ZMT0FUPW1sKCksdC5QSFlfRE9VQkxFPWJsKCksdC5QSFlfSU5URUdFUj1nbCgpLHQuUEhZX1NIT1JUPWRsKCksdC5QSFlfRklYRURQT0lOVDg4PVdsKCksdC5QSFlfVUNIQVI9Q2woKX1GZT9lKCk6UXQudW5zaGlmdChlKX0oKSx0LkNPTlRBQ1RfQURERURfQ0FMTEJBQ0tfU0lHTkFUVVJFPSJpaWlpaWlpaSIsdC5DT05UQUNUX0RFU1RST1lFRF9DQUxMQkFDS19TSUdOQVRVUkU9ImlpIix0LkNPTlRBQ1RfUFJPQ0VTU0VEX0NBTExCQUNLX1NJR05BVFVSRT0iaWlpaSIsdC5JTlRFUk5BTF9USUNLX0NBTExCQUNLX1NJR05BVFVSRT0idmlmIix0aGlzLkFtbW89dCxfLnJlYWR5fWxldCB3dD1bXSx6dD1bXSxPdD17fSxaLGQsY2UsJHQseWUsSnQ9MTUwLHRlPTE1MCx5dD0xLGVlPSExO2NvbnN0IFd0PXtzaXplOjkuNSxzdGFydGluZ0hlaWdodDo4LHNwaW5Gb3JjZTo2LHRocm93Rm9yY2U6NSxncmF2aXR5OjEsbWFzczoxLGZyaWN0aW9uOi44LHJlc3RpdHV0aW9uOi4xLGxpbmVhckRhbXBpbmc6LjUsYW5ndWxhckRhbXBpbmc6LjQsc2V0dGxlVGltZW91dDo1ZTN9O2xldCBwPXsuLi5XdH0saGUsaztzZWxmLm9ubWVzc2FnZT1fPT57c3dpdGNoKF8uZGF0YS5hY3Rpb24pe2Nhc2Uicm9sbERpZSI6Z2UoXy5kYXRhLnNpZGVzKTticmVhaztjYXNlImluaXQiOkRsKF8uZGF0YSkudGhlbigoKT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdC1jb21wbGV0ZSJ9KX0pO2JyZWFrO2Nhc2UiY2xlYXJEaWNlIjpQbCgpO2JyZWFrO2Nhc2UicmVtb3ZlRGllIjpCZShfLmRhdGEuaWQpO2JyZWFrO2Nhc2UicmVzaXplIjpKdD1fLmRhdGEud2lkdGgsdGU9Xy5kYXRhLmhlaWdodCx5dD1KdC90ZSxiZShwLnNpemUscC5zdGFydGluZ0hlaWdodCsxMCk7YnJlYWs7Y2FzZSJ1cGRhdGVDb25maWciOlJsKF8uZGF0YS5vcHRpb25zKTticmVhaztjYXNlImNvbm5lY3QiOmNlPV8ucG9ydHNbMF0sY2Uub25tZXNzYWdlPXQ9Pntzd2l0Y2godC5kYXRhLmFjdGlvbil7Y2FzZSJpbml0QnVmZmVyIjprPW5ldyBGbG9hdDMyQXJyYXkodC5kYXRhLmRpY2VCdWZmZXIpLGtbMF09LTE7YnJlYWs7Y2FzZSJsb2FkTW9kZWxzIjpTbCh0LmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJhZGREaWUiOnQuZGF0YS5vcHRpb25zLm5ld1N0YXJ0UG9pbnQmJmZlKCk7Y29uc3QgZj1CbCh0LmRhdGEub3B0aW9ucyk7Z2UoZik7YnJlYWs7Y2FzZSJyb2xsRGllIjpnZSh0LmRhdGEuaWQpO2JyZWFrO2Nhc2UicmVtb3ZlRGllIjpCZSh0LmRhdGEuaWQpO2JyZWFrO2Nhc2Uic3RvcFNpbXVsYXRpb24iOmVlPSEwO2JyZWFrO2Nhc2UicmVzdW1lU2ltdWxhdGlvbiI6dC5kYXRhLm5ld1N0YXJ0UG9pbnQmJmZlKCksZWU9ITEseGUoKTticmVhaztjYXNlInN0ZXBTaW11bGF0aW9uIjprPW5ldyBGbG9hdDMyQXJyYXkodC5kYXRhLmRpY2VCdWZmZXIpLHhlKCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJhY3Rpb24gbm90IGZvdW5kIGluIHBoeXNpY3Mgd29ya2VyIGZyb20gd29ybGRPZmZzY3JlZW4gd29ya2VyOiIsdC5kYXRhLmFjdGlvbil9fTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoImFjdGlvbiBub3QgZm91bmQgaW4gcGh5c2ljcyB3b3JrZXI6IixfLmRhdGEuYWN0aW9uKX19O2NvbnN0IHZlPShfPVd0LmdyYXZpdHksdD1XdC5tYXNzKT0+Xz09PTA/MDpfK3QvMyxEZT0oXz1XdC5tYXNzKT0+MStfLzMsUmU9KF89V3Quc3BpbkZvcmNlLHQ9NDApPT5fL3QsU2U9KF89V3QudGhyb3dGb3JjZSx0PVd0Lm1hc3MsZj1XdC5zY2FsZSk9Pl8vMi90KigxK2YvNiksSWU9KF89V3Quc3RhcnRpbmdIZWlnaHQpPT5fPDE/MTpfLERsPWFzeW5jIF89PntKdD1fLndpZHRoLHRlPV8uaGVpZ2h0LHl0PUp0L3RlLHA9ey4uLnAsLi4uXy5vcHRpb25zfSxwLmdyYXZpdHk9dmUocC5ncmF2aXR5LHAubWFzcykscC5tYXNzPURlKHAubWFzcykscC5zcGluRm9yY2U9UmUocC5zcGluRm9yY2UpLHAudGhyb3dGb3JjZT1TZShwLnRocm93Rm9yY2UscC5tYXNzLHAuc2NhbGUpLHAuc3RhcnRpbmdIZWlnaHQ9SWUocC5zdGFydGluZ0hlaWdodCk7Y29uc3QgdD17bG9jYXRlRmlsZTooKT0+YCR7cC5vcmlnaW4rcC5hc3NldFBhdGh9YW1tby9hbW1vLndhc20ud2FzbWB9O2Q9YXdhaXQgbmV3IHZsKHQpLCR0PW5ldyBkLmJ0VHJhbnNmb3JtLHllPW5ldyBkLmJ0VmVjdG9yMygwLDAsMCksaGU9UCgwLDAsMCksZmUoKSxaPXhsKCksYmUocC5zaXplLHAuc3RhcnRpbmdIZWlnaHQrMTApfSxSbD1fPT57cD17Li4ucCwuLi5ffSxfLm1hc3MmJihwLm1hc3M9RGUocC5tYXNzKSksKF8ubWFzc3x8Xy5ncmF2aXR5KSYmKHAuZ3Jhdml0eT12ZShwLmdyYXZpdHkscC5tYXNzKSksXy5zcGluRm9yY2UmJihwLnNwaW5Gb3JjZT1SZShwLnNwaW5Gb3JjZSkpLChfLnRocm93Rm9yY2V8fF8ubWFzc3x8Xy5zY2FsZSkmJihwLnRocm93Rm9yY2U9U2UocC50aHJvd0ZvcmNlLHAubWFzcyxwLnNjYWxlKSksXy5zdGFydGluZ0hlaWdodCYmSWUocC5zdGFydGluZ0hlaWdodCksT2UoKSxiZShwLnNpemUscC5zdGFydGluZ0hlaWdodCsxMCksWi5zZXRHcmF2aXR5KFAoMCwtOS44MSpwLmdyYXZpdHksMCkpLE9iamVjdC52YWx1ZXMoT3QpLm1hcCh0PT57dC5jb252ZXhIdWxsLnNldExvY2FsU2NhbGluZyhQKHQuc2NhbGluZ1swXSpwLnNjYWxlLHQuc2NhbGluZ1sxXSpwLnNjYWxlLHQuc2NhbGluZ1syXSpwLnNjYWxlKSl9KX0sU2w9YXN5bmMoe2NvbGxpZGVyczpfLG1lc2hOYW1lOnR9KT0+e2xldCBmPSExLGc9ITE7Xy5mb3JFYWNoKChqLFYpPT57T3RbdCsiXyIrai5uYW1lXT1qLE90W3QrIl8iK2oubmFtZV0uY29udmV4SHVsbD1JbChqKSxnfHwoZz1qLmlkPT09ImQxMF9jb2xsaWRlciIpLGZ8fChmPWouaWQ9PT0iZDEwMF9jb2xsaWRlciIpfSksIWYmJmcmJihPdFtgJHt0fV9kMTAwX2NvbGxpZGVyYF09T3RbYCR7dH1fZDEwX2NvbGxpZGVyYF0pfSxQPShfLHQsZik9Pih5ZS5zZXRWYWx1ZShfLHQsZikseWUpLGZlPSgpPT57bGV0IF89cC5zaXplLHQ9LjUsZj1fKnl0LzItdCxnPV8qeXQvLTIrdCxqPV8vMi10LFY9Xy8tMit0LFg9ZHQoZixnLE1hdGgucmFuZG9tKCkpLFU9ZHQoaixWLE1hdGgucmFuZG9tKCkpLEc9TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSx2PU1hdGgucm91bmQoTWF0aC5yYW5kb20oKSksUT1NYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpO3Auc3RhcnRQb3NpdGlvbj1bUT9YOnY/ZzpmLHAuc3RhcnRpbmdIZWlnaHQsUT9HP1Y6ajpVXX0sSWw9Xz0+e2NvbnN0IHQ9bmV3IGQuYnRDb252ZXhIdWxsU2hhcGU7bGV0IGY9Xy5wb3NpdGlvbnMubGVuZ3RoO2ZvcihsZXQgZz0wO2c8ZjtnKz0zKXtsZXQgaj1QKF8ucG9zaXRpb25zW2ddLF8ucG9zaXRpb25zW2crMV0sXy5wb3NpdGlvbnNbZysyXSk7dC5hZGRQb2ludChqLCEwKX1yZXR1cm4gdC5zZXRMb2NhbFNjYWxpbmcoUChfLnNjYWxpbmdbMF0qcC5zY2FsZSxfLnNjYWxpbmdbMV0qcC5zY2FsZSxfLnNjYWxpbmdbMl0qcC5zY2FsZSkpLHR9LE9sPShfLHQpPT57Y29uc3R7bWFzczpmPS4xLGNvbGxpc2lvbkZsYWdzOmc9MCxwb3M6aj1bMCwwLDBdLHF1YXQ6Vj1bZHQoLTEuNSwxLjUsTWF0aC5yYW5kb20oKSksZHQoLTEuNSwxLjUsTWF0aC5yYW5kb20oKSksZHQoLTEuNSwxLjUsTWF0aC5yYW5kb20oKSksLTFdLHNjYWxlOlg9WzEsMSwxXSxmcmljdGlvbjpVPXAuZnJpY3Rpb24scmVzdGl0dXRpb246Rz1wLnJlc3RpdHV0aW9ufT10LHY9bmV3IGQuYnRUcmFuc2Zvcm07di5zZXRJZGVudGl0eSgpLHYuc2V0T3JpZ2luKFAoalswXSxqWzFdLGpbMl0pKSx2LnNldFJvdGF0aW9uKG5ldyBkLmJ0UXVhdGVybmlvbihWWzBdLFZbMV0sVlsyXSxWWzNdKSk7Y29uc3QgUT1uZXcgZC5idERlZmF1bHRNb3Rpb25TdGF0ZSh2KSx0dD1QKDAsMCwwKTtmPjAmJl8uY2FsY3VsYXRlTG9jYWxJbmVydGlhKGYsdHQpO2NvbnN0IGt0PW5ldyBkLmJ0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mbyhmLFEsXyx0dCksej1uZXcgZC5idFJpZ2lkQm9keShrdCk7cmV0dXJuIGY+MCYmei5zZXRBY3RpdmF0aW9uU3RhdGUoNCksei5zZXRDb2xsaXNpb25GbGFncyhnKSx6LnNldEZyaWN0aW9uKFUpLHouc2V0UmVzdGl0dXRpb24oRyksei5zZXREYW1waW5nKHAubGluZWFyRGFtcGluZyxwLmFuZ3VsYXJEYW1waW5nKSx6fTtsZXQgbWU9W107Y29uc3QgYmU9KF8sdCk9Pntjb25zdCBmPVtdLGc9UCgwLDAsMCksaj1uZXcgZC5idFRyYW5zZm9ybTtqLnNldElkZW50aXR5KCksai5zZXRPcmlnaW4oUCgwLC0uNSwwKSk7Y29uc3QgVj1uZXcgZC5idEJveFNoYXBlKFAoXyp5dCwxLF8pKSxYPW5ldyBkLmJ0RGVmYXVsdE1vdGlvblN0YXRlKGopLFU9bmV3IGQuYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvKDAsWCxWLGcpLEc9bmV3IGQuYnRSaWdpZEJvZHkoVSk7Ry5zZXRGcmljdGlvbihwLmZyaWN0aW9uKSxHLnNldFJlc3RpdHV0aW9uKHAucmVzdGl0dXRpb24pLFouYWRkUmlnaWRCb2R5KEcpLGYucHVzaChHKTtjb25zdCB2PW5ldyBkLmJ0VHJhbnNmb3JtO3Yuc2V0SWRlbnRpdHkoKSx2LnNldE9yaWdpbihQKDAsdC0uNSwwKSk7Y29uc3QgUT1uZXcgZC5idEJveFNoYXBlKFAoXyp5dCwxLF8pKSx0dD1uZXcgZC5idERlZmF1bHRNb3Rpb25TdGF0ZSh2KSxrdD1uZXcgZC5idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm8oMCx0dCxRLGcpLHo9bmV3IGQuYnRSaWdpZEJvZHkoa3QpO3ouc2V0RnJpY3Rpb24ocC5mcmljdGlvbiksei5zZXRSZXN0aXR1dGlvbihwLnJlc3RpdHV0aW9uKSxaLmFkZFJpZ2lkQm9keSh6KSxmLnB1c2goeik7Y29uc3QgcXQ9bmV3IGQuYnRUcmFuc2Zvcm07cXQuc2V0SWRlbnRpdHkoKSxxdC5zZXRPcmlnaW4oUCgwLDAsXy8tMi0uNSkpO2NvbnN0IEJ0PW5ldyBkLmJ0Qm94U2hhcGUoUChfKnl0LHQsMSkpLG9lPW5ldyBkLmJ0RGVmYXVsdE1vdGlvblN0YXRlKHF0KSxQdD1uZXcgZC5idFJpZ2lkQm9keUNvbnN0cnVjdGlvbkluZm8oMCxvZSxCdCxnKSxodD1uZXcgZC5idFJpZ2lkQm9keShQdCk7aHQuc2V0RnJpY3Rpb24ocC5mcmljdGlvbiksaHQuc2V0UmVzdGl0dXRpb24ocC5yZXN0aXR1dGlvbiksWi5hZGRSaWdpZEJvZHkoaHQpLGYucHVzaChodCk7Y29uc3QgTHQ9bmV3IGQuYnRUcmFuc2Zvcm07THQuc2V0SWRlbnRpdHkoKSxMdC5zZXRPcmlnaW4oUCgwLDAsXy8yKy41KSk7Y29uc3QgQ3Q9bmV3IGQuYnRCb3hTaGFwZShQKF8qeXQsdCwxKSksbmU9bmV3IGQuYnREZWZhdWx0TW90aW9uU3RhdGUoTHQpLEh0PW5ldyBkLmJ0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mbygwLG5lLEN0LGcpLGp0PW5ldyBkLmJ0UmlnaWRCb2R5KEh0KTtqdC5zZXRGcmljdGlvbihwLmZyaWN0aW9uKSxqdC5zZXRSZXN0aXR1dGlvbihwLnJlc3RpdHV0aW9uKSxaLmFkZFJpZ2lkQm9keShqdCksZi5wdXNoKGp0KTtjb25zdCBZdD1uZXcgZC5idFRyYW5zZm9ybTtZdC5zZXRJZGVudGl0eSgpLFl0LnNldE9yaWdpbihQKF8qeXQvLTItLjUsMCwwKSk7Y29uc3QgVnQ9bmV3IGQuYnRCb3hTaGFwZShQKDEsdCxfKSksVXQ9bmV3IGQuYnREZWZhdWx0TW90aW9uU3RhdGUoWXQpLHJlPW5ldyBkLmJ0UmlnaWRCb2R5Q29uc3RydWN0aW9uSW5mbygwLFV0LFZ0LGcpLHh0PW5ldyBkLmJ0UmlnaWRCb2R5KHJlKTt4dC5zZXRGcmljdGlvbihwLmZyaWN0aW9uKSx4dC5zZXRSZXN0aXR1dGlvbihwLnJlc3RpdHV0aW9uKSxaLmFkZFJpZ2lkQm9keSh4dCksZi5wdXNoKHh0KTtjb25zdCBldD1uZXcgZC5idFRyYW5zZm9ybTtldC5zZXRJZGVudGl0eSgpLGV0LnNldE9yaWdpbihQKF8qeXQvMisuNSwwLDApKTtjb25zdCBHdD1uZXcgZC5idEJveFNoYXBlKFAoMSx0LF8pKSxfZT1uZXcgZC5idERlZmF1bHRNb3Rpb25TdGF0ZShldCksaWU9bmV3IGQuYnRSaWdpZEJvZHlDb25zdHJ1Y3Rpb25JbmZvKDAsX2UsR3QsZyksUXQ9bmV3IGQuYnRSaWdpZEJvZHkoaWUpO1F0LnNldEZyaWN0aW9uKHAuZnJpY3Rpb24pLFF0LnNldFJlc3RpdHV0aW9uKHAucmVzdGl0dXRpb24pLFouYWRkUmlnaWRCb2R5KFF0KSxmLnB1c2goUXQpLG1lLmxlbmd0aCYmT2UoKSxtZT1bLi4uZl19LE9lPSgpPT57bWUuZm9yRWFjaChfPT5aLnJlbW92ZVJpZ2lkQm9keShfKSl9LEJsPV89Pnt2YXIgdHQ7Y29uc3R7c2lkZXM6dCxpZDpmLG1lc2hOYW1lOmcsc2NhbGU6an09XztsZXQgWD1gJHtOdW1iZXIuaXNJbnRlZ2VyKHQpP2BkJHt0fWA6dH1fY29sbGlkZXJgO2NvbnN0IFU9YCR7Z31fJHtYfWAsdj0oKCh0dD1PdFtVXSk9PW51bGw/dm9pZCAwOnR0LnBoeXNpY3NNYXNzKXx8LjEpKnAubWFzcypwLnNjYWxlLFE9T2woT3RbVV0uY29udmV4SHVsbCx7bWFzczp2LHNjYWxpbmc6T3RbVV0uc2NhbGluZyxwb3M6cC5zdGFydFBvc2l0aW9ufSk7cmV0dXJuIFEuaWQ9ZixRLnRpbWVvdXQ9cC5zZXR0bGVUaW1lb3V0LFEubWFzcz12LFouYWRkUmlnaWRCb2R5KFEpLHd0LnB1c2goUSksUX0sZ2U9Xz0+e18uc2V0TGluZWFyVmVsb2NpdHkoUChkdCgtcC5zdGFydFBvc2l0aW9uWzBdKi41LC1wLnN0YXJ0UG9zaXRpb25bMF0qcC50aHJvd0ZvcmNlLE1hdGgucmFuZG9tKCkpLGR0KC1wLnN0YXJ0UG9zaXRpb25bMV0sLXAuc3RhcnRQb3NpdGlvblsxXSoyLE1hdGgucmFuZG9tKCkpLGR0KC1wLnN0YXJ0UG9zaXRpb25bMl0qLjUsLXAuc3RhcnRQb3NpdGlvblsyXSpwLnRocm93Rm9yY2UsTWF0aC5yYW5kb20oKSkpKTtjb25zdCB0PU1hdGgucmFuZG9tKCk+LjU/MTotMSxmPWR0KHAuc3BpbkZvcmNlKi41LHAuc3BpbkZvcmNlLE1hdGgucmFuZG9tKCkpLGc9bmV3IGQuYnRWZWN0b3IzKGYqdCxmKi10LGYqdCksaj1NYXRoLmFicyhwLnNjYWxlLTEpK3Auc2NhbGUqcC5zY2FsZSooXy5tYXNzL3AubWFzcykqLjc1O18uYXBwbHlJbXB1bHNlKGcsUChqLGosaikpfSxCZT1fPT57enQ9enQuZmlsdGVyKHQ9PntsZXQgZj10LmlkPT09XztyZXR1cm4gZiYmWi5yZW1vdmVSaWdpZEJvZHkodCksIWZ9KX0sUGw9KCk9PntrLmJ5dGVMZW5ndGgmJmsuZmlsbCgwKSxlZT0hMCx3dC5mb3JFYWNoKF89PloucmVtb3ZlUmlnaWRCb2R5KF8pKSx6dC5mb3JFYWNoKF89PloucmVtb3ZlUmlnaWRCb2R5KF8pKSx3dD1bXSx6dD1bXX0seGw9KCk9Pntjb25zdCBfPW5ldyBkLmJ0RGVmYXVsdENvbGxpc2lvbkNvbmZpZ3VyYXRpb24sdD1uZXcgZC5idERidnRCcm9hZHBoYXNlLGY9bmV3IGQuYnRTZXF1ZW50aWFsSW1wdWxzZUNvbnN0cmFpbnRTb2x2ZXIsZz1uZXcgZC5idENvbGxpc2lvbkRpc3BhdGNoZXIoXyksaj1uZXcgZC5idERpc2NyZXRlRHluYW1pY3NXb3JsZChnLHQsZixfKTtyZXR1cm4gai5zZXRHcmF2aXR5KFAoMCwtOS44MSpwLmdyYXZpdHksMCkpLGp9LFRsPV89Pntjb25zdCB0PV8vMWUzO1ouc3RlcFNpbXVsYXRpb24odCwyLDEvOTApLGtbMF09d3QubGVuZ3RoO2ZvcihsZXQgZj13dC5sZW5ndGgtMTtmPj0wO2YtLSl7Y29uc3QgZz13dFtmXSxqPWcuZ2V0TGluZWFyVmVsb2NpdHkoKS5sZW5ndGgoKSxWPWcuZ2V0QW5ndWxhclZlbG9jaXR5KCkubGVuZ3RoKCk7aWYoajwuMDEmJlY8LjAwNXx8Zy50aW1lb3V0PDApe2tbZio4KzFdPWcuaWQsa1tmKjgrMl09LTEsZy5hc2xlZXA9ITAsZy5zZXRNYXNzUHJvcHMoMCksZy5mb3JjZUFjdGl2YXRpb25TdGF0ZSgzKSxnLnNldExpbmVhclZlbG9jaXR5KGhlKSxnLnNldEFuZ3VsYXJWZWxvY2l0eShoZSksenQucHVzaCh3dC5zcGxpY2UoZiwxKVswXSk7Y29udGludWV9Zy50aW1lb3V0LT1fO2NvbnN0IFg9Zy5nZXRNb3Rpb25TdGF0ZSgpO2lmKFgpe1guZ2V0V29ybGRUcmFuc2Zvcm0oJHQpO2xldCBVPSR0LmdldE9yaWdpbigpLEc9JHQuZ2V0Um90YXRpb24oKSx2PWYqOCsxO2tbdl09Zy5pZCxrW3YrMV09VS54KCksa1t2KzJdPVUueSgpLGtbdiszXT1VLnooKSxrW3YrNF09Ry54KCksa1t2KzVdPUcueSgpLGtbdis2XT1HLnooKSxrW3YrN109Ry53KCl9fX07bGV0IFBlPW5ldyBEYXRlKCkuZ2V0VGltZSgpO2NvbnN0IHhlPSgpPT57bGV0IF89bmV3IERhdGUoKS5nZXRUaW1lKCk7Y29uc3QgdD1fLVBlO1BlPV8sIWVlJiZrLmJ5dGVMZW5ndGgmJihUbCh0KSxjZS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJ1cGRhdGVzIixkaWNlQnVmZmVyOmsuYnVmZmVyfSxbay5idWZmZXJdKSl9fSkoKTsK",Cy=typeof window<"u"&&window.Blob&&new Blob([atob(T9)],{type:"text/javascript;charset=utf-8"});function Cv(){let s;try{if(s=Cy&&(window.URL||window.webkitURL).createObjectURL(Cy),!s)throw"";return new Worker(s)}catch{return new Worker("data:application/javascript;base64,"+T9)}finally{s&&(window.URL||window.webkitURL).revokeObjectURL(s)}}const Jv=s=>{let t;return function(){let n=this,l=arguments;t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame(function(){s.apply(n,l)})}},Lv=(s={dedupe:!1})=>{const{dedupe:t}=s;let n=[],l;const r=u=>(t&&(n=[]),n.push(u),l||(l=o()),l.finally(()=>{l=void 0})),o=async()=>{const u=[];for(;n.length;){const d=n.shift();u.push(await d())}return u};return{push:r,queue:n,flush:()=>l||Promise.resolve([])}},qv=s=>JSON.parse(JSON.stringify(s));class Jy{static value(){const t=window.crypto||window.msCrypto,n=new Uint32Array(1);return t.getRandomValues(n)[0]/2**32}static range(t,n){return Math.floor(Math.pow(10,14)*this.value()*this.value())%(n-t+1)+t}}const Nv=s=>{let t=!1,n=s.slice(s.startsWith("#")?1:0);n.length===3?n=[...n].map(r=>r+r).join(""):n.length===8&&(t=!0),n=parseInt(n,16);let l={r:n>>>16,g:(n&65280)>>>8,b:n&255};return t&&(l.r=n>>>24,l.g=(n&16711680)>>>16,l.b=(n&65280)>>>8,l.a=n&255),l};function wv(){try{const s=document.createElement("canvas");return!!window.WebGLRenderingContext&&(s.getContext("webgl")||s.getContext("experimental-webgl"))}catch{return!1}}const Hv={id:`dice-canvas-${Date.now()}`,container:null,enableShadows:!0,shadowTransparency:.8,lightIntensity:1,delay:10,scale:5,theme:"default",preloadThemes:[],externalThemes:{},themeColor:"#2e8555",offscreen:!0,assetPath:"/assets/dice-box/",origin:typeof window<"u"?window.location.origin:"",suspendSimulation:!1};var Xs,Ba,Ac,Dc,He,Oc,_c,Ue,Ea,zc,Ui,gh,F9,Gh,_9,Rh,z9,Bc,vh,Ec,Sh;class Tv{constructor(t={}){if(Fe(this,gh),Fe(this,Gh),Fe(this,Rh),Fe(this,Bc),Fe(this,Ec),fs(this,"rollCollectionData",{}),fs(this,"rollGroupData",{}),fs(this,"rollDiceData",{}),fs(this,"themeData",[]),fs(this,"themesLoadedData",{}),Fe(this,Xs,0),Fe(this,Ba,0),Fe(this,Ac,0),Fe(this,Dc,0),Fe(this,He,{}),Fe(this,Oc,void 0),Fe(this,_c,void 0),Fe(this,Ue,void 0),Fe(this,Ea,void 0),Fe(this,zc,void 0),Fe(this,Ui,!0),fs(this,"noop",()=>{}),arguments.length===2&&typeof(arguments[0]==="string")&&typeof(arguments[1]==="object")&&(console.warn("You are using the old API. Dicebox constructor accepts a config object as it's only argument. Please read the v1.1.0 docs at https://fantasticdice.games/docs/usage/config"),t=arguments[1],t.container=arguments[0]),typeof t!="object")throw new Error("Config options should be an object. Config reference: https://fantasticdice.games/docs/usage/config#configuration-options");const{onBeforeRoll:n,onDieComplete:l,onRollComplete:r,onRemoveComplete:o,onThemeConfigLoaded:u,onThemeLoaded:d,...f}=t;this.config={...Hv,...f},this.onBeforeRoll=t.onBeforeRoll||this.noop,this.onDieComplete=t.onDieComplete||this.noop,this.onRollComplete=t.onRollComplete||this.noop,this.onRemoveComplete=t.onRemoveComplete||this.noop,this.onThemeLoaded=t.onThemeLoaded||this.noop,this.onThemeConfigLoaded=t.onThemeConfigLoaded||this.noop,wv()?(this.canvas=Yv({selector:this.config.container,id:this.config.id}),this.isVisible=!0):Me(this,Ui,!1),this.loadThemeQueue=Lv()}resizeWorld(){const t=Jv(()=>{_t(this,He).resize({width:this.canvas.clientWidth,height:this.canvas.clientHeight}),_t(this,Ue)&&_t(this,Ue).postMessage({action:"resize",width:this.canvas.clientWidth,height:this.canvas.clientHeight})});window.addEventListener("resize",t)}async init(){return _t(this,Ui)?fl(this,Gh,_9).call(this):Me(this,Ea,Promise.resolve()),await fl(this,gh,F9).call(this),this.resizeWorld(),_t(this,He).onRollResult=t=>{const n=this.rollDiceData[t.rollId],l=this.rollGroupData[n.groupId],r=this.rollCollectionData[n.collectionId];l.rolls[n.rollId].value=t.value,r.completedRolls++,r.completedRolls==r.rolls.length&&r.resolve(Object.values(r.rolls).map(({collectionId:f,id:b,meshName:p,...y})=>y));const{collectionId:o,id:u,...d}=n;this.onDieComplete(d)},_t(this,He).onRollComplete=()=>{this.onRollComplete(this.getRollResults())},_t(this,He).onDieRemoved=t=>{let n=this.rollDiceData[t];const l=this.rollCollectionData[n.removeCollectionId];l.completedRolls++,delete this.rollDiceData[n.rollId];const r=this.rollGroupData[n.groupId];delete r.rolls[n.rollId];const o=fl(this,Ec,Sh).call(this,n.groupId);r.value=o.value,r.qty=o.rollsArray.length,l.completedRolls==l.rolls.length&&l.resolve(Object.values(l.rolls).map(({id:y,...G})=>G));const{collectionId:u,id:d,removeCollectionId:f,meshName:b,...p}=n;this.onRemoveComplete(p)},await Promise.all([_t(this,Oc),_t(this,Ea)]),_t(this,Ue)&&fl(this,Rh,z9).call(this),await this.loadThemeQueue.push(()=>this.loadTheme(this.config.theme)),this.config.preloadThemes.forEach((async function(t){await this.loadThemeQueue.push(()=>this.loadTheme(t))}).bind(this)),this}async getThemeConfig(t){let n=`${this.config.origin}${this.config.assetPath}themes/${t}`;this.config.externalThemes[t]&&(n=this.config.externalThemes[t]);let l=await fetch(`${n}/theme.config.json`).then(u=>{if(u.ok){const d=u.headers.get("content-type");if(d&&d.indexOf("application/json")!==-1||u.type&&u.type==="basic")return u.json();throw new Error(`Incorrect contentType: ${d}. Expected "application/json" or "basic"`)}else throw new Error(`Unable to fetch config file for theme: '${t}'. Request rejected with status ${u.status}: ${u.statusText}`)}).catch(u=>console.error(u));if(!l)throw new Error("No theme config data to work with.");let r="default",o=`${this.config.origin}${this.config.assetPath}themes/default/default.json`;if(l.hasOwnProperty("meshFile")&&(r=l.meshFile.replace(/(.*)\..{2,4}$/,"$1"),o=`${n}/${l.meshFile}`),!l.hasOwnProperty("diceAvailable"))throw new Error('A theme must indicate which dice are available by defining "diceAvailable".');if(l.hasOwnProperty("extends")){const u=await this.loadTheme(l.extends).catch(f=>console.error(f));if(u.hasOwnProperty("extends"))throw new Error("Cannot extend a theme that extends another theme.");const d={};l.diceAvailable.forEach(f=>{d[f]=l.systemName}),u.diceExtended={...u.diceExtended,...d},this.config.theme=l.extends}return Object.assign(l,{basePath:n,meshFilePath:o,meshName:r,theme:t}),l}async loadTheme(t){if(this.themesLoadedData[t])return this.themesLoadedData[t];const n=this.themesLoadedData[t]=await this.getThemeConfig(t).catch(l=>console.error(l));if(this.onThemeConfigLoaded(n),!!n)return await _t(this,He).loadTheme(n).catch(l=>console.error(l)),this.onThemeLoaded(n),n}async updateConfig(t){const n={...this.config,...t};if(this.config=n,n.theme){const l=(await this.loadThemeQueue.push(()=>this.loadTheme(n.theme))).at(-1);l.hasOwnProperty("extends")&&(this.config.theme=l.extends)}return _t(this,He).updateConfig(n),_t(this,Ue)&&_t(this,Ue).postMessage({action:"updateConfig",options:n}),this}clear(){return Me(this,Xs,0),Me(this,Ba,0),Me(this,Ac,0),Me(this,Dc,0),this.rollCollectionData={},this.rollGroupData={},this.rollDiceData={},_t(this,He).clear(),_t(this,Ue)&&_t(this,Ue).postMessage({action:"clearDice"}),this}hide(t){return t?(this.canvas.dataset.hideClass=t,this.canvas.classList.add(t)):this.canvas.style.display="none",this.isVisible=!1,this}show(){var t;const n=(t=this.canvas.dataset)==null?void 0:t.hideClass;return n?(delete this.canvas.dataset.hideClass,this.canvas.classList.remove(n)):this.canvas.style.display="block",this.isVisible=!0,this.resizeWorld(),this}roll(t,{theme:n=this.config.theme,themeColor:l=this.config.themeColor,newStartPoint:r=!0}={}){this.clear();const o=gs(this,Xs)._++;this.rollCollectionData[o]=new Ad({id:o,notation:t,theme:n,themeColor:l,newStartPoint:r});const u=this.createNotationArray(t,this.themesLoadedData[n].diceAvailable);return fl(this,Bc,vh).call(this,u,o),this.rollCollectionData[o].promise}add(t,{theme:n=this.config.theme,themeColor:l=this.config.themeColor,newStartPoint:r=!0}={}){const o=gs(this,Xs)._++;this.rollCollectionData[o]=new Ad({id:o,notation:t,theme:n,themeColor:l,newStartPoint:r});const u=this.createNotationArray(t,this.themesLoadedData[n].diceAvailable);return fl(this,Bc,vh).call(this,u,o),this.rollCollectionData[o].promise}reroll(t,{remove:n=!1,hide:l=!1,newStartPoint:r=!0}={}){const o=(Array.isArray(t)?t:[t]).map(({value:u,...d})=>d);return n===!0&&this.remove(o,{hide:l}),this.add(o,{newStartPoint:r})}remove(t,{hide:n=!1}={}){const l=Array.isArray(t)?t:[t],r=gs(this,Xs)._++;return this.rollCollectionData[r]=new Ad({id:r,notation:t,rolls:l}),l.map(o=>{this.rollDiceData[o.rollId].removeCollectionId=r;let u=this.rollDiceData[o.rollId].id;_t(this,He).remove({id:u,rollId:o.rollId}),_t(this,Ue)&&_t(this,Ue).postMessage({action:"removeDie",id:u})}),this.rollCollectionData[r].promise}createNotationArray(t,n){const l=Array.isArray(t)?t:[t];let r=[];const o=f=>{if(f.hasOwnProperty("qty")||(f.qty=1),f.hasOwnProperty("sides"))return f.sides==="100"&&(f.sides=100,f.data="single"),!0;{const b="Roll notation is missing sides";throw new Error(b)}},u=f=>{f=f.toString();let b=f.split(".");return b[1]?b[1]=parseInt(b[1])+1:b[1]=1,b[0]+"."+b[1]},d=f=>{f.hasOwnProperty("rollId")&&this.rollDiceData.hasOwnProperty(f.rollId)&&(f.rollId=u(f.rollId)),f.hasOwnProperty("modifier")||(f.modifier=0)};return l.forEach(f=>{typeof f=="string"?r.push(this.parse(f,n)):typeof l=="object"&&(d(f),o(f)&&r.push(f))}),r}parse(t,n){const l=/(\d+)([dD]{1}\d+)(.*)$/i,r=/(\d+)[dD](00|%)(.*)$/i,o=/(\d+)[dD](f+[ate]*)(.*)$/i,u=/(\d+)[dD]([\d\w]+)([+-]{0,1}\d+)?/i,d=/([+-])(\d+)/,f=t.trim().replace(/\s+/g,""),b=(S,V)=>{if(S=Number(S),Number.isNaN(S)||!Number.isInteger(S)||S<1)throw new Error(V);return S},p=f.match(r)||f.match(l)||f.match(o)||f.match(u);let y=0;const G="Invalid notation: "+t;if(!p||!p.length||p.length<3)throw new Error(G);if(p[3]&&d.test(p[3])){const S=p[3].match(d);let V=b(S[2],G);S[1].trim()==="-"&&(V*=-1),y=V}const g={qty:b(p[1],G),modifier:y};return f.match(r)?(g.sides="d100",g.data="single"):f.match(o)?g.sides="fate":(n.includes(f.match(u)[2]),g.sides=p[2]),g}getRollResults(){return Object.entries(this.rollGroupData).map(([t,n])=>{const l=fl(this,Ec,Sh).call(this,t);n.value=l.value,n.qty=l.rollsArray.length;const r={...n};return r.rolls=l.rollsArray,r})}}Xs=new WeakMap,Ba=new WeakMap,Ac=new WeakMap,Dc=new WeakMap,He=new WeakMap,Oc=new WeakMap,_c=new WeakMap,Ue=new WeakMap,Ea=new WeakMap,zc=new WeakMap,Ui=new WeakMap,gh=new WeakSet,F9=async function(){Me(this,Oc,new Promise((t,n)=>{Me(this,_c,t)}));const s=()=>{_t(this,_c).call(this)};if(_t(this,Ui))if("OffscreenCanvas"in window&&"transferControlToOffscreen"in this.canvas&&this.config.offscreen){const t=await Zl(()=>import("./world.offscreen-C5e_o3iU.js"),[]).then(n=>n.default);Me(this,He,new t({canvas:this.canvas,options:this.config,onInitComplete:s}))}else{this.config.offscreen&&(console.warn("This browser does not support OffscreenCanvas. Using standard canvas fallback."),this.config.offscreen=!1);const t=await Zl(()=>import("./world.onscreen-DGWdN4Ab.js"),__vite__mapDeps([6,7])).then(n=>n.default);Me(this,He,new t({canvas:this.canvas,options:this.config,onInitComplete:s}))}else{console.warn("This browser does not support WebGL which is required for 3D rendering. Falling back to random number generator");const t=await Zl(()=>import("./world.none-BSkMWop-.js"),__vite__mapDeps([8,7])).then(n=>n.default);Me(this,He,new t({canvas:this.canvas,options:this.config,onInitComplete:s}))}},Gh=new WeakSet,_9=function(){Me(this,Ue,new Cv),Me(this,Ea,new Promise((s,t)=>{Me(this,zc,s)})),_t(this,Ue).onmessage=s=>{s.data.action==="init-complete"&&_t(this,zc).call(this)},_t(this,Ue).postMessage({action:"init",width:this.canvas.clientWidth,height:this.canvas.clientHeight,options:this.config})},Rh=new WeakSet,z9=function(){const s=new MessageChannel;_t(this,He).connect(s.port1),_t(this,Ue).postMessage({action:"connect"},[s.port2])},Bc=new WeakSet,vh=async function(s,t){this.onBeforeRoll(s);const n=this.rollCollectionData[t];let l=n.newStartPoint;s.forEach(async r=>{var o,u,d,f,b,p;if(!r.sides)throw new Error("Improper dice notation or unable to parse notation");let y=r.theme||n.theme||this.config.theme;const G=r.themeColor||n.themeColor||this.config.themeColor,g={},S=r.groupId!==void 0;let V;const W=()=>this.loadTheme(y);await this.loadThemeQueue.push(W);let T=this.themesLoadedData[y].meshName,E=(o=this.themesLoadedData[y])==null?void 0:o.diceAvailable,F=this.themesLoadedData[y].diceExtended||{},M=(d=(u=this.themesLoadedData[y])==null?void 0:u.material)==null?void 0:d.type;const N=Object.keys(F);if(N&&N.includes(r.sides)){y=F[r.sides];const ct=()=>this.loadTheme(y);this.loadThemeQueue.push(ct),T=this.themesLoadedData[y].meshName,E=(f=this.themesLoadedData[y])==null?void 0:f.diceAvailable,M=(p=(b=this.themesLoadedData[y])==null?void 0:b.material)==null?void 0:p.type}let _="",H;M==="color"&&(H=Nv(G),_=H.r*.299+H.g*.587+H.b*.114>175?"_dark":"_light");for(var ut=0,ot=r.qty;ut<ot;ut++){let ct=r.rollId!==void 0?r.rollId:gs(this,Ac)._++,O=r.id!==void 0?r.id:gs(this,Dc)._++;V=S?r.groupId:_t(this,Ba);const j=Number.isInteger(r.sides)?`d${r.sides}`:r.sides;/^d[1-9]{1}[0-9]{0,1}0?$/.test(r.sides)&&(r.sides=parseInt(r.sides.replace("d","")));const lt={sides:r.sides,data:r.data,dieType:j,groupId:V,collectionId:n.id,rollId:ct,id:O,theme:y,themeColor:G,meshName:T};if(g[ct]=lt,this.rollDiceData[ct]=lt,n.rolls.push(this.rollDiceData[ct]),lt.sides==="fate"&&!E.includes(j)&&!N.includes(j)||lt.sides==="fate"&&!_t(this,Ui)){console.warn(`fate die unavailable in '${y}' theme. Using fallback.`);const q=-1,mt=1;lt.value=Jy.range(q,mt),_t(this,He).addNonDie(lt)}else if(this.config.suspendSimulation||!E.includes(j)&&!N.includes(j)||!_t(this,Ui)){const q=_t(this,Ui)?this.config.suspendSimulation?"3D simulation suspended. Using fallback.":`${lt.sides} die unavailable in '${y}' theme. Using fallback.`:"This browser does not support webGL. Using random number fallback.";console.warn(q);const mt=Number.isInteger(lt.sides)?lt.sides:parseInt(lt.sides.replace(/\D/g,""));lt.value=Jy.range(1,mt),_t(this,He).addNonDie(lt)}else{let q;if(N.includes(j)){const mt=F[j];q=this.themesLoadedData[mt]}_t(this,He).add({...lt,newStartPoint:l,theme:q?.systemName||y,meshName:q?.meshName||T,colorSuffix:_})}l=!1}S?Object.assign(this.rollGroupData[V].rolls,g):(r.rolls=g,r.id=V,this.rollGroupData[V]=r,++gs(this,Ba)._)})},Ec=new WeakSet,Sh=function(s){const t=this.rollGroupData[s],n=Object.values(t.rolls).map(({collectionId:r,id:o,meshName:u,...d})=>d);let l=n.reduce((r,o)=>{const u=isNaN(o.value)?0:o.value;return r+u},0);return l+=t.modifier?t.modifier:0,{value:l,rollsArray:n}};class Ad{constructor(t){Object.assign(this,t),this.rolls=t.rolls||[],this.completedRolls=0;const n=this;this.promise=new Promise((l,r)=>{n.resolve=l,n.reject=r})}}class Fv{box=null;isInitialized=!1;async init(){this.isInitialized||(this.box=new Tv({container:"#dice-box-container",assetPath:"/VTT-RPG/dice-box/",theme:"default",themeColor:"#8b5cf6",scale:6,spinForce:6,throwForce:6,startingHeight:8,lightIntensity:1,shadows:!0,gravity:1}),await this.box.init(),this.isInitialized=!0)}async roll(t){this.isInitialized||await this.init();try{return await this.box.roll(t)}catch(n){throw console.error("Dice roll failed:",n),n}}clear(){this.isInitialized&&this.box&&this.box.clear()}}const kc=new Fv,_v=()=>{const[s,t]=Xt.useState(""),n=$(b=>b.chat),l=$(b=>b.username),r=$(b=>b.myId),o=Xt.useRef(null),u=()=>{o.current?.scrollIntoView({behavior:"smooth"})};Xt.useEffect(u,[n]);const d=async()=>{if(!s.trim())return;let b={id:Ha(),senderId:r,senderName:l,timestamp:Date.now(),content:s,type:"text"};const p=s;if(t(""),p.startsWith("/roll ")){const y=p.replace("/roll ","").trim(),G=Yy(y);if(G){try{await kc.roll(y)}catch{}b.type="roll",b.rollData={formula:y,result:G.total,details:`[${G.rolls.join(", ")}] ${G.mod?G.mod>0?"+"+G.mod:G.mod:""}`},b.content=`rolled ${y} = ${G.total}`}else b.type="system",b.content="Invalid dice formula. Use format like 1d20+5"}else if(p.startsWith("/init ")){const y=p.replace("/init ","").trim(),G=Yy(y);if(G){try{await kc.roll(y)}catch{}b.type="roll",b.rollData={formula:y,result:G.total,details:`[${G.rolls.join(", ")}] ${G.mod?G.mod>0?"+"+G.mod:G.mod:""}`},b.content=`rolled initiative ${y} = ${G.total}`,$.getState().addToInitiative(l,G.total),St.sendAction("SYNC_STATE",{turnOrder:$.getState().turnOrder})}else b.type="system",b.content="Invalid init formula. Use format /init 1d20+2"}St.sendAction("ADD_CHAT",b)},f=b=>{b.key==="Enter"&&d()};return J.jsxs("div",{className:"flex flex-col h-full bg-gray-900 border-l border-gray-700 w-80",children:[J.jsxs("div",{className:"p-3 border-b border-gray-700 bg-gray-800 font-bold text-gray-200 flex items-center justify-between",children:[J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx(mv,{size:18})," Chat & Logs"]}),J.jsx("button",{onClick:()=>kc.clear(),className:"text-gray-400 hover:text-white",title:"Clear 3D Dice",children:J.jsx(rv,{size:16})})]}),J.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[n.map(b=>J.jsxs("div",{className:`text-sm ${b.type==="system"?"text-yellow-400 italic":""}`,children:[J.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[J.jsx("span",{className:"font-bold text-blue-400",children:b.senderName}),J.jsx("span",{children:new Date(b.timestamp).toLocaleTimeString()})]}),b.type==="roll"?J.jsxs("div",{className:"bg-gray-800 p-2 rounded border border-gray-700",children:[J.jsx("div",{className:"font-mono text-lg font-bold text-green-400",children:b.rollData?.result}),J.jsxs("div",{className:"text-xs text-gray-400",children:[b.rollData?.formula," (",b.rollData?.details,")"]})]}):J.jsx("div",{className:"text-gray-300 break-words",children:b.content})]},b.id)),J.jsx("div",{ref:o})]}),J.jsxs("div",{className:"p-3 bg-gray-800 border-t border-gray-700 flex gap-2",children:[J.jsx("input",{className:"flex-1 bg-gray-900 border border-gray-600 rounded px-2 py-1 text-sm text-white focus:border-blue-500 outline-none",value:s,onChange:b=>t(b.target.value),onKeyDown:f,placeholder:"/roll 1d20 or message..."}),J.jsx("button",{onClick:d,className:"bg-blue-600 hover:bg-blue-500 rounded px-3 py-1 flex items-center justify-center text-white",children:J.jsx(yv,{size:16})})]}),J.jsx("div",{className:"grid grid-cols-4 gap-1 p-2 bg-gray-800 border-t border-gray-700",children:["d4","d6","d8","d10","d12","d20","d100"].map(b=>J.jsx("button",{onClick:()=>{t(`/roll 1${b}`),d()},className:"bg-gray-700 hover:bg-gray-600 text-xs py-1 rounded text-gray-300",children:b},b))})]})},zv=()=>{const s=$(o=>o.turnOrder),t=$(o=>o.isHost),n=()=>{$.getState().nextTurn(),St.sendAction("SYNC_STATE",{turnOrder:$.getState().turnOrder})},l=()=>{$.getState().clearInitiative(),St.sendAction("SYNC_STATE",{turnOrder:[]})},r=o=>{$.getState().removeFromInitiative(o),St.sendAction("SYNC_STATE",{turnOrder:$.getState().turnOrder})};return s.length===0?null:J.jsxs("div",{className:"bg-gray-900/90 border border-gray-700 rounded-lg p-3 text-white w-64 shadow-2xl backdrop-blur-sm pointer-events-auto",children:[J.jsxs("h3",{className:"text-sm font-bold border-b border-gray-700 pb-2 mb-2 flex justify-between items-center",children:["Initiative",J.jsxs("div",{className:"flex gap-2",children:[t&&J.jsx("button",{onClick:l,className:"text-xs text-red-400 hover:text-red-300",children:"Clear"}),t&&J.jsx("button",{onClick:n,className:"text-xs bg-blue-600 px-2 py-0.5 rounded hover:bg-blue-500",children:"Next"})]})]}),J.jsx("div",{className:"space-y-1 max-h-64 overflow-y-auto",children:s.map((o,u)=>J.jsxs("div",{className:`flex items-center gap-2 p-2 rounded text-sm ${u===0?"bg-blue-900/50 border border-blue-500":"bg-gray-800"}`,children:[J.jsx("span",{className:"font-mono text-gray-500 text-xs text-center w-4",children:u+1}),J.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-500 border border-white flex-shrink-0 flex items-center justify-center font-bold text-xs",children:o.name.charAt(0).toUpperCase()}),J.jsx("span",{className:"flex-1 truncate font-bold",children:o.name}),J.jsx("div",{className:"text-xs font-bold text-green-400 bg-gray-900 px-1.5 py-0.5 rounded",children:o.initiative}),t&&J.jsx("button",{onClick:()=>r(o.id),className:"text-gray-500 hover:text-red-400",children:J.jsx(Zv,{size:14})})]},o.id))})]})},Bv=({tokenId:s,onClose:t})=>{const n=$(j=>j.tokens.find(lt=>lt.id===s)),[l,r]=Xt.useState(""),[o,u]=Xt.useState(0),[d,f]=Xt.useState(0),[b,p]=Xt.useState(0),[y,G]=Xt.useState([]),[g,S]=Xt.useState([]),[V,W]=Xt.useState(0),[T,E]=Xt.useState({strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10}),[F,M]=Xt.useState({acrobatics:0,animalHandling:0,arcana:0,athletics:0,deception:0,history:0,insight:0,intimidation:0,investigation:0,medicine:0,nature:0,perception:0,performance:0,persuasion:0,religion:0,sleightOfHand:0,stealth:0,survival:0}),N=$(j=>j.myId),_=$(j=>j.username),H=$(j=>j.addChatMessage),ut=["Poisoned","Prone","Stunned","Invisible"];Xt.useEffect(()=>{n&&(r(n.label||"Unknown"),u(n.stats?.hp||0),f(n.stats?.maxHp||0),p(n.stats?.ac||10),G(n.conditions||[]),S(n.auras||[]),W(n.lightRadius||0),n.stats?.attributes&&E(n.stats.attributes),n.stats?.skills&&M({...F,...n.stats.skills}))},[n]);const ot=()=>{n&&(St.sendAction("UPDATE_TOKEN",{id:n.id,data:{label:l,stats:{hp:o,maxHp:d,ac:b,attributes:T,skills:F},conditions:y,auras:g,lightRadius:V>0?V:void 0}}),t())},ct=(j,lt)=>{const q=Math.floor(Math.random()*20)+1,mt=q+lt,w={id:Date.now().toString(),senderId:N,senderName:_||"Player",timestamp:Date.now(),content:`Rolling ${j}`,type:"roll",rollData:{formula:`1d20 + ${lt}`,result:mt,details:`[${q}] + ${lt}`}};H(w),St.sendAction("CHAT_MESSAGE",w)},O=j=>Math.floor((j-10)/2);return n?J.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:J.jsxs("div",{className:"bg-gray-800 border border-gray-600 p-6 rounded-lg w-96 shadow-2xl",children:[J.jsxs("h2",{className:"text-xl font-bold mb-4 text-purple-400",children:["Edit Token: ",l]}),J.jsxs("div",{className:"space-y-3",children:[J.jsxs("div",{children:[J.jsx("label",{className:"block text-xs text-gray-400",children:"Name / Label"}),J.jsx("input",{type:"text",className:"w-full bg-gray-900 border border-gray-700 px-2 py-1 rounded text-white",value:l,onChange:j=>r(j.target.value)})]}),J.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[J.jsxs("div",{children:[J.jsx("label",{className:"block text-xs text-gray-400",children:"Current HP"}),J.jsx("input",{type:"number",className:"w-full bg-gray-900 border border-gray-700 px-2 py-1 rounded text-white",value:o,onChange:j=>u(Number(j.target.value))})]}),J.jsxs("div",{children:[J.jsx("label",{className:"block text-xs text-gray-400",children:"Max HP"}),J.jsx("input",{type:"number",className:"w-full bg-gray-900 border border-gray-700 px-2 py-1 rounded text-white",value:d,onChange:j=>f(Number(j.target.value))})]})]}),J.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[J.jsxs("div",{children:[J.jsx("label",{className:"block text-xs text-gray-400",children:"Armour Class (AC)"}),J.jsx("input",{type:"number",className:"w-full bg-gray-900 border border-gray-700 px-2 py-1 rounded text-white",value:b,onChange:j=>p(Number(j.target.value))})]}),J.jsxs("div",{children:[J.jsx("label",{className:"block text-xs text-gray-400",children:"Light Radius (ft)"}),J.jsx("input",{type:"number",className:"w-full bg-gray-900 border border-gray-700 px-2 py-1 rounded text-white",value:V,onChange:j=>W(Number(j.target.value)),title:"0 for no light source"})]})]}),J.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t border-gray-700 pt-2 mt-2",children:[J.jsxs("div",{className:"space-y-2",children:[J.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase",children:"Attributes"}),Object.entries(T).map(([j,lt])=>{const q=O(lt);return J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx("button",{onClick:()=>ct(j.toUpperCase(),q),className:"bg-gray-700 hover:bg-purple-600 px-2 py-0.5 rounded textxs text-white",title:`Roll ${j} Check`,children:""}),J.jsx("label",{className:"flex-1 text-[10px] uppercase text-gray-300",children:j.substring(0,3)}),J.jsx("input",{type:"number",className:"w-12 bg-gray-900 border border-gray-700 px-1 py-0.5 rounded text-xs text-center text-white",value:lt,onChange:mt=>E({...T,[j]:Number(mt.target.value)})}),J.jsx("span",{className:"w-6 text-xs text-right text-gray-400",children:q>=0?`+${q}`:q})]},j)})]}),J.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:[J.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase sticky top-0 bg-gray-800 py-1",children:"Skills"}),["acrobatics","athletics","perception","stealth","investigation"].map(j=>{const lt=F[j]||0;return J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx("button",{onClick:()=>ct(j.charAt(0).toUpperCase()+j.slice(1),lt),className:"bg-gray-700 hover:bg-purple-600 px-1 py-0.5 rounded text-[10px] text-white",title:`Roll ${j} Check`,children:""}),J.jsx("label",{className:"flex-1 text-[10px] capitalize text-gray-300 truncate",children:j}),J.jsx("input",{type:"number",className:"w-10 bg-gray-900 border border-gray-700 px-1 py-0.5 rounded text-[10px] text-center text-white",value:lt,onChange:q=>M({...F,[j]:Number(q.target.value)})})]},j)})]})]}),J.jsxs("div",{className:"border-t border-gray-700 pt-2 mt-2",children:[J.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Conditions"}),J.jsx("div",{className:"flex flex-wrap gap-2",children:ut.map(j=>J.jsxs("label",{className:"flex items-center gap-1 bg-gray-900 px-2 py-1 rounded text-xs select-none cursor-pointer border border-gray-700 hover:border-gray-500",children:[J.jsx("input",{type:"checkbox",checked:y.includes(j),onChange:lt=>{lt.target.checked?G([...y,j]):G(y.filter(q=>q!==j))},className:"accent-purple-500"}),j]},j))})]}),J.jsxs("div",{className:"border-t border-gray-700 pt-2 mt-2",children:[J.jsxs("div",{className:"flex justify-between items-center mb-1",children:[J.jsx("label",{className:"block text-xs text-gray-400",children:"Magic Auras"}),J.jsx("button",{onClick:()=>S([...g,{id:Date.now().toString(),radius:10,color:"#00ffff"}]),className:"text-[10px] bg-gray-700 hover:bg-gray-600 px-2 py-0.5 rounded text-white",children:"+ Add Aura"})]}),J.jsxs("div",{className:"space-y-2 max-h-24 overflow-y-auto",children:[g.map(j=>J.jsxs("div",{className:"flex items-center gap-2 bg-gray-900 p-1 rounded border border-gray-700",children:[J.jsx("input",{type:"color",value:j.color,onChange:lt=>S(g.map(q=>q.id===j.id?{...q,color:lt.target.value}:q)),className:"w-6 h-6 rounded cursor-pointer border-0 bg-transparent p-0"}),J.jsx("input",{type:"number",className:"w-16 bg-gray-800 border border-gray-600 px-1 py-0.5 rounded text-xs text-white",value:j.radius,onChange:lt=>S(g.map(q=>q.id===j.id?{...q,radius:Number(lt.target.value)}:q)),placeholder:"Radius ft"}),J.jsx("span",{className:"text-[10px] text-gray-400 flex-1",children:"ft radius"}),J.jsx("button",{onClick:()=>S(g.filter(lt=>lt.id!==j.id)),className:"text-red-400 hover:text-red-300 text-xs px-1",children:""})]},j.id)),g.length===0&&J.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No active auras."})]})]})]}),J.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[J.jsx("button",{onClick:t,className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded",children:"Cancel"}),J.jsx("button",{onClick:ot,className:"px-3 py-1 bg-purple-600 hover:bg-purple-500 rounded font-bold",children:"Save"})]})]})}):null},Ev=()=>{const s=$(g=>g.macros),t=$(g=>g.addMacro),n=$(g=>g.removeMacro),l=$(g=>g.myId),r=$(g=>g.username),[o,u]=Xt.useState(!1),[d,f]=Xt.useState(""),[b,p]=Xt.useState(""),y=g=>{if(g.command.startsWith("/roll ")){const S=g.command.replace("/roll ","").trim(),V=S.match(/(\d+)d(\d+)(.*?)([\+\-]\d+)?$/);if(V){const W=parseInt(V[1])||1,T=parseInt(V[2])||20,E=V[4]||"",F=parseInt(E)||0;let M=0;const N=[];for(let ot=0;ot<W;ot++){const ct=Math.floor(Math.random()*T)+1;N.push(ct),M+=ct}const _=M+F,H={formula:S,result:_,details:`[${N.join(", ")}] ${E}`},ut={id:Ha(),senderId:l,senderName:r,timestamp:Date.now(),content:`${g.label} (${S})`,type:"roll",rollData:H};St.sendAction("CHAT_MESSAGE",ut),$.getState().addChatMessage(ut)}else{const W={id:Ha(),senderId:l,senderName:r,timestamp:Date.now(),content:`[Macro: ${g.label}] ${g.command}`,type:"text"};St.sendAction("CHAT_MESSAGE",W),$.getState().addChatMessage(W)}}else{const S={id:Ha(),senderId:l,senderName:r,timestamp:Date.now(),content:`[Macro: ${g.label}] ${g.command}`,type:"text"};St.sendAction("CHAT_MESSAGE",S),$.getState().addChatMessage(S)}},G=()=>{!d||!b||(t({id:Ha(),label:d,command:b}),f(""),p(""),u(!1))};return J.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-900 border-t border-gray-700 pointer-events-auto",children:[J.jsx("span",{className:"text-gray-500 text-xs font-bold uppercase mr-2",children:"Macros"}),s.map(g=>J.jsxs("div",{className:"group relative flex items-center",children:[J.jsx("button",{onClick:()=>y(g),className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 text-purple-300 font-mono text-sm rounded border border-gray-600 transition-colors",title:g.command,children:g.label}),J.jsx("button",{onClick:()=>n(g.id),className:"absolute -top-2 -right-2 bg-red-600 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px] opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},g.id)),o?J.jsxs("div",{className:"flex gap-2 items-center bg-gray-800 p-1 rounded border border-gray-600 ml-2",children:[J.jsx("input",{type:"text",placeholder:"Label (e.g. Attack)",className:"bg-gray-900 px-2 py-1 text-xs rounded w-24 text-white",value:d,onChange:g=>f(g.target.value)}),J.jsx("input",{type:"text",placeholder:"Cmd (e.g. /roll 1d20+5)",className:"bg-gray-900 px-2 py-1 text-xs rounded w-32 text-white",value:b,onChange:g=>p(g.target.value)}),J.jsx("button",{onClick:G,className:"text-green-400 hover:text-green-300 px-2 text-xs font-bold",children:""}),J.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-300 px-2 text-xs",children:""})]}):J.jsx("button",{onClick:()=>u(!0),className:"ml-2 w-7 h-7 flex items-center justify-center bg-gray-800 hover:bg-gray-700 border border-gray-600 border-dashed rounded text-gray-400",title:"Add Macro",children:"+"})]})},kv=()=>{const s=$(d=>d.audio),t=$(d=>d.isHost),[n,l]=Xt.useState(""),r=Xt.useRef(null);Xt.useEffect(()=>{if(!r.current)return;const d=r.current;s.url&&s.isPlaying?(d.src!==s.url&&(d.src=s.url),d.play().catch(f=>console.error("Auto-play prevented",f))):(d.pause(),s.url||(d.src=""))},[s]);const o=()=>{n&&(St.sendAction("PLAY_AUDIO",{url:n,isPlaying:!0}),$.getState().setAudio(n,!0),l(""))},u=()=>{St.sendAction("PLAY_AUDIO",{url:null,isPlaying:!1}),$.getState().setAudio(null,!1)};return t?J.jsxs("div",{className:"mt-4 p-3 bg-gray-900 border border-gray-700 rounded-lg",children:[J.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500 mb-2 flex items-center gap-2",children:" Jukebox (Host Controls)"}),J.jsxs("div",{className:"flex flex-col gap-2",children:[J.jsx("input",{type:"text",placeholder:"Audio URL (mp3/wav)",className:"w-full bg-gray-800 border border-gray-600 px-2 py-1 rounded text-xs text-white",value:n,onChange:d=>l(d.target.value)}),J.jsxs("div",{className:"flex gap-2",children:[J.jsx("button",{onClick:o,disabled:!n,className:"flex-1 bg-green-700 hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs py-1 rounded font-bold",children:"Play"}),J.jsx("button",{onClick:u,disabled:!s.isPlaying,className:"flex-1 bg-red-700 hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-xs py-1 rounded font-bold",children:"Stop"})]}),J.jsxs("div",{className:"text-[10px] text-gray-500 mt-1 truncate",children:["Now playing: ",s.isPlaying&&s.url?s.url.split("/").pop():"None"]})]}),J.jsx("audio",{ref:r,loop:!0,hidden:!0})]}):J.jsxs("div",{className:"mt-4 p-3 bg-gray-900 border border-gray-700 rounded-lg",children:[J.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500 mb-2 flex items-center gap-2",children:" Jukebox"}),J.jsx("div",{className:"text-xs text-gray-400",children:s.isPlaying?"Playing track...":"Stopped"}),J.jsx("audio",{ref:r,loop:!0,hidden:!0})]})},Uv=()=>{const s=$(l=>l.handout),t=$(l=>l.isHost);if(!s)return null;const n=()=>{t?($.getState().setHandout(null),St.sendAction("SYNC_STATE",{handout:null})):$.getState().setHandout(null)};return J.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-8 backdrop-blur-sm",children:J.jsxs("div",{className:"relative max-w-full max-h-full",children:[J.jsxs("button",{onClick:n,className:"absolute -top-12 right-0 bg-red-600 hover:bg-red-500 text-white p-2 rounded-full shadow-lg flex items-center gap-2",children:[J.jsx(Sv,{size:24})," ",t?"Close for Everyone":"Close"]}),J.jsx("img",{src:s,alt:"Handout",className:"max-w-full max-h-[85vh] object-contain rounded-lg border-4 border-gray-700 shadow-2xl"})]})})},Mv=()=>{const[s,t]=Xt.useState(""),[n,l]=Xt.useState([]),[r,o]=Xt.useState(!1),[u,d]=Xt.useState(null),f=async()=>{if(s.trim()){o(!0);try{const y=await(await fetch(`https://www.dnd5eapi.co/api/monsters/?name=${encodeURIComponent(s)}`)).json();l(y.results||[])}catch(p){console.error("Failed to search monsters",p)}o(!1)}},b=async p=>{d(p);try{const G=await(await fetch(`https://www.dnd5eapi.co/api/monsters/${p}`)).json();let g=1;G.size==="Large"?g=2:G.size==="Huge"?g=3:G.size==="Gargantuan"&&(g=4);const S={id:Date.now().toString(),x:0,y:0,size:g,image:`https://api.dicebear.com/7.x/bottts/svg?seed=${p}`,label:G.name,stats:{hp:G.hit_points,maxHp:G.hit_points,ac:G.armor_class?.[0]?.value||10,attributes:{strength:G.strength,dexterity:G.dexterity,constitution:G.constitution,intelligence:G.intelligence,wisdom:G.wisdom,charisma:G.charisma},skills:G.proficiencies?.filter(V=>V.proficiency.index.startsWith("skill-")).reduce((V,W)=>{const T=W.proficiency.index.replace("skill-","");return V[T]=W.value,V},{})||{}}};St.sendAction("ADD_TOKEN",S)}catch(y){console.error("Failed to fetch monster detail",y)}d(null)};return J.jsxs("div",{className:"bg-gray-800 p-4 border-b border-gray-700",children:[J.jsxs("h3",{className:"font-bold text-gray-200 mb-2 flex items-center gap-2",children:[J.jsx(Wy,{size:16})," 5e Compendium"]}),J.jsxs("div",{className:"flex gap-2 mb-3",children:[J.jsx("input",{type:"text",className:"flex-1 bg-gray-900 border border-gray-700 rounded px-2 text-sm text-white",placeholder:"Search Monsters...",value:s,onChange:p=>t(p.target.value),onKeyDown:p=>p.key==="Enter"&&f()}),J.jsx("button",{onClick:f,className:"bg-purple-600 hover:bg-purple-500 rounded px-3 py-1 flex items-center justify-center",disabled:r,children:r?J.jsx(Vy,{size:16,className:"animate-spin"}):J.jsx(Wy,{size:16})})]}),J.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto pr-1",children:n.map(p=>J.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-2 rounded text-sm text-gray-300 hover:bg-gray-700",children:[J.jsx("span",{className:"truncate flex-1",children:p.name}),J.jsx("button",{onClick:()=>b(p.index),className:"text-purple-400 hover:text-purple-300 p-1",title:"Import to Map",disabled:u===p.index,children:u===p.index?J.jsx(Vy,{size:14,className:"animate-spin"}):J.jsx(sv,{size:14})})]},p.index))}),n.length===0&&s&&!r&&J.jsx("div",{className:"text-xs text-gray-500 italic mt-2",children:"No results"})]})},Kv=()=>{const[s,t]=Xt.useState(null),[n,l]=Xt.useState(!0),[r,o]=Xt.useState(!0),u=Xt.useRef(null),[d,f]=Xt.useState([]);Xt.useEffect(()=>(navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(y=>{t(y),u.current&&(u.current.srcObject=y),St.peer&&(St.peer.on("call",G=>{G.answer(y),G.on("stream",g=>{f(S=>S.some(V=>V.id===G.peer)?S:[...S,{id:G.peer,stream:g}])}),G.on("close",()=>{f(g=>g.filter(S=>S.id!==G.peer))})}),St.onPeerConnect=G=>{const g=St.peer.call(G,y);g&&(g.on("stream",S=>{f(V=>V.some(W=>W.id===G)?V:[...V,{id:G,stream:S}])}),g.on("close",()=>{f(S=>S.filter(V=>V.id!==G))}))})}).catch(y=>{console.error("Failed to get local stream",y)}),()=>{s&&s.getTracks().forEach(y=>y.stop())}),[]);const b=()=>{if(s){const y=s.getVideoTracks()[0];y&&(y.enabled=!n,l(!n))}},p=()=>{if(s){const y=s.getAudioTracks()[0];y&&(y.enabled=!r,o(!r))}};return J.jsxs("div",{className:"absolute top-4 left-64 ml-4 flex gap-2 pointer-events-auto z-40",children:[J.jsxs("div",{className:"relative group bg-gray-900 rounded-lg overflow-hidden border border-gray-700 w-32 h-24 shadow-lg",children:[J.jsx("video",{ref:u,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-x-[-1]"}),J.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-1 bg-black/60 flex justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[J.jsx("button",{onClick:p,className:`p-1 rounded ${r?"bg-gray-600 hover:bg-gray-500":"bg-red-600 hover:bg-red-500"}`,children:r?J.jsx(hv,{size:14}):J.jsx(uv,{size:14})}),J.jsx("button",{onClick:b,className:`p-1 rounded ${n?"bg-gray-600 hover:bg-gray-500":"bg-red-600 hover:bg-red-500"}`,children:n?J.jsx(Rv,{size:14}):J.jsx(gv,{size:14})})]})]}),d.map(y=>J.jsx("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden border border-gray-700 w-32 h-24 shadow-lg",children:J.jsx("video",{autoPlay:!0,playsInline:!0,ref:G=>{G&&(G.srcObject=y.stream)},className:"w-full h-full object-cover"})},y.id))]})},Pv=()=>{const s=$(l=>l.activeTool),t=$(l=>l.toolColor),n=$(l=>l.toolThickness);return J.jsxs("div",{className:"mt-4 p-2 bg-gray-900 border border-gray-700 rounded-lg space-y-2",children:[J.jsxs("h3",{className:"text-xs font-bold uppercase text-gray-500 flex items-center justify-between",children:[" Drawing Tools",J.jsx("button",{onClick:()=>{$.getState().clearDrawings(),St.sendAction("SYNC_STATE",{drawings:[]})},className:"text-[10px] bg-red-900 text-red-200 px-1.5 py-0.5 rounded hover:bg-red-800",children:"Clear All"})]}),J.jsxs("div",{className:"flex gap-2 mb-2",children:[J.jsx("button",{onClick:()=>$.getState().setActiveTool("pan"),className:`flex-1 text-xs py-1 rounded font-bold ${s==="pan"?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"}`,children:" Pan"}),J.jsx("button",{onClick:()=>$.getState().setActiveTool("draw"),className:`flex-1 text-xs py-1 rounded font-bold ${s==="draw"?"bg-blue-600":"bg-gray-700 hover:bg-gray-600"}`,children:" Draw"}),J.jsx("button",{onClick:()=>$.getState().setActiveTool("text"),className:`flex-1 text-xs py-1 rounded font-bold ${s==="text"?"bg-pink-600":"bg-gray-700 hover:bg-gray-600"}`,children:" Text"})]}),J.jsx("h4",{className:"text-[10px] font-bold text-gray-400 mt-2 mb-1 uppercase",children:"AoE Templates"}),J.jsxs("div",{className:"flex gap-1",children:[J.jsx("button",{onClick:()=>$.getState().setActiveTool("circle"),className:`flex-1 text-xs py-1 rounded font-bold ${s==="circle"?"bg-orange-600":"bg-gray-700 hover:bg-gray-600"}`,children:" Circle"}),J.jsx("button",{onClick:()=>$.getState().setActiveTool("cone"),className:`flex-1 text-xs py-1 rounded font-bold ${s==="cone"?"bg-orange-600":"bg-gray-700 hover:bg-gray-600"}`,children:" Cone"}),J.jsx("button",{onClick:()=>$.getState().setActiveTool("cube"),className:`flex-1 text-xs py-1 rounded font-bold ${s==="cube"?"bg-orange-600":"bg-gray-700 hover:bg-gray-600"}`,children:" Cube"})]}),s!=="pan"&&J.jsxs("div",{className:"flex gap-2 items-center mt-2",children:[J.jsx("input",{type:"color",value:t,onChange:l=>$.getState().setToolColor(l.target.value),className:"w-8 h-8 rounded cursor-pointer bg-transparent border-none p-0"}),J.jsx("input",{type:"range",min:"1",max:"10",value:n,onChange:l=>$.getState().setToolThickness(parseInt(l.target.value)),className:"flex-1"})]}),J.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:["Hold ",J.jsx("kbd",{className:"bg-gray-800 px-1 rounded",children:"Alt"})," and drag for Ruler."]})]})},jv=()=>{const s=$(r=>r.isHost),t=$(r=>r.map.fogEnabled),n=$(r=>r.map.dynamicLightingEnabled),l=$(r=>r.activeTool);return s?J.jsxs(J.Fragment,{children:[J.jsxs("label",{className:"text-left px-3 py-2 bg-indigo-900/50 hover:bg-indigo-800 rounded text-sm transition-colors cursor-pointer block border border-indigo-700 font-bold mt-4",children:[J.jsx("span",{children:" Share Handout"}),J.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:r=>{const o=r.target.files?.[0];if(o){const u=new FileReader;u.onload=d=>{const f=d.target?.result;$.getState().setHandout(f),St.sendAction("SYNC_STATE",{handout:f})},u.readAsDataURL(o)}r.target.value=""}})]}),J.jsxs("div",{className:"mt-4 p-2 bg-gray-900 border border-gray-700 rounded-lg space-y-2",children:[J.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500 flex items-center gap-2",children:" Fog of War"}),J.jsxs("div",{className:"flex gap-2",children:[J.jsx("button",{onClick:()=>{const r=!$.getState().map.fogEnabled;$.getState().toggleFog(r),St.sendAction("SYNC_STATE",{map:$.getState().map})},className:`flex-1 text-xs py-1 rounded font-bold ${t?"bg-red-700 hover:bg-red-600":"bg-green-700 hover:bg-green-600"}`,children:t?"Disable Fog":"Enable Fog"}),J.jsx("button",{onClick:()=>{$.getState().resetFog(),St.sendAction("SYNC_STATE",{map:$.getState().map})},className:"flex-1 text-xs py-1 rounded font-bold bg-gray-700 hover:bg-gray-600 text-white",children:"Reset Vision"})]}),J.jsxs("p",{className:"text-[10px] text-gray-500",children:["Hold ",J.jsx("kbd",{className:"bg-gray-800 px-1 rounded",children:"Shift"})," and drag on map to reveal areas."]})]}),J.jsxs("div",{className:"mt-4 p-2 bg-gray-900 border border-yellow-700 rounded-lg space-y-2 flex flex-col",children:[J.jsxs("h3",{className:"text-xs font-bold uppercase text-yellow-500 flex items-center justify-between",children:[" Dynamic Lighting",J.jsx("button",{onClick:()=>{$.getState().clearWalls(),St.sendAction("SYNC_STATE",{walls:[]})},className:"text-[10px] bg-red-900 text-red-200 px-1.5 py-0.5 rounded hover:bg-red-800",children:"Clear Walls"})]}),J.jsx("div",{className:"flex gap-2",children:J.jsx("button",{onClick:()=>{const r=!$.getState().map.dynamicLightingEnabled;$.getState().toggleDynamicLighting(r),St.sendAction("SYNC_STATE",{map:$.getState().map})},className:`flex-1 text-xs py-1 rounded font-bold ${n?"bg-red-700 hover:bg-red-600 text-white":"bg-green-700 hover:bg-green-600 text-white"}`,children:n?"Disable Lighting":"Enable Lighting"})}),J.jsxs("div",{className:"flex gap-2 mt-1",children:[J.jsx("button",{onClick:()=>$.getState().setActiveTool("wall"),className:`flex-1 text-xs py-1 rounded font-bold ${l==="wall"?"bg-yellow-600 text-white":"bg-gray-700 hover:bg-gray-600"}`,children:" Draw Walls"}),J.jsx("button",{onClick:()=>$.getState().setActiveTool("door"),className:`flex-1 text-xs py-1 rounded font-bold ${l==="door"?"bg-amber-500 text-black":"bg-gray-700 hover:bg-gray-600"}`,children:" Draw Door"})]}),J.jsx("p",{className:"text-[10px] text-gray-400",children:"Lines drawn will block vision for all tokens."})]})]}):null},Qv=()=>{const s=$(o=>o.isHost),t=$(o=>o.scenes),n=$(o=>o.activeSceneId),[l,r]=Xt.useState("");return s?J.jsxs("div",{className:"mt-4 p-2 bg-gray-900 border border-purple-700 rounded-lg space-y-2",children:[J.jsx("h3",{className:"text-xs font-bold uppercase text-purple-400",children:" Scene Manager"}),J.jsxs("div",{className:"flex gap-1",children:[J.jsx("input",{type:"text",placeholder:"New Scene Name...",className:"flex-1 px-2 py-1 bg-gray-800 border border-gray-600 rounded text-xs text-white",value:l,onChange:o=>r(o.target.value)}),J.jsx("button",{onClick:()=>{if(!l.trim())return;$.getState().saveScene(l.trim()),r("");const o=$.getState();St.sendAction("SYNC_STATE",{scenes:o.scenes,activeSceneId:o.activeSceneId})},className:"px-2 py-1 bg-purple-600 hover:bg-purple-500 rounded text-xs font-bold",children:"Save"})]}),J.jsx("div",{className:"flex flex-col gap-1 max-h-32 overflow-y-auto pr-1",children:t.map(o=>J.jsx("button",{onClick:()=>{$.getState().loadScene(o.id);const u=$.getState();St.sendAction("SYNC_STATE",{activeSceneId:u.activeSceneId,map:u.map,tokens:u.tokens,drawings:u.drawings,walls:u.walls})},className:`text-left px-2 py-1 text-xs rounded transition-colors truncate ${n===o.id?"bg-purple-800 font-bold":"bg-gray-700 hover:bg-gray-600"}`,children:o.name},o.id))})]}):null},Iv=()=>{const s=$(n=>n.isHost),t=$(n=>n.savedAssets);return s?J.jsxs("div",{className:"mt-4 p-2 bg-gray-900 border border-emerald-700 rounded-lg space-y-2",children:[J.jsxs("h3",{className:"text-xs font-bold uppercase text-emerald-400 flex justify-between items-center",children:[" Asset Library",J.jsxs("label",{className:"text-[10px] bg-emerald-700 text-white px-1.5 py-0.5 rounded hover:bg-emerald-600 cursor-pointer",children:["+ Upload",J.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:n=>{const l=n.target.files?.[0];if(l){const r=new FileReader;r.onload=o=>{const u=o.target?.result,d={id:Date.now().toString(),name:l.name.split(".")[0],imageUrl:u,defaultSize:1};$.getState().addSavedAsset(d),St.sendAction("SYNC_STATE",{savedAssets:$.getState().savedAssets})},r.readAsDataURL(l)}n.target.value=""}})]})]}),t.length===0?J.jsx("p",{className:"text-[10px] text-gray-500 italic",children:"No saved assets. Upload images to create a quick-drop library."}):J.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-40 overflow-y-auto p-1",children:t.map(n=>J.jsxs("div",{className:"relative group cursor-pointer",children:[J.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full aspect-square object-cover rounded hover:ring-2 ring-emerald-500 transition-all",title:`Click to drop ${n.name}`,onClick:()=>{const l={id:Date.now().toString(),x:Math.floor($.getState().map.offsetX/-50)+3,y:Math.floor($.getState().map.offsetY/-50)+3,size:n.defaultSize,image:n.imageUrl,label:n.name,stats:{hp:10,maxHp:10,ac:10}};St.sendAction("ADD_TOKEN",l)}}),J.jsx("button",{className:"absolute -top-1 -right-1 bg-red-600 text-white rounded-full w-4 h-4 text-[10px] items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity flex",onClick:l=>{l.stopPropagation(),$.getState().removeSavedAsset(n.id),St.sendAction("SYNC_STATE",{savedAssets:$.getState().savedAssets})},children:""})]},n.id))})]}):null},Av=()=>J.jsxs("div",{className:"border-t border-gray-700 my-2 pt-2 space-y-2",children:[J.jsx("button",{className:"w-full text-left px-3 py-2 bg-green-900/50 hover:bg-green-800 rounded text-sm transition-colors text-green-100 flex items-center gap-2",onClick:()=>{const s=$.getState(),t={tokens:s.tokens,map:s.map,chat:s.chat,turnOrder:s.turnOrder,version:1},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),l=URL.createObjectURL(n),r=document.createElement("a");r.href=l,r.download=`vtt-save-${new Date().toISOString().slice(0,10)}.json`,r.click(),URL.revokeObjectURL(l)},children:" Save Campaign"}),J.jsxs("label",{className:"w-full text-left px-3 py-2 bg-blue-900/50 hover:bg-blue-800 rounded text-sm transition-colors text-blue-100 flex items-center gap-2 cursor-pointer block",children:[J.jsx("span",{children:" Load Campaign"}),J.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:s=>{const t=s.target.files?.[0];if(!t)return;const n=new FileReader;n.onload=l=>{try{const r=JSON.parse(l.target?.result);$.getState().syncState(r),alert("Campaign loaded successfully!")}catch{alert("Failed to load campaign file.")}},n.readAsText(t),s.target.value=""}})]})]});function Dv(){const[s,t]=Xt.useState(""),[n,l]=Xt.useState(null),r=$(f=>f.myId),o=$(f=>f.setIdentity);Xt.useEffect(()=>{St.initialize().then(f=>{o(f,!0)}).catch(console.error),kc.init().catch(console.error)},[]);const u=()=>{s&&(o(r,!1),St.connectToHost(s))},d=()=>{const f={id:Date.now().toString(),x:3,y:3,size:1,image:"",label:"Hero",stats:{hp:20,maxHp:20,ac:14}};St.sendAction("ADD_TOKEN",f)};return J.jsxs("div",{className:"flex h-screen w-screen bg-gray-900 text-white overflow-hidden font-sans",children:[J.jsx("div",{id:"dice-box-container",className:"fixed inset-0 pointer-events-none z-50"}),J.jsxs("div",{className:"w-64 bg-gray-800 flex flex-col border-r border-gray-700 z-10 shadow-xl",children:[J.jsxs("div",{className:"p-4 border-b border-gray-700",children:[J.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent mb-4",children:"VTT RPG"}),J.jsxs("div",{className:"p-3 bg-gray-700 rounded-lg text-sm",children:[J.jsxs("div",{className:"mb-2",children:[J.jsx("span",{className:"text-gray-400",children:"My ID:"}),J.jsx("code",{className:"block mt-1 p-1 bg-black rounded select-all text-xs break-all cursor-pointer hover:bg-gray-900",title:"Click to Copy",onClick:()=>navigator.clipboard.writeText(r),children:r})]}),J.jsxs("div",{className:"flex gap-2",children:[J.jsx("input",{type:"text",placeholder:"Host ID to join...",className:"flex-1 px-2 py-1 bg-gray-900 rounded border border-gray-600 text-xs text-white",value:s,onChange:f=>t(f.target.value)}),J.jsx("button",{onClick:u,className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 rounded text-xs font-bold",children:"Join"})]})]})]}),J.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[J.jsx("h2",{className:"text-xs font-bold uppercase text-gray-500 mb-2",children:"Tools"}),J.jsxs("div",{className:"flex flex-col gap-2",children:[J.jsxs("label",{className:"text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm transition-colors cursor-pointer block",children:[J.jsx("span",{children:"Upload Map"}),J.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:f=>{const b=f.target.files?.[0];if(b){const p=new FileReader;p.onload=y=>{const G=y.target?.result;St.sendAction("UPDATE_MAP",{url:G})},p.readAsDataURL(b)}f.target.value=""}})]}),J.jsxs("label",{className:"text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm transition-colors cursor-pointer block",children:[J.jsx("span",{children:"Add Token (Image)"}),J.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:f=>{const b=f.target.files?.[0];if(b){const p=new FileReader;p.onload=y=>{const G=y.target?.result,g={id:Date.now().toString(),x:3,y:3,size:1,image:G,label:"Token",stats:{hp:10,maxHp:10,ac:10}};St.sendAction("ADD_TOKEN",g)},p.readAsDataURL(b)}f.target.value=""}})]}),J.jsx("button",{className:"text-left px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm transition-colors",onClick:d,children:"Add Basic Token"}),J.jsx(Pv,{}),J.jsx(jv,{}),J.jsx(Qv,{}),J.jsx(Iv,{}),$.getState().isHost&&J.jsx("div",{className:"mt-4",children:J.jsx(Mv,{})}),J.jsxs("div",{className:"mt-4 p-2 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-200",children:[J.jsx("p",{children:"Debug Info:"}),J.jsxs("p",{children:["Connected: ",St.hostConnection?"Yes":"No"]})]}),J.jsx(kv,{}),J.jsx(Av,{})]})]})]}),J.jsxs("div",{className:"flex-1 relative bg-black overflow-hidden flex flex-col",children:[J.jsxs("div",{className:"flex-1 relative",children:[J.jsx(QR,{onEditToken:l}),J.jsx(Kv,{}),J.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:J.jsx("div",{className:"pointer-events-auto p-4 flex flex-col items-start gap-4",children:J.jsx(zv,{})})})]}),J.jsx(Ev,{})]}),J.jsx(_v,{}),J.jsx(Uv,{}),n&&J.jsx(Bv,{tokenId:n,onClose:()=>l(null)})]})}mx.createRoot(document.getElementById("root")).render(J.jsx(Ya.StrictMode,{children:J.jsx(Dv,{})}));export{Uc as $,vX as A,nn as B,ge as C,mn as D,Qt as E,Wn as F,$c as G,ky as H,Tn as I,Iy as J,pp as K,xl as L,Ht as M,Ng as N,kg as O,ze as P,Aa as Q,lh as R,Lh as S,xc as T,eh as U,me as V,sG as W,Xp as X,Nd as Y,Zp as Z,og as _,hX as a,Ge as a0,rg as a1,Ky as a2,SX as a3,Ut as a4,oe as a5,uG as a6,TG as a7,YG as a8,t2 as a9,n2 as aa,o2 as ab,r2 as ac,u2 as ad,CX as ae,ps as af,Mc as ag,ry as ah,jc as ai,hG as aj,bs as ak,BX as al,Fp as am,Hp as an,re as ao,Jx as ap,dy as aq,UX as ar,jn as b,h2 as c,SG as d,Yn as e,Tp as f,GG as g,Pa as h,Jc as i,Jh as j,gX as k,eX as l,Fn as m,pX as n,fh as o,$G as p,e2 as q,Kx as r,c2 as s,s2 as t,ue as u,Mt as v,Pe as w,Cx as x,qv as y,d2 as z};
